<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.1.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Function Documentation (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Function Documentation (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Function Documentation (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Lambda-Expressions.html" rel="up" title="Lambda Expressions">
<link href="Argument-List.html" rel="prev" title="Argument List">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
ul.mark-minus {list-style-type: "\2212"}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Function-Documentation">
<div class="nav-panel">
<p>
Previous: <a href="Argument-List.html" accesskey="p" rel="prev">Features of Argument Lists</a>, Up: <a href="Lambda-Expressions.html" accesskey="u" rel="up">Lambda Expressions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Documentation-Strings-of-Functions"><span>13.2.4 Documentation Strings of Functions<a class="copiable-link" href="#Documentation-Strings-of-Functions"> &para;</a></span></h4>
<a class="index-entry-id" id="index-documentation-string-of-function"></a>
<a class="index-entry-id" id="index-function_0027s-documentation-string"></a>

<p>A lambda expression may optionally have a <em class="dfn">documentation string</em>
just after the lambda list.  This string does not affect execution of
the function; it is a kind of comment, but a systematized comment
which actually appears inside the Lisp world and can be used by the
Emacs help facilities.  See <a class="xref" href="Documentation.html">Documentation</a>, for how the
documentation string is accessed.
</p>
<p>It is a good idea to provide documentation strings for all the
functions in your program, even those that are called only from within
your program.  Documentation strings are like comments, except that they
are easier to access.
</p>
<p>The first line of the documentation string should stand on its own,
because <code class="code">apropos</code> displays just this first line.  It should consist
of one or two complete sentences that summarize the function&rsquo;s purpose.
</p>
<p>The start of the documentation string is usually indented in the
source file, but since these spaces come before the starting
double-quote, they are not part of the string.  Some people make a
practice of indenting any additional lines of the string so that the
text lines up in the program source.  <em class="emph">That is a mistake.</em>  The
indentation of the following lines is inside the string; what looks
nice in the source code will look ugly when displayed by the help
commands.
</p>
<p>A documentation string must always be followed by at least one Lisp
expression; otherwise, it is not a documentation string at all but the
single expression of the body and used as the return value.
When there is no meaningful value to return from a function, it is
standard practice to return <code class="code">nil</code> by adding it after the
documentation string.
</p>
<p>The last line of the documentation string can specify calling
conventions different from the actual function arguments.  Write
text like this:
</p>
<div class="example">
<pre class="example-preformatted">\(fn <var class="var">arglist</var>)
</pre></div>

<p>following a blank line, at the beginning of the line, with no newline
following it inside the documentation string.  (The &lsquo;<samp class="samp">\</samp>&rsquo; is used
to avoid confusing the Emacs motion commands.)  The calling convention
specified in this way appears in help messages in place of the one
derived from the actual arguments of the function.
</p>
<p>This feature is particularly useful for macro definitions, since the
arguments written in a macro definition often do not correspond to the
way users think of the parts of the macro call.
</p>
<p>Do not use this feature if you want to deprecate the calling
convention and favor the one you advertise by the above specification.
Instead, use the <code class="code">advertised-calling-convention</code> declaration
(see <a class="pxref" href="Declare-Form.html">The <code class="code">declare</code> Form</a>) or <code class="code">set-advertised-calling-convention</code>
(see <a class="pxref" href="Obsolete-Functions.html">Declaring Functions Obsolete</a>), because these two will cause the byte
compiler emit a warning message when it compiles Lisp programs which
use the deprecated calling convention.
</p>
<p>The <code class="code">(fn)</code> feature is typically used in the following situations:
</p>
<ul class="itemize mark-minus">
<li>To spell out arguments and their purposes in a macro or a function.  Example:

<div class="example">
<pre class="example-preformatted">(defmacro lambda (&amp;rest cdr)
  &quot;...
\(fn ARGS [DOCSTRING] [INTERACTIVE] BODY)&quot;...)
</pre></div>

</li><li>To provide a more detailed description and names of arguments.  Example:

<div class="example">
<pre class="example-preformatted">(defmacro macroexp--accumulate (var+list &amp;rest body)
  &quot;...
\(fn (VAR LIST) BODY...)&quot;
  (declare (indent 1))
  (let ((var (car var+list))
	  (list (cadr var+list))
...)))
</pre></div>

</li><li>To better explain the purpose of a <code class="code">defalias</code>.  Example:

<div class="example">
<pre class="example-preformatted">(defalias 'abbrev-get 'get
  &quot;...
\(fn ABBREV PROP)&quot;)
</pre></div>
</li></ul>

<a class="index-entry-id" id="index-computed-documentation-string"></a>
<a class="index-entry-id" id="index-_003adocumentation"></a>
<p>Documentation strings are usually static, but occasionally it can be
necessary to generate them dynamically.  In some cases you can do so
by writing a macro which generates at compile time the code of the
function, including the desired documentation string.  But you can
also generate the docstring dynamically by writing
<code class="code">(:documentation <var class="var">form</var>)</code> instead of the documentation
string.  This will evaluate <var class="var">form</var> at run-time when the function
is defined and use it as the documentation string<a class="footnote" id="DOCF13" href="#FOOT13"><sup>13</sup></a>.  You can also compute
the documentation string on the fly when it is requested, by setting
the <code class="code">function-documentation</code> property of the function&rsquo;s symbol to
a Lisp form that evaluates to a string.
</p>
<p>For example:
</p><div class="example">
<div class="group"><pre class="example-preformatted">(defun adder (x)
  (lambda (y)
    (:documentation (format &quot;Add %S to the argument Y.&quot; x))
    (+ x y)))
(defalias 'adder5 (adder 5))
(documentation 'adder5)
    &rArr; &quot;Add 5 to the argument Y.&quot;
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(put 'adder5 'function-documentation
     '(concat (documentation (symbol-function 'adder5) 'raw)
              &quot;  Consulted at &quot; (format-time-string &quot;%H:%M:%S&quot;)))
(documentation 'adder5)
    &rArr; &quot;Add 5 to the argument Y.  Consulted at 15:52:13&quot;
(documentation 'adder5)
    &rArr; &quot;Add 5 to the argument Y.  Consulted at 15:52:18&quot;
</pre></div></div>

</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT13" href="#DOCF13">(13)</a></h5>
<p>This only
works in code using <code class="code">lexical-binding</code>.</p>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Argument-List.html">Features of Argument Lists</a>, Up: <a href="Lambda-Expressions.html">Lambda Expressions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
