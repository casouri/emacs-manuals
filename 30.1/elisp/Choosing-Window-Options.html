<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.1.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Choosing Window Options (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Choosing Window Options (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Choosing Window Options (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Displaying-Buffers.html" rel="up" title="Displaying Buffers">
<link href="Precedence-of-Action-Functions.html" rel="next" title="Precedence of Action Functions">
<link href="Buffer-Display-Action-Alists.html" rel="prev" title="Buffer Display Action Alists">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Choosing-Window-Options">
<div class="nav-panel">
<p>
Next: <a href="Precedence-of-Action-Functions.html" accesskey="n" rel="next">Precedence of Action Functions</a>, Previous: <a href="Buffer-Display-Action-Alists.html" accesskey="p" rel="prev">Action Alists for Buffer Display</a>, Up: <a href="Displaying-Buffers.html" accesskey="u" rel="up">Displaying a Buffer in a Suitable Window</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Additional-Options-for-Displaying-Buffers"><span>29.13.4 Additional Options for Displaying Buffers<a class="copiable-link" href="#Additional-Options-for-Displaying-Buffers"> &para;</a></span></h4>

<p>The behavior of buffer display actions (see <a class="pxref" href="Choosing-Window.html">Choosing a Window for Displaying a Buffer</a>) can
be further modified by the following user options.
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-pop_002dup_002dwindows"><span class="category-def">User Option: </span><span><strong class="def-name">pop-up-windows</strong><a class="copiable-link" href="#index-pop_002dup_002dwindows"> &para;</a></span></dt>
<dd><p>If the value of this variable is non-<code class="code">nil</code>, <code class="code">display-buffer</code>
is allowed to split an existing window to make a new window for
displaying in.  This is the default.
</p>
<p>This variable is provided for backward compatibility only.  It is
obeyed by <code class="code">display-buffer</code> via a special mechanism in
<code class="code">display-buffer-fallback-action</code>, which calls the action function
<code class="code">display-buffer-pop-up-window</code> (see <a class="pxref" href="Buffer-Display-Action-Functions.html">Action Functions for Buffer Display</a>) when the value of this option is non-<code class="code">nil</code>.  It is
not consulted by <code class="code">display-buffer-pop-up-window</code> itself, which the
user may specify directly in <code class="code">display-buffer-alist</code> etc.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-split_002dwindow_002dpreferred_002dfunction"><span class="category-def">User Option: </span><span><strong class="def-name">split-window-preferred-function</strong><a class="copiable-link" href="#index-split_002dwindow_002dpreferred_002dfunction"> &para;</a></span></dt>
<dd><p>This variable specifies a function for splitting a window, in order to
make a new window for displaying a buffer.  It is used by the
<code class="code">display-buffer-pop-up-window</code> action function to actually split
the window.
</p>
<p>The value must be a function that takes one argument, a window, and
returns either a new window (which will be used to display the desired
buffer) or <code class="code">nil</code> (which means the splitting failed).  The default
value is <code class="code">split-window-sensibly</code>, which is documented next.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-split_002dwindow_002dsensibly"><span class="category-def">Function: </span><span><strong class="def-name">split-window-sensibly</strong> <var class="def-var-arguments">&amp;optional window</var><a class="copiable-link" href="#index-split_002dwindow_002dsensibly"> &para;</a></span></dt>
<dd><p>This function tries to split <var class="var">window</var> and return the newly created
window.  If <var class="var">window</var> cannot be split, it returns <code class="code">nil</code>.  If
<var class="var">window</var> is omitted or <code class="code">nil</code>, it defaults to the selected
window.
</p>
<p>This function obeys the usual rules that determine when a window may
be split (see <a class="pxref" href="Splitting-Windows.html">Splitting Windows</a>).  It first tries to split by
placing the new window below, subject to the restriction imposed by
<code class="code">split-height-threshold</code> (see below), in addition to any other
restrictions.  If that fails, it tries to split by placing the new
window to the right, subject to <code class="code">split-width-threshold</code> (see
below).  If that also fails, and the window is the only window on its
frame, this function again tries to split and place the new window
below, disregarding <code class="code">split-height-threshold</code>.  If this fails as
well, this function gives up and returns <code class="code">nil</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-split_002dheight_002dthreshold"><span class="category-def">User Option: </span><span><strong class="def-name">split-height-threshold</strong><a class="copiable-link" href="#index-split_002dheight_002dthreshold"> &para;</a></span></dt>
<dd><p>This variable specifies whether <code class="code">split-window-sensibly</code> is
allowed to split the window placing the new window below.  If it is an
integer, that means to split only if the original window has at least
that many lines.  If it is <code class="code">nil</code>, that means not to split this
way.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-split_002dwidth_002dthreshold"><span class="category-def">User Option: </span><span><strong class="def-name">split-width-threshold</strong><a class="copiable-link" href="#index-split_002dwidth_002dthreshold"> &para;</a></span></dt>
<dd><p>This variable specifies whether <code class="code">split-window-sensibly</code> is
allowed to split the window placing the new window to the right.  If
the value is an integer, that means to split only if the original
window has at least that many columns.  If the value is <code class="code">nil</code>,
that means not to split this way.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-even_002dwindow_002dsizes"><span class="category-def">User Option: </span><span><strong class="def-name">even-window-sizes</strong><a class="copiable-link" href="#index-even_002dwindow_002dsizes"> &para;</a></span></dt>
<dd><p>This variable, if non-<code class="code">nil</code>, causes <code class="code">display-buffer</code> to even
window sizes whenever it reuses an existing window, and that window is
adjacent to the selected one.
</p>
<p>If its value is <code class="code">width-only</code>, sizes are evened only if the reused
window is on the left or right of the selected one and the selected
window is wider than the reused one.  If its value is <code class="code">height-only</code>
sizes are evened only if the reused window is above or beneath the
selected window and the selected window is higher than the reused one.
Any other non-<code class="code">nil</code> value means to even sizes in any of these cases
provided the selected window is larger than the reused one in the sense
of their combination.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-pop_002dup_002dframes"><span class="category-def">User Option: </span><span><strong class="def-name">pop-up-frames</strong><a class="copiable-link" href="#index-pop_002dup_002dframes"> &para;</a></span></dt>
<dd><p>If the value of this variable is non-<code class="code">nil</code>, that means
<code class="code">display-buffer</code> may display buffers by making new frames.  The
default is <code class="code">nil</code>.
</p>
<p>A non-<code class="code">nil</code> value also means that when <code class="code">display-buffer</code> is
looking for a window already displaying <var class="var">buffer-or-name</var>, it can
search any visible or iconified frame, not just the selected frame.
</p>
<p>An entry by the same name in <code class="code">display-buffer</code>&rsquo;s <var class="var">alist</var>
takes precedence over the variable.
</p>
<p>This variable is provided mainly for backward compatibility.  It is
obeyed by <code class="code">display-buffer</code> via a special mechanism in
<code class="code">display-buffer-fallback-action</code>, which calls the action function
<code class="code">display-buffer-pop-up-frame</code> (see <a class="pxref" href="Buffer-Display-Action-Functions.html">Action Functions for Buffer Display</a>) if the value is non-<code class="code">nil</code>.  (This is done before
attempting to split a window.)  This variable is not consulted by
<code class="code">display-buffer-pop-up-frame</code> itself, which the user may specify
directly in <code class="code">display-buffer-alist</code> etc.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-pop_002dup_002dframe_002dfunction"><span class="category-def">User Option: </span><span><strong class="def-name">pop-up-frame-function</strong><a class="copiable-link" href="#index-pop_002dup_002dframe_002dfunction"> &para;</a></span></dt>
<dd><p>This variable specifies a function for creating a new frame, in order
to make a new window for displaying a buffer.  It is used by the
<code class="code">display-buffer-pop-up-frame</code> action function.
</p>
<p>The value should be a function that takes no arguments and returns a
frame, or <code class="code">nil</code> if no frame could be created.  The default value
is a function that creates a frame using the parameters specified by
<code class="code">pop-up-frame-alist</code> (see below).
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-pop_002dup_002dframe_002dalist"><span class="category-def">User Option: </span><span><strong class="def-name">pop-up-frame-alist</strong><a class="copiable-link" href="#index-pop_002dup_002dframe_002dalist"> &para;</a></span></dt>
<dd><p>This variable holds an alist of frame parameters (see <a class="pxref" href="Frame-Parameters.html">Frame Parameters</a>), which is used by the function specified by
<code class="code">pop-up-frame-function</code> to make a new frame.  The default is
<code class="code">nil</code>.
</p>
<p>This option is provided for backward compatibility only.  Note, that
when <code class="code">display-buffer-pop-up-frame</code> calls the function specified
by <code class="code">pop-up-frame-function</code>, it prepends the value of all
<code class="code">pop-up-frame-parameters</code> action alist entries to
<code class="code">pop-up-frame-alist</code> so that the values specified by the action
alist entry effectively override any corresponding values of
<code class="code">pop-up-frame-alist</code>.
</p>
<p>Hence, users should set up a <code class="code">pop-up-frame-parameters</code> action
alist entry in <code class="code">display-buffer-alist</code> instead of customizing
<code class="code">pop-up-frame-alist</code>.  Only this will guarantee that the value of
a parameter specified by the user overrides the value of that
parameter specified by the caller of <code class="code">display-buffer</code>.
</p></dd></dl>

<p>Many efforts in the design of <code class="code">display-buffer</code> have been given
to maintain compatibility with code that uses older options like
<code class="code">pop-up-windows</code>, <code class="code">pop-up-frames</code>,
<code class="code">pop-up-frame-alist</code>, <code class="code">same-window-buffer-names</code> and
<code class="code">same-window-regexps</code>.  Lisp Programs and users should refrain
from using these options.  Above we already warned against customizing
<code class="code">pop-up-frame-alist</code>.  Here we describe how to convert the
remaining options to use display actions instead.
</p>
<dl class="table">
<dt><a id="index-pop_002dup_002dwindows_002c-replacement-for"></a><span><code class="code">pop-up-windows</code><a class="copiable-link" href="#index-pop_002dup_002dwindows_002c-replacement-for"> &para;</a></span></dt>
<dd><p>This variable is <code class="code">t</code> by default.  Instead of customizing it to
<code class="code">nil</code> and thus telling <code class="code">display-buffer</code> what not to do, it&rsquo;s
much better to list in <code class="code">display-buffer-base-action</code> the action
functions it should try instead as, for example:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(setopt
 display-buffer-base-action
 '((display-buffer-reuse-window display-buffer-same-window
    display-buffer-in-previous-window
    display-buffer-use-some-window)))
</pre></div></div>

</dd>
<dt><a id="index-pop_002dup_002dframes_002c-replacement-for"></a><span><code class="code">pop-up-frames</code><a class="copiable-link" href="#index-pop_002dup_002dframes_002c-replacement-for"> &para;</a></span></dt>
<dd><p>Instead of customizing this variable to <code class="code">t</code>, you can customize
<code class="code">display-buffer-base-action</code>, for example, as follows:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(setopt display-buffer-base-action '(nil (pop-up-frames . t)))
</pre></div></div>

</dd>
<dt><a class="index-entry-id" id="index-same_002dwindow_002dregexps_002c-replacement-for"></a>
<a id="index-same_002dwindow_002dbuffer_002dnames_002c-replacement-for"></a><span><code class="code">same-window-buffer-names</code><a class="copiable-link" href="#index-same_002dwindow_002dbuffer_002dnames_002c-replacement-for"> &para;</a></span></dt>
<dt><code class="code">same-window-regexps</code></dt>
<dd><p>Instead of adding a buffer name or a regular expression to one of
these options use a <code class="code">display-buffer-alist</code> entry for that buffer
specifying the action function <code class="code">display-buffer-same-window</code>.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(setopt
 display-buffer-alist
 (cons '(&quot;\\*foo\\*&quot; (display-buffer-same-window))
        display-buffer-alist))
</pre></div></div>
</dd>
</dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Precedence-of-Action-Functions.html">Precedence of Action Functions</a>, Previous: <a href="Buffer-Display-Action-Alists.html">Action Alists for Buffer Display</a>, Up: <a href="Displaying-Buffers.html">Displaying a Buffer in a Suitable Window</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
