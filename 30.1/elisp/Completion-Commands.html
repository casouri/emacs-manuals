<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.1.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Completion Commands (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Completion Commands (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Completion Commands (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Completion.html" rel="up" title="Completion">
<link href="High_002dLevel-Completion.html" rel="next" title="High-Level Completion">
<link href="Minibuffer-Completion.html" rel="prev" title="Minibuffer Completion">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Completion-Commands">
<div class="nav-panel">
<p>
Next: <a href="High_002dLevel-Completion.html" accesskey="n" rel="next">High-Level Completion Functions</a>, Previous: <a href="Minibuffer-Completion.html" accesskey="p" rel="prev">Completion and the Minibuffer</a>, Up: <a href="Completion.html" accesskey="u" rel="up">Completion</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Minibuffer-Commands-that-Do-Completion"><span>21.6.3 Minibuffer Commands that Do Completion<a class="copiable-link" href="#Minibuffer-Commands-that-Do-Completion"> &para;</a></span></h4>

<p>This section describes the keymaps, commands and user options used
in the minibuffer to do completion.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dcompletion_002dtable"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-completion-table</strong><a class="copiable-link" href="#index-minibuffer_002dcompletion_002dtable"> &para;</a></span></dt>
<dd><p>The value of this variable is the completion table (see <a class="pxref" href="Basic-Completion.html">Basic Completion Functions</a>) used for completion in the minibuffer.  This is the
buffer-local variable that contains what <code class="code">completing-read</code> passes to
<code class="code">try-completion</code>.  It is used by minibuffer completion commands
such as <code class="code">minibuffer-complete</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dcompletion_002dpredicate"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-completion-predicate</strong><a class="copiable-link" href="#index-minibuffer_002dcompletion_002dpredicate"> &para;</a></span></dt>
<dd><p>This variable&rsquo;s value is the predicate that <code class="code">completing-read</code>
passes to <code class="code">try-completion</code>.  The variable is also used by the other
minibuffer completion functions.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dcompletion_002dconfirm"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-completion-confirm</strong><a class="copiable-link" href="#index-minibuffer_002dcompletion_002dconfirm"> &para;</a></span></dt>
<dd><p>This variable determines whether Emacs asks for confirmation before
exiting the minibuffer; <code class="code">completing-read</code> sets this variable,
and the function <code class="code">minibuffer-complete-and-exit</code> checks the value
before exiting.  If the value is <code class="code">nil</code>, confirmation is not
required.  If the value is <code class="code">confirm</code>, the user may exit with an
input that is not a valid completion alternative, but Emacs asks for
confirmation.  If the value is <code class="code">confirm-after-completion</code>, the
user may exit with an input that is not a valid completion
alternative, but Emacs asks for confirmation if the user submitted the
input right after any of the completion commands in
<code class="code">minibuffer-confirm-exit-commands</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dconfirm_002dexit_002dcommands"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-confirm-exit-commands</strong><a class="copiable-link" href="#index-minibuffer_002dconfirm_002dexit_002dcommands"> &para;</a></span></dt>
<dd><p>This variable holds a list of commands that cause Emacs to ask for
confirmation before exiting the minibuffer, if the <var class="var">require-match</var>
argument to <code class="code">completing-read</code> is <code class="code">confirm-after-completion</code>.
The confirmation is requested if the user attempts to exit the
minibuffer immediately after calling any command in this list.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-minibuffer_002dcomplete_002dword"><span class="category-def">Command: </span><span><strong class="def-name">minibuffer-complete-word</strong><a class="copiable-link" href="#index-minibuffer_002dcomplete_002dword"> &para;</a></span></dt>
<dd><p>This function completes the minibuffer contents by at most a single
word.  Even if the minibuffer contents have only one completion,
<code class="code">minibuffer-complete-word</code> does not add any characters beyond the
first character that is not a word constituent.  See <a class="xref" href="Syntax-Tables.html">Syntax Tables</a>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-minibuffer_002dcomplete"><span class="category-def">Command: </span><span><strong class="def-name">minibuffer-complete</strong><a class="copiable-link" href="#index-minibuffer_002dcomplete"> &para;</a></span></dt>
<dd><p>This function completes the minibuffer contents as far as possible.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-minibuffer_002dcomplete_002dand_002dexit"><span class="category-def">Command: </span><span><strong class="def-name">minibuffer-complete-and-exit</strong><a class="copiable-link" href="#index-minibuffer_002dcomplete_002dand_002dexit"> &para;</a></span></dt>
<dd><p>This function completes the minibuffer contents, and exits if
confirmation is not required, i.e., if
<code class="code">minibuffer-completion-confirm</code> is <code class="code">nil</code>.  If confirmation
<em class="emph">is</em> required, it is given by repeating this command
immediately&mdash;the command is programmed to work without confirmation
when run twice in succession.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-minibuffer_002dcompletion_002dhelp"><span class="category-def">Command: </span><span><strong class="def-name">minibuffer-completion-help</strong><a class="copiable-link" href="#index-minibuffer_002dcompletion_002dhelp"> &para;</a></span></dt>
<dd><p>This function creates a list of the possible completions of the
current minibuffer contents.  It works by calling <code class="code">all-completions</code>
using the value of the variable <code class="code">minibuffer-completion-table</code> as
the <var class="var">collection</var> argument, and the value of
<code class="code">minibuffer-completion-predicate</code> as the <var class="var">predicate</var> argument.
The list of completions is displayed as text in a buffer named
<samp class="file">*Completions*</samp>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-display_002dcompletion_002dlist"><span class="category-def">Function: </span><span><strong class="def-name">display-completion-list</strong> <var class="def-var-arguments">completions</var><a class="copiable-link" href="#index-display_002dcompletion_002dlist"> &para;</a></span></dt>
<dd><p>This function displays <var class="var">completions</var> to the stream in
<code class="code">standard-output</code>, usually a buffer.  (See <a class="xref" href="Read-and-Print.html">Reading and Printing Lisp Objects</a>, for more
information about streams.)  The argument <var class="var">completions</var> is normally
a list of completions just returned by <code class="code">all-completions</code>, but it
does not have to be.  Each element may be a symbol or a string, either
of which is simply printed.  It can also be a list of two strings,
which is printed as if the strings were concatenated.  The first of
the two strings is the actual completion, the second string serves as
annotation.
</p>
<p>This function is called by <code class="code">minibuffer-completion-help</code>.  A
common way to use it is together with
<code class="code">with-output-to-temp-buffer</code>, like this:
</p>
<div class="example">
<pre class="example-preformatted">(with-output-to-temp-buffer &quot;*Completions*&quot;
  (display-completion-list
    (all-completions (buffer-string) my-alist)))
</pre></div>
</dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-completion_002dauto_002dhelp"><span class="category-def">User Option: </span><span><strong class="def-name">completion-auto-help</strong><a class="copiable-link" href="#index-completion_002dauto_002dhelp"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, the completion commands
automatically display a list of possible completions whenever nothing
can be completed because the next character is not uniquely determined.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dlocal_002dcompletion_002dmap"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-local-completion-map</strong><a class="copiable-link" href="#index-minibuffer_002dlocal_002dcompletion_002dmap"> &para;</a></span></dt>
<dd><p><code class="code">completing-read</code> uses this value as the local keymap when an
exact match of one of the completions is not required.  By default, this
keymap makes the following bindings:
</p>
<dl class="table">
<dt><kbd class="kbd">?</kbd></dt>
<dd><p><code class="code">minibuffer-completion-help</code>
</p>
</dd>
<dt><kbd class="key">SPC</kbd></dt>
<dd><p><code class="code">minibuffer-complete-word</code>
</p>
</dd>
<dt><kbd class="key">TAB</kbd></dt>
<dd><p><code class="code">minibuffer-complete</code>
</p></dd>
</dl>

<p>and uses <code class="code">minibuffer-local-map</code> as its parent keymap
(see <a class="pxref" href="Text-from-Minibuffer.html#Definition-of-minibuffer_002dlocal_002dmap">Definition of minibuffer-local-map</a>).
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dlocal_002dmust_002dmatch_002dmap"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-local-must-match-map</strong><a class="copiable-link" href="#index-minibuffer_002dlocal_002dmust_002dmatch_002dmap"> &para;</a></span></dt>
<dd><p><code class="code">completing-read</code> uses this value as the local keymap when an
exact match of one of the completions is required.  Therefore, no keys
are bound to <code class="code">exit-minibuffer</code>, the command that exits the
minibuffer unconditionally.  By default, this keymap makes the following
bindings:
</p>
<dl class="table">
<dt><kbd class="kbd">C-j</kbd></dt>
<dd><p><code class="code">minibuffer-complete-and-exit</code>
</p>
</dd>
<dt><kbd class="key">RET</kbd></dt>
<dd><p><code class="code">minibuffer-complete-and-exit</code>
</p></dd>
</dl>

<p>and uses <code class="code">minibuffer-local-completion-map</code> as its parent keymap.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dlocal_002dfilename_002dcompletion_002dmap"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-local-filename-completion-map</strong><a class="copiable-link" href="#index-minibuffer_002dlocal_002dfilename_002dcompletion_002dmap"> &para;</a></span></dt>
<dd><p>This is a sparse keymap that simply unbinds <kbd class="key">SPC</kbd>; because
filenames can contain spaces.  The function <code class="code">read-file-name</code>
combines this keymap with either <code class="code">minibuffer-local-completion-map</code>
or <code class="code">minibuffer-local-must-match-map</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-minibuffer_002dbeginning_002dof_002dbuffer_002dmovement"><span class="category-def">Variable: </span><span><strong class="def-name">minibuffer-beginning-of-buffer-movement</strong><a class="copiable-link" href="#index-minibuffer_002dbeginning_002dof_002dbuffer_002dmovement"> &para;</a></span></dt>
<dd><p>If non-<code class="code">nil</code>, the <kbd class="kbd">M-&lt;</kbd> command will move to the end of the
prompt if point is after the end of the prompt.  If point is at or
before the end of the prompt, move to the start of the buffer.  If
this variable is <code class="code">nil</code>, the command behaves like
<code class="code">beginning-of-buffer</code>.
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="High_002dLevel-Completion.html">High-Level Completion Functions</a>, Previous: <a href="Minibuffer-Completion.html">Completion and the Minibuffer</a>, Up: <a href="Completion.html">Completion</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
