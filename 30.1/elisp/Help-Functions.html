<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.1.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Help Functions (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Help Functions (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Help Functions (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Documentation.html" rel="up" title="Documentation">
<link href="Documentation-Groups.html" rel="next" title="Documentation Groups">
<link href="Describing-Characters.html" rel="prev" title="Describing Characters">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Help-Functions">
<div class="nav-panel">
<p>
Next: <a href="Documentation-Groups.html" accesskey="n" rel="next">Documentation Groups</a>, Previous: <a href="Describing-Characters.html" accesskey="p" rel="prev">Describing Characters for Help Messages</a>, Up: <a href="Documentation.html" accesskey="u" rel="up">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Help-Functions-1"><span>25.6 Help Functions<a class="copiable-link" href="#Help-Functions-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-help-functions"></a>

<p>Emacs provides a variety of built-in help functions, all accessible to
the user as subcommands of the prefix <kbd class="kbd">C-h</kbd>.  For more information
about them, see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Help.html#Help">Help</a> in <cite class="cite">The GNU Emacs Manual</cite>.  Here
we describe some program-level interfaces to the same information.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-apropos"><span class="category-def">Command: </span><span><strong class="def-name">apropos</strong> <var class="def-var-arguments">pattern &amp;optional do-all</var><a class="copiable-link" href="#index-apropos"> &para;</a></span></dt>
<dd><p>This function finds all meaningful symbols whose names contain a
match for the apropos pattern <var class="var">pattern</var>.  An apropos pattern is
either a word to match, a space-separated list of words of which at
least two must match, or a regular expression (if any special regular
expression characters occur).  A symbol is meaningful if it has a
definition as a function, variable, or face, or has properties.
</p>
<p>The function returns a list of elements that look like this:
</p>
<div class="example">
<pre class="example-preformatted">(<var class="var">symbol</var> <var class="var">score</var> <var class="var">function-doc</var> <var class="var">variable-doc</var>
 <var class="var">plist-doc</var> <var class="var">widget-doc</var> <var class="var">face-doc</var> <var class="var">group-doc</var>)
</pre></div>

<p>Here, <var class="var">score</var> is an integer measure of how important the symbol
seems to be as a match.  Each of the remaining elements is a
documentation string, or <code class="code">nil</code>, for <var class="var">symbol</var> as a function,
variable, etc.
</p>
<p>It also displays the symbols in a buffer named <samp class="file">*Apropos*</samp>, each
with a one-line description taken from the beginning of its
documentation string.
</p>
<p>If <var class="var">do-all</var> is non-<code class="code">nil</code>, or if the user option
<code class="code">apropos-do-all</code> is non-<code class="code">nil</code>, then <code class="code">apropos</code> also
shows key bindings for the functions that are found; it also shows
<em class="emph">all</em> interned symbols, not just meaningful ones (and it lists
them in the return value as well).
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-help_002dmap"><span class="category-def">Variable: </span><span><strong class="def-name">help-map</strong><a class="copiable-link" href="#index-help_002dmap"> &para;</a></span></dt>
<dd><p>The value of this variable is a local keymap for characters following the
Help key, <kbd class="kbd">C-h</kbd>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-help_002dcommand"><span class="category-def">Prefix Command: </span><span><strong class="def-name">help-command</strong><a class="copiable-link" href="#index-help_002dcommand"> &para;</a></span></dt>
<dd><p>This symbol is not a function; its function definition cell holds the
keymap known as <code class="code">help-map</code>.  It is defined in <samp class="file">help.el</samp> as
follows:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(keymap-set global-map (key-description (string help-char)) 'help-command)
(fset 'help-command help-map)
</pre></div></div>
</dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-help_002dchar"><span class="category-def">User Option: </span><span><strong class="def-name">help-char</strong><a class="copiable-link" href="#index-help_002dchar"> &para;</a></span></dt>
<dd><p>The value of this variable is the help character&mdash;the character that
Emacs recognizes as meaning Help.  By default, its value is 8, which
stands for <kbd class="kbd">C-h</kbd>.  When Emacs reads this character, if
<code class="code">help-form</code> is a non-<code class="code">nil</code> Lisp expression, it evaluates that
expression, and displays the result in a window if it is a string.
</p>
<p>Usually the value of <code class="code">help-form</code> is <code class="code">nil</code>.  Then the
help character has no special meaning at the level of command input, and
it becomes part of a key sequence in the normal way.  The standard key
binding of <kbd class="kbd">C-h</kbd> is a prefix key for several general-purpose help
features.
</p>
<p>The help character is special after prefix keys, too.  If it has no
binding as a subcommand of the prefix key, it runs
<code class="code">describe-prefix-bindings</code>, which displays a list of all the
subcommands of the prefix key.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-help_002devent_002dlist"><span class="category-def">User Option: </span><span><strong class="def-name">help-event-list</strong><a class="copiable-link" href="#index-help_002devent_002dlist"> &para;</a></span></dt>
<dd><p>The value of this variable is a list of event types that serve as
alternative help characters.  These events are handled just like the
event specified by <code class="code">help-char</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-help_002dform"><span class="category-def">Variable: </span><span><strong class="def-name">help-form</strong><a class="copiable-link" href="#index-help_002dform"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, its value is a form to evaluate
whenever the character <code class="code">help-char</code> is read.  If evaluating the form
produces a string, that string is displayed.
</p>
<p>A command that calls <code class="code">read-event</code>, <code class="code">read-char-choice</code>,
<code class="code">read-char</code>, <code class="code">read-char-from-minibuffer</code>, or
<code class="code">y-or-n-p</code> probably should bind <code class="code">help-form</code> to a
non-<code class="code">nil</code> expression while it does input.  (The time when you
should not do this is when <kbd class="kbd">C-h</kbd> has some other meaning.)
Evaluating this expression should result in a string that explains
what the input is for and how to enter it properly.
</p>
<p>Entry to the minibuffer binds this variable to the value of
<code class="code">minibuffer-help-form</code> (see <a class="pxref" href="Minibuffer-Misc.html#Definition-of-minibuffer_002dhelp_002dform">Definition of minibuffer-help-form</a>).
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-prefix_002dhelp_002dcommand"><span class="category-def">Variable: </span><span><strong class="def-name">prefix-help-command</strong><a class="copiable-link" href="#index-prefix_002dhelp_002dcommand"> &para;</a></span></dt>
<dd><p>This variable holds a function to print help for a prefix key.  The
function is called when the user types a prefix key followed by the help
character, and the help character has no binding after that prefix.  The
variable&rsquo;s default value is <code class="code">describe-prefix-bindings</code>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-describe_002dprefix_002dbindings"><span class="category-def">Command: </span><span><strong class="def-name">describe-prefix-bindings</strong><a class="copiable-link" href="#index-describe_002dprefix_002dbindings"> &para;</a></span></dt>
<dd><p>This function calls <code class="code">describe-bindings</code> to display a list of all
the subcommands of the prefix key of the most recent key sequence.  The
prefix described consists of all but the last event of that key
sequence.  (The last event is, presumably, the help character.)
</p></dd></dl>

<p>The following two functions are meant for modes that want to provide
help without relinquishing control, such as the electric modes.
Their names begin with &lsquo;<samp class="samp">Helper</samp>&rsquo; to distinguish them from the
ordinary help functions.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-Helper_002ddescribe_002dbindings"><span class="category-def">Command: </span><span><strong class="def-name">Helper-describe-bindings</strong><a class="copiable-link" href="#index-Helper_002ddescribe_002dbindings"> &para;</a></span></dt>
<dd><p>This command pops up a window displaying a help buffer containing a
listing of all of the key bindings from both the local and global keymaps.
It works by calling <code class="code">describe-bindings</code>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-Helper_002dhelp"><span class="category-def">Command: </span><span><strong class="def-name">Helper-help</strong><a class="copiable-link" href="#index-Helper_002dhelp"> &para;</a></span></dt>
<dd><p>This command provides help for the current mode.  It prompts the user
in the minibuffer with the message &lsquo;<samp class="samp">Help (Type ? for further
options)</samp>&rsquo;, and then provides assistance in finding out what the key
bindings are, and what the mode is intended for.  It returns <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-Helper_002dhelp_002dmap"></a>
<p>This can be customized by changing the map <code class="code">Helper-help-map</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-data_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">data-directory</strong><a class="copiable-link" href="#index-data_002ddirectory"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-data_002ddirectory"></a><p>This variable holds the name of the directory in which Emacs finds
certain documentation and text files that come with Emacs.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-help_002dbuffer"><span class="category-def">Function: </span><span><strong class="def-name">help-buffer</strong><a class="copiable-link" href="#index-help_002dbuffer"> &para;</a></span></dt>
<dd><p>This function returns the name of the help buffer, which is normally
<samp class="file">*Help*</samp>; if such a buffer does not exist, it is first created.
</p></dd></dl>

<a class="index-entry-id" id="index-help_002dwindow_002dselect"></a>
<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-with_002dhelp_002dwindow"><span class="category-def">Macro: </span><span><strong class="def-name">with-help-window</strong> <var class="def-var-arguments">buffer-or-name body&hellip;</var><a class="copiable-link" href="#index-with_002dhelp_002dwindow"> &para;</a></span></dt>
<dd><p>This macro evaluates <var class="var">body</var> like <code class="code">with-output-to-temp-buffer</code>
(see <a class="pxref" href="Temporary-Displays.html">Temporary Displays</a>), inserting any output produced by its
forms into a buffer specified by <var class="var">buffer-or-name</var>, which can be a
buffer or the name of a buffer.  (Frequently, <var class="var">buffer-or-name</var> is
the value returned by the function <code class="code">help-buffer</code>.)  This macro
puts the specified buffer into Help mode and displays a message
telling the user how to quit and scroll the help window.  It selects
the help window if the current value of the user option
<code class="code">help-window-select</code> has been set accordingly.  It returns the
last value in <var class="var">body</var>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-help_002dsetup_002dxref"><span class="category-def">Function: </span><span><strong class="def-name">help-setup-xref</strong> <var class="def-var-arguments">item interactive-p</var><a class="copiable-link" href="#index-help_002dsetup_002dxref"> &para;</a></span></dt>
<dd><p>This function updates the cross reference data in the <samp class="file">*Help*</samp>
buffer, which is used to regenerate the help information when the user
clicks on the &lsquo;<samp class="samp">Back</samp>&rsquo; or &lsquo;<samp class="samp">Forward</samp>&rsquo; buttons.  Most commands
that use the <samp class="file">*Help*</samp> buffer should invoke this function before
clearing the buffer.  The <var class="var">item</var> argument should have the form
<code class="code">(<var class="var">function</var> . <var class="var">args</var>)</code>, where <var class="var">function</var> is a function
to call, with argument list <var class="var">args</var>, to regenerate the help buffer.
The <var class="var">interactive-p</var> argument is non-<code class="code">nil</code> if the calling
command was invoked interactively; in that case, the stack of items
for the <samp class="file">*Help*</samp> buffer&rsquo;s &lsquo;<samp class="samp">Back</samp>&rsquo; buttons is cleared.
</p></dd></dl>

<p>See <a class="xref" href="Accessing-Documentation.html#describe_002dsymbols-example">describe-symbols example</a>, for an example of using
<code class="code">help-buffer</code>, <code class="code">with-help-window</code>, and
<code class="code">help-setup-xref</code>.
</p>
<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-make_002dhelp_002dscreen"><span class="category-def">Macro: </span><span><strong class="def-name">make-help-screen</strong> <var class="def-var-arguments">fname help-line help-text help-map</var><a class="copiable-link" href="#index-make_002dhelp_002dscreen"> &para;</a></span></dt>
<dd><p>This macro defines a help command named <var class="var">fname</var> that acts like a
prefix key that shows a list of the subcommands it offers.
</p>
<p>When invoked, <var class="var">fname</var> displays <var class="var">help-text</var> in a window, then
reads and executes a key sequence according to <var class="var">help-map</var>.  The
string <var class="var">help-text</var> should describe the bindings available in
<var class="var">help-map</var>.
</p>
<p>The command <var class="var">fname</var> is defined to handle a few events itself, by
scrolling the display of <var class="var">help-text</var>.  When <var class="var">fname</var> reads one of
those special events, it does the scrolling and then reads another
event.  When it reads an event that is not one of those few, and which
has a binding in <var class="var">help-map</var>, it executes that key&rsquo;s binding and
then returns.
</p>
<p>The argument <var class="var">help-line</var> should be a single-line summary of the
alternatives in <var class="var">help-map</var>.  In the current version of Emacs, this
argument is used only if you set the option <code class="code">three-step-help</code> to
<code class="code">t</code>.
</p>
<p>This macro is used in the command <code class="code">help-for-help</code> which is the
binding of <kbd class="kbd">C-h C-h</kbd>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-three_002dstep_002dhelp"><span class="category-def">User Option: </span><span><strong class="def-name">three-step-help</strong><a class="copiable-link" href="#index-three_002dstep_002dhelp"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, commands defined with
<code class="code">make-help-screen</code> display their <var class="var">help-line</var> strings in the
echo area at first, and display the longer <var class="var">help-text</var> strings only
if the user types the help character again.
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Documentation-Groups.html">Documentation Groups</a>, Previous: <a href="Describing-Characters.html">Describing Characters for Help Messages</a>, Up: <a href="Documentation.html">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
