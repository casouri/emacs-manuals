<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.1.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Drag and Drop (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Drag and Drop (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Drag and Drop (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Frames.html" rel="up" title="Frames">
<link href="Color-Names.html" rel="next" title="Color Names">
<link href="Yanking-Media.html" rel="prev" title="Yanking Media">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Drag-and-Drop">
<div class="nav-panel">
<p>
Next: <a href="Color-Names.html" accesskey="n" rel="next">Color Names</a>, Previous: <a href="Yanking-Media.html" accesskey="p" rel="prev">Yanking Media</a>, Up: <a href="Frames.html" accesskey="u" rel="up">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Drag-and-Drop-1"><span>30.24 Drag and Drop<a class="copiable-link" href="#Drag-and-Drop-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-drag-and-drop"></a>

<p>Data transferred by drag and drop is generally either plain text or
a list of URLs designating files or other resources.  When text is
dropped, it is inserted at the location of the drop, with recourse to
saving it into the kill ring if that is not possible.
</p>
<p>URLs dropped are supplied to pertinent <em class="dfn">DND handler functions</em>
in the variable <code class="code">dnd-protocol-alist</code>, or alternatively &ldquo;URL
handlers&rdquo; as set forth by the variables <code class="code">browse-url-handlers</code>
and <code class="code">browse-url-default-handlers</code>; absent matching handlers of
either type, they are treated as plain text and inserted in the
buffer.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-dnd_002dprotocol_002dalist"><span class="category-def">Variable: </span><span><strong class="def-name">dnd-protocol-alist</strong><a class="copiable-link" href="#index-dnd_002dprotocol_002dalist"> &para;</a></span></dt>
<dd><p>This variable is an alist between regexps against which URLs are
matched and DND handler functions called on the dropping of matching
URLs.
</p>
<a class="index-entry-id" id="index-dnd_002dmultiple_002dhandler_002c-a-symbol-property"></a>
<p>If a handler function is a symbol whose <code class="code">dnd-multiple-handler</code>
property (see <a class="pxref" href="Symbol-Properties.html">Symbol Properties</a>) is set, then upon a drop it is
given a list of every URL that matches its regexp; absent this
property, it is called once for each of those URLs.  Following this
first argument is one of the symbols <code class="code">copy</code>, <code class="code">move</code>,
<code class="code">link</code>, <code class="code">private</code> or <code class="code">ask</code> identifying the action to be
taken.
</p>
<p>If <var class="var">action</var> is <code class="code">private</code>, the program that initiated the drop
does not insist on any particular behavior on the part of its
recipient; a reasonable action to take in that case is to open the URL
or copy its contents into the current buffer.  The other values of
<var class="var">action</var> imply much the same as in the <var class="var">action</var> argument to
<code class="code">dnd-begin-file-drag</code>.
</p>
<p>Once its work completes, a handler function must return a symbol
designating the action it took: either the action it was provided, or
the symbol <code class="code">private</code>, which communicates to the source of the
drop that the action it prescribed has not been executed.
</p>
<p>When multiple handlers match an overlapping subset of items within a
drop, the handler matched against by the greatest number of items is
called to open that subset.  The items it is supplied are subsequently
withheld from other handlers, even those they also match.
</p></dd></dl>

<a class="index-entry-id" id="index-drag-and-drop_002c-X"></a>
<a class="index-entry-id" id="index-drag-and-drop_002c-other-formats"></a>
<p>Emacs does not take measures to accept data besides text and URLs,
for the window system interfaces which enable this are too far removed
from each other to abstract over consistently.  Nor are DND handlers
accorded influence over the actions they are meant to take, as
particular drag-and-drop protocols deny recipients such control.  The
X11 drag-and-drop implementation rests on several underlying protocols
that make use of selection transfer and share much in common, to which
low level access is provided through the following functions and
variables:
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002dtest_002dfunction"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-test-function</strong><a class="copiable-link" href="#index-x_002ddnd_002dtest_002dfunction"> &para;</a></span></dt>
<dd><p>This function is called to ascertain whether Emacs should accept a
drop.  It is called with three arguments:
</p>
<ul class="itemize mark-bullet">
<li>The window under the item being dragged, which is to say the window
whose buffer is to receive the drop.  If the item is situated over a
non-window component of a frame (such as scroll bars, tool bars and
things to that effect), the frame itself is provided in its place.

</li><li>One of the symbols <code class="code">move</code>, <code class="code">copy</code>, <code class="code">link</code> or
<code class="code">ask</code>, representing an action to take on the item data suggested
by the drop source.  These symbols carry the same implications as in
<code class="code">x-begin-drag</code>.

</li><li>A vector of selection data types (see <a class="pxref" href="X-Selections.html">X Selections</a>) the item
provides.
</li></ul>

<p>This function must return <code class="code">nil</code> to reject the drop or a cons of
the action that will be taken (such as through transfer to a DND
handler function) and the selection data type to be requested.  The
action returned in that cons may also be the symbol <code class="code">private</code>,
which intimates that the action taken is as yet indeterminate.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002dknown_002dtypes"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-known-types</strong><a class="copiable-link" href="#index-x_002ddnd_002dknown_002dtypes"> &para;</a></span></dt>
<dd><p>Modifying <code class="code">x-dnd-test-function</code> is generally unwarranted, for its
default set of criteria for accepting a drop can be adjusted by
changing this list of selection data types.  Each element is a string,
which if found as the symbol name of an element within the list of
data types by the default &ldquo;test function&rdquo;, will induce that function
to accept the drop.
</p>
<p>Introducing a new entry into this list is not useful unless a
counterpart handler function is appended to <code class="code">x-dnd-types-alist</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002dtypes_002dalist"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-types-alist</strong><a class="copiable-link" href="#index-x_002ddnd_002dtypes_002dalist"> &para;</a></span></dt>
<dd><p>This variable is an alist between strings designating selection data
types and functions which are called when things of such types are
dropped.
</p>
<p>Each such function is supplied three arguments; the first is the
window or frame below the location of the drop, as in
<code class="code">x-dnd-test-function</code>; the second is the action to be taken,
which may be any of the actions returned by test functions, and third
is the selection data itself (see <a class="pxref" href="Accessing-Selections.html">Accessing Selections</a>).
</p></dd></dl>

<p>Selection data types as provided by X11 drag-and-drop protocols are
sometimes distinct from those provided by the ICCCM and conforming
clipboard or primary selection owners.  Frequently, the name of a MIME
type, such as <code class="code">&quot;text/plain;charset=utf-8&quot;</code> (with discrepant
capitalization of the &ldquo;utf-8&rdquo;), is substituted for a standard X
selection name such as <code class="code">UTF8_STRING</code>.
</p>
<a class="index-entry-id" id="index-XDS"></a>
<a class="index-entry-id" id="index-direct-save-protocol"></a>
<a class="index-entry-id" id="index-x_002ddnd_002ddirect_002dsave_002dfunction"></a>
<p>The X Direct Save (<abbr class="acronym">XDS</abbr>) protocol enables programs to
devolve responsibility for naming a dropped file upon the recipient.
When such a drop transpires, DND handlers and the foregoing X-specific
interface are largely circumvented, tasking a different function with
responding to the drop.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002ddirect_002dsave_002dfunction-1"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-direct-save-function</strong><a class="copiable-link" href="#index-x_002ddnd_002ddirect_002dsave_002dfunction-1"> &para;</a></span></dt>
<dd><p>This variable should be set to a function that registers and names
files dropped using the <abbr class="acronym">XDS</abbr> protocol in a two-step
procedure.  It is provided two arguments, <var class="var">need-name</var> and
<var class="var">filename</var>.
</p>
<ol class="enumerate">
<li> The application from which the file is dragged asks Emacs to provide
the full file name under which to save the file.  For this purpose,
the direct-save function is called with its first argument
<var class="var">need-name</var> non-<code class="code">nil</code>, and the second argument <var class="var">filename</var>
set to the basename of the file to be saved.  It should return the
fully-expanded absolute file name under which to save the file.  For
example, if a file is dragged to a Dired window, the natural directory
for the file is the directory of the file shown at location of the
drop.  If saving the file is not possible for some reason, the
function should return <code class="code">nil</code>, which will cancel the drag-and-drop
operation.

</li><li> The application from which the file is dragged saves the file under
the name returned by the first call to the direct-save function.  If
it succeeds in saving the file, the direct-save function is called
again, this time with the first argument <var class="var">need-name</var> set to
<code class="code">nil</code> and the second argument <var class="var">filename</var> set to the full
absolute name of the saved file.  The function is then expected to do
whatever is needed given the fact that file was saved.  For example,
Dired should update the directory on display by showing the new file
there.
</li></ol>

<p>Its default <code class="code">x-dnd-direct-save-function</code> is
<code class="code">x-dnd-save-direct</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002ddnd_002dsave_002ddirect"><span class="category-def">Function: </span><span><strong class="def-name">x-dnd-save-direct</strong> <var class="def-var-arguments">need-name filename</var><a class="copiable-link" href="#index-x_002ddnd_002dsave_002ddirect"> &para;</a></span></dt>
<dd><p>When called with the <var class="var">need-name</var> argument non-<code class="code">nil</code>, this
function prompts the user for the absolute file name under which it
should be saved.  If the specified file already exists, it
additionally asks the user whether to overwrite it, and returns the
absolute file name only if the user confirms the overwriting.
</p>
<p>When called with the <var class="var">need-name</var> argument <code class="code">nil</code>, it reverts
the Dired listing if the current buffer is in Dired mode or one of its
descendants, and otherwise visits the file by calling <code class="code">find-file</code>
(see <a class="pxref" href="Visiting-Functions.html">Functions for Visiting Files</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002ddnd_002dsave_002ddirect_002dimmediately"><span class="category-def">Function: </span><span><strong class="def-name">x-dnd-save-direct-immediately</strong> <var class="def-var-arguments">need-name filename</var><a class="copiable-link" href="#index-x_002ddnd_002dsave_002ddirect_002dimmediately"> &para;</a></span></dt>
<dd><p>This function works like <code class="code">x-dnd-save-direct</code>, but when called
with its <var class="var">need-name</var> argument non-<code class="code">nil</code>, it doesn&rsquo;t prompt
the user for the full name of the file to be saved; instead, it
returns its argument <var class="var">filename</var> expanded against the current
buffer&rsquo;s default directory (see <a class="pxref" href="File-Name-Expansion.html">Functions that Expand Filenames</a>).  (It still
asks for confirmation if a file by that name already exists in the
default directory.)
</p></dd></dl>

<a class="index-entry-id" id="index-initiating-drag_002dand_002ddrop"></a>
<p>It is also possible to drag content from Emacs to other programs
when this is supported by the current window-system.  The functions
which provide for this are as follows:
</p>
<a class="index-entry-id" id="index-drop-target_002c-in-drag_002dand_002ddrop-operations"></a>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-dnd_002dbegin_002dtext_002ddrag"><span class="category-def">Function: </span><span><strong class="def-name">dnd-begin-text-drag</strong> <var class="def-var-arguments">text &amp;optional frame action allow-same-frame</var><a class="copiable-link" href="#index-dnd_002dbegin_002dtext_002ddrag"> &para;</a></span></dt>
<dd><p>This function starts a drag-and-drop operation from <var class="var">frame</var> to
another program (dubbed the <em class="dfn">drop target</em>), and returns when
<var class="var">text</var> is dropped or the operation is canceled.
</p>
<p><var class="var">action</var> must be one of the symbols <code class="code">copy</code> or <code class="code">move</code>,
where <code class="code">copy</code> means that <var class="var">text</var> should be inserted by the drop
target, and <code class="code">move</code> means the same as <code class="code">copy</code>, but the caller
must also delete <var class="var">text</var> from its source as explained in the list
below.
</p>
<p><var class="var">frame</var> is the frame where the mouse is currently held down, or
<code class="code">nil</code>, which means to use the selected frame.  Since this
function might return promptly if no mouse buttons are held down, it
should be only called in response to a <code class="code">down-mouse-1</code> or
analogous event (see <a class="pxref" href="Mouse-Events.html">Mouse Events</a>), with <var class="var">frame</var> set to the
frame where that event was generated (see <a class="pxref" href="Click-Events.html">Click Events</a>).
</p>
<p>If <var class="var">allow-same-frame</var> is <code class="code">nil</code>, drops on top of <var class="var">frame</var>
will be ignored.
</p>
<p>The return value reflects the action that the drop target actually
performed, and thus also what action, if any, the caller should in
turn take.  It is one of the following symbols:
</p>
<dl class="table">
<dt><code class="code">copy</code></dt>
<dd><p>The drop target inserted the dropped text.
</p>
</dd>
<dt><code class="code">move</code></dt>
<dd><p>The drop target inserted the dropped text, and the caller should
delete <var class="var">text</var> from the buffer where it was extracted from, if
applicable.
</p>
</dd>
<dt><code class="code">private</code></dt>
<dd><p>The drop target took some other unspecified action.
</p>
</dd>
<dt><code class="code">nil</code></dt>
<dd><p>The drag-and-drop operation was canceled.
</p></dd>
</dl>

</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-dnd_002dbegin_002dfile_002ddrag"><span class="category-def">Function: </span><span><strong class="def-name">dnd-begin-file-drag</strong> <var class="def-var-arguments">file &amp;optional frame action allow-same-frame</var><a class="copiable-link" href="#index-dnd_002dbegin_002dfile_002ddrag"> &para;</a></span></dt>
<dd><p>This function starts a drag-and-drop operation from <var class="var">frame</var> to
another program (dubbed the <em class="dfn">drop target</em>), and returns when
<var class="var">file</var> is dropped or the operation is canceled.
</p>
<p>If <var class="var">file</var> is a remote file, then a temporary local copy will be
made.
</p>
<p><var class="var">action</var> must be one of the symbols <code class="code">copy</code>, <code class="code">move</code> or
<code class="code">link</code>, where <code class="code">copy</code> means that <var class="var">file</var> should be opened
or copied by the drop target, <code class="code">move</code> means the drop target should
move the file to another location, and <code class="code">link</code> means the drop
target should create a symbolic link to <var class="var">file</var>.  It is an error to
specify <code class="code">link</code> as the action if <var class="var">file</var> is a remote file.
</p>
<p><var class="var">frame</var> and <var class="var">allow-same-frame</var> mean the same as they do in
calls to <code class="code">dnd-begin-text-drag</code>.
</p>
<p>The return value is the action that the drop target actually
performed, which is one of the following symbols:
</p>
<dl class="table">
<dt><code class="code">copy</code></dt>
<dd><p>The drop target opened or copied <var class="var">file</var> to a different location.
</p>
</dd>
<dt><code class="code">move</code></dt>
<dd><p>The drop target moved <var class="var">file</var> to a different location.
</p>
</dd>
<dt><code class="code">link</code></dt>
<dd><p>The drop target (usually a file manager) created a symbolic link to
<var class="var">file</var>.
</p>
</dd>
<dt><code class="code">private</code></dt>
<dd><p>The drop target performed some other unspecified action.
</p>
</dd>
<dt><code class="code">nil</code></dt>
<dd><p>The drag-and-drop operation was canceled.
</p></dd>
</dl>

</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-dnd_002dbegin_002ddrag_002dfiles"><span class="category-def">Function: </span><span><strong class="def-name">dnd-begin-drag-files</strong> <var class="def-var-arguments">files &amp;optional frame action allow-same-frame</var><a class="copiable-link" href="#index-dnd_002dbegin_002ddrag_002dfiles"> &para;</a></span></dt>
<dd><p>This function is like <code class="code">dnd-begin-file-drag</code>, except that
<var class="var">files</var> is a list of files.  If the drop target doesn&rsquo;t support
dropping multiple files, then the first file will be used instead.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-dnd_002ddirect_002dsave"><span class="category-def">Function: </span><span><strong class="def-name">dnd-direct-save</strong> <var class="def-var-arguments">file name &amp;optional frame allow-same-frame</var><a class="copiable-link" href="#index-dnd_002ddirect_002dsave"> &para;</a></span></dt>
<dd><p>The behavior of this function is akin to that of
<code class="code">dnd-begin-file-drag</code> (when the default action <code class="code">copy</code> is
used), except that it accepts a name under which the copy is meant to
be filed.
</p></dd></dl>

<a class="index-entry-id" id="index-initiating-drag_002dand_002ddrop_002c-low_002dlevel"></a>
<p>The high-level interfaces described above are implemented on top of
a lower-level primitive.  The low-level interface <code class="code">x-begin-drag</code>
is also available for dragging content besides text and files.  It
demands detailed knowledge of the data types and actions understood by
programs on each platform its callers wish to support.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002dbegin_002ddrag"><span class="category-def">Function: </span><span><strong class="def-name">x-begin-drag</strong> <var class="def-var-arguments">targets &amp;optional action frame return-frame allow-current-frame follow-tooltip</var><a class="copiable-link" href="#index-x_002dbegin_002ddrag"> &para;</a></span></dt>
<dd><p>This function begins a drag from <var class="var">frame</var>, and returns when the
drag-and-drop operation ends, either because the drop was successful,
or because the drop was rejected.  The drop occurs when all mouse
buttons are released on top of an X window other than <var class="var">frame</var> (the
<em class="dfn">drop target</em>), or any X window if <var class="var">allow-current-frame</var> is
non-<code class="code">nil</code>.  If no mouse buttons are held down when the
drag-and-drop operation begins, this function may immediately return
<code class="code">nil</code>.
</p>
<p><var class="var">targets</var> is a list of strings representing selection targets,
much like the <var class="var">data-type</var> argument to <code class="code">gui-get-selection</code>,
that the drop target can request from Emacs (see <a class="pxref" href="Window-System-Selections.html">Window System Selections</a>).
</p>
<p><var class="var">action</var> is a symbol designating the action recommended to the
target.  It can either be <code class="code">XdndActionCopy</code> or
<code class="code">XdndActionMove</code>; both imply copying the contents of the
selection <code class="code">XdndSelection</code> to the drop target, but the latter
moreover conveys a promise to delete the contents of the selection
after the copying.
</p>
<p><var class="var">action</var> may also be an alist which associates between symbols
representing available actions, and strings that the drop target
presents to the user for him to select between those actions.
</p>
<p>If <var class="var">return-frame</var> is non-<code class="code">nil</code> and the mouse moves over an
Emacs frame after first moving out of <var class="var">frame</var>, then the frame to
which the mouse moves will be returned immediately.  If
<var class="var">return-frame</var> is the symbol <code class="code">now</code>, then any frame beneath
the mouse pointer will be returned without waiting for the mouse to
first move out of <var class="var">frame</var>.  <var class="var">return-frame</var> is useful when you
want to treat dragging content from one frame to another specially,
while also dragging content to other programs, but it is not
guaranteed to function on all systems and with all window managers.
</p>
<p>If <var class="var">follow-tooltip</var> is non-<code class="code">nil</code>, the position of any tooltip
(such as one displayed by <code class="code">tooltip-show</code>) will follow the
location of the mouse pointer as it moves during the drag-and-drop
operation.  The tooltip will be hidden once all mouse buttons are
released.
</p>
<p>If the drop was rejected or no drop target was found, this function
returns <code class="code">nil</code>.  Otherwise, it returns a symbol representing the
action the target opted to take, which can differ from <var class="var">action</var> if
that isn&rsquo;t supported by the drop target.  <code class="code">XdndActionPrivate</code> is
also a valid return value in addition to <code class="code">XdndActionCopy</code> and
<code class="code">XdndActionMove</code>; it suggests that the drop target opted for an
indeterminate action, and no further action is required of the caller.
</p>
<p>The caller must cooperate with the target to complete the action
selected by the target.  For example, callers should delete any buffer
text that was dragged if this function returns <code class="code">XdndActionMove</code>,
and likewise for other drag data where comparable criteria apply.
</p></dd></dl>

<a class="index-entry-id" id="index-drag-and-drop-protocols_002c-X"></a>

<p>The function <code class="code">x-begin-drag</code> leverages several drag-and-drop
protocols &ldquo;behind the scenes&rdquo;.  When dragging content that is known
to not be supported by a specific drag-and-drop protocol, that
protocol can be disabled by changing the values of the following
variables:
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002ddisable_002dmotif_002dprotocol"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-disable-motif-protocol</strong><a class="copiable-link" href="#index-x_002ddnd_002ddisable_002dmotif_002dprotocol"> &para;</a></span></dt>
<dd><p>When this is non-<code class="code">nil</code>, the Motif drag and drop protocols are
disabled, and dropping onto programs that only understand them will
not work.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002duse_002doffix_002ddrop"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-use-offix-drop</strong><a class="copiable-link" href="#index-x_002ddnd_002duse_002doffix_002ddrop"> &para;</a></span></dt>
<dd><p>When this is <code class="code">nil</code>, the OffiX (old KDE) drag and drop protocol is
disabled.  When this is the symbol <code class="code">files</code>, the OffiX protocol
will only be used if <code class="code">&quot;FILE_NAME&quot;</code> is one of the targets given to
<code class="code">x-begin-drag</code>.  Any other value means to use the OffiX protocol
to drop all supported content.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-x_002ddnd_002duse_002dunsupported_002ddrop"><span class="category-def">Variable: </span><span><strong class="def-name">x-dnd-use-unsupported-drop</strong><a class="copiable-link" href="#index-x_002ddnd_002duse_002dunsupported_002ddrop"> &para;</a></span></dt>
<dd><p>When one of the <code class="code">&quot;STRING&quot;</code>, <code class="code">&quot;UTF8_STRING&quot;</code>,
<code class="code">&quot;COMPOUND_TEXT&quot;</code> or <code class="code">&quot;TEXT&quot;</code> targets is present in the list
given to <code class="code">x-begin-drag</code>, Emacs will try to use synthesized mouse
events and the primary selection to insert the text if the drop target
doesn&rsquo;t support any drag-and-drop protocol at all.
</p>
<p>A side effect is that Emacs will become the owner of the primary
selection upon such a drop.  Such emulation can be disabled by setting
this variable to <code class="code">nil</code>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Color-Names.html">Color Names</a>, Previous: <a href="Yanking-Media.html">Yanking Media</a>, Up: <a href="Frames.html">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
