<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 27.1.

Copyright Â© 1985-1987, 1993-2020 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Locals (GNU Emacs Manual)</title>

<meta name="description" content="Locals (GNU Emacs Manual)">
<meta name="keywords" content="Locals (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Variables.html" rel="up" title="Variables">
<link href="File-Variables.html" rel="next" title="File Variables">
<link href="Hooks.html" rel="prev" title="Hooks">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<span id="Locals"></span><div class="header">
<p>
Next: <a href="File-Variables.html" accesskey="n" rel="next">File Variables</a>, Previous: <a href="Hooks.html" accesskey="p" rel="prev">Hooks</a>, Up: <a href="Variables.html" accesskey="u" rel="up">Variables</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Local-Variables"></span><h4 class="subsection">49.2.3 Local Variables</h4>

<dl compact="compact">
<dt><kbd>M-x make-local-variable <span class="key">RET</span> <var>var</var> <span class="key">RET</span></kbd></dt>
<dd><p>Make variable <var>var</var> have a local value in the current buffer.
</p>
</dd>
<dt><kbd>M-x kill-local-variable <span class="key">RET</span> <var>var</var> <span class="key">RET</span></kbd></dt>
<dd><p>Make variable <var>var</var> use its global value in the current buffer.
</p>
</dd>
<dt><kbd>M-x make-variable-buffer-local <span class="key">RET</span> <var>var</var> <span class="key">RET</span></kbd></dt>
<dd><p>Mark variable <var>var</var> so that setting it will make it local to the
buffer that is current at that time.
</p></dd>
</dl>

<span id="index-local-variables"></span>
<p>Almost any variable can be made <em>local</em> to a specific Emacs
buffer.  This means that its value in that buffer is independent of its
value in other buffers.  A few variables are always local in every
buffer.  Every other Emacs variable has a <em>global</em> value which is in
effect in all buffers that have not made the variable local.
</p>
<span id="index-make_002dlocal_002dvariable"></span>
<p><kbd>M-x make-local-variable</kbd> reads the name of a variable and makes
it local to the current buffer.  Changing its value subsequently in
this buffer will not affect others, and changes in its global value
will not affect this buffer.
</p>
<span id="index-make_002dvariable_002dbuffer_002dlocal"></span>
<span id="index-per_002dbuffer-variables"></span>
<p><kbd>M-x make-variable-buffer-local</kbd> marks a variable so it will
become local automatically whenever it is set.  More precisely, once a
variable has been marked in this way, the usual ways of setting the
variable automatically do <code>make-local-variable</code> first.  We call
such variables <em>per-buffer</em> variables.  Many variables in Emacs
are normally per-buffer; the variable&rsquo;s document string tells you when
this is so.  A per-buffer variable&rsquo;s global value is normally never
effective in any buffer, but it still has a meaning: it is the initial
value of the variable for each new buffer.
</p>
<p>Major modes (see <a href="Major-Modes.html">Major Modes</a>) always make variables local to the
buffer before setting the variables.  This is why changing major modes
in one buffer has no effect on other buffers.  Minor modes also work
by setting variables&mdash;normally, each minor mode has one controlling
variable which is non-<code>nil</code> when the mode is enabled
(see <a href="Minor-Modes.html">Minor Modes</a>).  For many minor modes, the controlling variable
is per buffer, and thus always buffer-local.  Otherwise, you can make
it local in a specific buffer like any other variable.
</p>
<p>A few variables cannot be local to a buffer because they are always
local to each display instead (see <a href="Multiple-Displays.html">Multiple Displays</a>).  If you try to
make one of these variables buffer-local, you&rsquo;ll get an error message.
</p>
<span id="index-kill_002dlocal_002dvariable"></span>
<p><kbd>M-x kill-local-variable</kbd> makes a specified variable cease to be
local to the current buffer.  The global value of the variable
henceforth is in effect in this buffer.  Setting the major mode kills
all the local variables of the buffer except for a few variables
specially marked as <em>permanent locals</em>.
</p>
<span id="index-setq_002ddefault"></span>
<p>To set the global value of a variable, regardless of whether the
variable has a local value in the current buffer, you can use the Lisp
construct <code>setq-default</code>.  This construct is used just like
<code>setq</code>, but it sets variables&rsquo; global values instead of their local
values (if any).  When the current buffer does have a local value, the
new global value may not be visible until you switch to another buffer.
Here is an example:
</p>
<div class="example">
<pre class="example">(setq-default fill-column 75)
</pre></div>

<p><code>setq-default</code> is the only way to set the global value of a variable
that has been marked with <code>make-variable-buffer-local</code>.
</p>
<span id="index-default_002dvalue"></span>
<p>Lisp programs can use <code>default-value</code> to look at a variable&rsquo;s
default value.  This function takes a symbol as argument and returns its
default value.  The argument is evaluated; usually you must quote it
explicitly.  For example, here&rsquo;s how to obtain the default value of
<code>fill-column</code>:
</p>
<div class="example">
<pre class="example">(default-value 'fill-column)
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="File-Variables.html" accesskey="n" rel="next">File Variables</a>, Previous: <a href="Hooks.html" accesskey="p" rel="prev">Hooks</a>, Up: <a href="Variables.html" accesskey="u" rel="up">Variables</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
