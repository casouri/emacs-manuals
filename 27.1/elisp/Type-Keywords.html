<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright Â© 1990-1996, 1998-2020 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Type Keywords (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Type Keywords (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Type Keywords (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Customization-Types.html" rel="up" title="Customization Types">
<link href="Defining-New-Types.html" rel="next" title="Defining New Types">
<link href="Splicing-into-Lists.html" rel="prev" title="Splicing into Lists">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Type-Keywords">
<div class="nav-panel">
<p>
Next: <a href="Defining-New-Types.html" accesskey="n" rel="next">Defining New Types</a>, Previous: <a href="Splicing-into-Lists.html" accesskey="p" rel="prev">Splicing into Lists</a>, Up: <a href="Customization-Types.html" accesskey="u" rel="up">Customization Types</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Type-Keywords-1"><span>15.4.4 Type Keywords<a class="copiable-link" href="#Type-Keywords-1"> &para;</a></span></h4>

<p>You can specify keyword-argument pairs in a customization type after the
type name symbol.  Here are the keywords you can use, and their
meanings:
</p>
<dl class="table">
<dt><code class="code">:value <var class="var">default</var></code></dt>
<dd><p>Provide a default value.
</p>
<p>If <code class="code">nil</code> is not a valid value for the alternative, then it is
essential to specify a valid default with <code class="code">:value</code>.
</p>
<p>If you use this for a type that appears as an alternative inside of
<code class="code">choice</code>; it specifies the default value to use, at first, if and
when the user selects this alternative with the menu in the
customization buffer.
</p>
<p>Of course, if the actual value of the option fits this alternative, it
will appear showing the actual value, not <var class="var">default</var>.
</p>
</dd>
<dt><a id="index-format_002c-customization-keyword"></a><span><code class="code">:format <var class="var">format-string</var></code><a class="copiable-link" href="#index-format_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>This string will be inserted in the buffer to represent the value
corresponding to the type.  The following &lsquo;<samp class="samp">%</samp>&rsquo; escapes are available
for use in <var class="var">format-string</var>:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">%[<var class="var">button</var>%]</samp>&rsquo;</dt>
<dd><p>Display the text <var class="var">button</var> marked as a button.  The <code class="code">:action</code>
attribute specifies what the button will do if the user invokes it;
its value is a function which takes two arguments&mdash;the widget which
the button appears in, and the event.
</p>
<p>There is no way to specify two different buttons with different
actions.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%{<var class="var">sample</var>%}</samp>&rsquo;</dt>
<dd><p>Show <var class="var">sample</var> in a special face specified by <code class="code">:sample-face</code>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%v</samp>&rsquo;</dt>
<dd><p>Substitute the item&rsquo;s value.  How the value is represented depends on
the kind of item, and (for variables) on the customization type.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%d</samp>&rsquo;</dt>
<dd><p>Substitute the item&rsquo;s documentation string.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%h</samp>&rsquo;</dt>
<dd><p>Like &lsquo;<samp class="samp">%d</samp>&rsquo;, but if the documentation string is more than one line,
add a button to control whether to show all of it or just the first line.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%t</samp>&rsquo;</dt>
<dd><p>Substitute the tag here.  You specify the tag with the <code class="code">:tag</code>
keyword.
</p>
</dd>
<dt>&lsquo;<samp class="samp">%%</samp>&rsquo;</dt>
<dd><p>Display a literal &lsquo;<samp class="samp">%</samp>&rsquo;.
</p></dd>
</dl>

</dd>
<dt><a id="index-action_002c-customization-keyword"></a><span><code class="code">:action <var class="var">action</var></code><a class="copiable-link" href="#index-action_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>Perform <var class="var">action</var> if the user clicks on a button.
</p>
</dd>
<dt><a id="index-button_002dface_002c-customization-keyword"></a><span><code class="code">:button-face <var class="var">face</var></code><a class="copiable-link" href="#index-button_002dface_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>Use the face <var class="var">face</var> (a face name or a list of face names) for button
text displayed with &lsquo;<samp class="samp">%[&hellip;%]</samp>&rsquo;.
</p>
</dd>
<dt><a class="index-entry-id" id="index-button_002dsuffix_002c-customization-keyword"></a>
<a id="index-button_002dprefix_002c-customization-keyword"></a><span><code class="code">:button-prefix <var class="var">prefix</var></code><a class="copiable-link" href="#index-button_002dprefix_002c-customization-keyword"> &para;</a></span></dt>
<dt><code class="code">:button-suffix <var class="var">suffix</var></code></dt>
<dd><p>These specify the text to display before and after a button.
Each can be:
</p>
<dl class="table">
<dt><code class="code">nil</code></dt>
<dd><p>No text is inserted.
</p>
</dd>
<dt>a string</dt>
<dd><p>The string is inserted literally.
</p>
</dd>
<dt>a symbol</dt>
<dd><p>The symbol&rsquo;s value is used.
</p></dd>
</dl>

</dd>
<dt><code class="code">:tag <var class="var">tag</var></code></dt>
<dd><p>Use <var class="var">tag</var> (a string) as the tag for the value (or part of the value)
that corresponds to this type.
</p>
</dd>
<dt><a id="index-doc_002c-customization-keyword"></a><span><code class="code">:doc <var class="var">doc</var></code><a class="copiable-link" href="#index-doc_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>Use <var class="var">doc</var> as the documentation string for this value (or part of the
value) that corresponds to this type.  In order for this to work, you
must specify a value for <code class="code">:format</code>, and use &lsquo;<samp class="samp">%d</samp>&rsquo; or &lsquo;<samp class="samp">%h</samp>&rsquo;
in that value.
</p>
<p>The usual reason to specify a documentation string for a type is to
provide more information about the meanings of alternatives inside a
<code class="code">choice</code> type or the parts of some other composite type.
</p>
</dd>
<dt><a id="index-help_002decho_002c-customization-keyword"></a><span><code class="code">:help-echo <var class="var">motion-doc</var></code><a class="copiable-link" href="#index-help_002decho_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>When you move to this item with <code class="code">widget-forward</code> or
<code class="code">widget-backward</code>, it will display the string <var class="var">motion-doc</var> in
the echo area.  In addition, <var class="var">motion-doc</var> is used as the mouse
<code class="code">help-echo</code> string and may actually be a function or form evaluated
to yield a help string.  If it is a function, it is called with one
argument, the widget.
</p>
</dd>
<dt><a id="index-match_002c-customization-keyword"></a><span><code class="code">:match <var class="var">function</var></code><a class="copiable-link" href="#index-match_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>Specify how to decide whether a value matches the type.  The
corresponding value, <var class="var">function</var>, should be a function that accepts
two arguments, a widget and a value; it should return non-<code class="code">nil</code> if
the value is acceptable.
</p>
</dd>
<dt><a id="index-match_002dinline_002c-customization-keyword"></a><span><code class="code">:match-inline <var class="var">function</var></code><a class="copiable-link" href="#index-match_002dinline_002c-customization-keyword"> &para;</a></span></dt>
<dd><p>Specify how to decide whether an inline value matches the type.  The
corresponding value, <var class="var">function</var>, should be a function that accepts
two arguments, a widget and an inline value; it should return
non-<code class="code">nil</code> if the value is acceptable.  See <a class="ref" href="Splicing-into-Lists.html">Splicing into Lists</a> for more information about inline values.
</p>
</dd>
<dt><code class="code">:validate <var class="var">function</var></code></dt>
<dd><p>Specify a validation function for input.  <var class="var">function</var> takes a
widget as an argument, and should return <code class="code">nil</code> if the widget&rsquo;s
current value is valid for the widget.  Otherwise, it should return
the widget containing the invalid data, and set that widget&rsquo;s
<code class="code">:error</code> property to a string explaining the error.
</p>
</dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Defining-New-Types.html">Defining New Types</a>, Previous: <a href="Splicing-into-Lists.html">Splicing into Lists</a>, Up: <a href="Customization-Types.html">Customization Types</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
