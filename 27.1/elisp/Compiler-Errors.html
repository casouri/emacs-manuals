<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.1.

Copyright Â© 1990-1996, 1998-2020 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Compiler Errors (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Compiler Errors (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Compiler Errors (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Byte-Compilation.html" rel="up" title="Byte Compilation">
<link href="Byte_002dCode-Objects.html" rel="next" title="Byte-Code Objects">
<link href="Eval-During-Compile.html" rel="prev" title="Eval During Compile">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Compiler-Errors">
<div class="nav-panel">
<p>
Next: <a href="Byte_002dCode-Objects.html" accesskey="n" rel="next">Byte-Code Function Objects</a>, Previous: <a href="Eval-During-Compile.html" accesskey="p" rel="prev">Evaluation During Compilation</a>, Up: <a href="Byte-Compilation.html" accesskey="u" rel="up">Byte Compilation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Compiler-Errors-1"><span>17.6 Compiler Errors<a class="copiable-link" href="#Compiler-Errors-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-compiler-errors"></a>
<a class="index-entry-id" id="index-byte_002dcompiler-errors"></a>

<p>Error and warning messages from byte compilation are printed in a
buffer named <samp class="file">*Compile-Log*</samp>.  These messages include file names
and line numbers identifying the location of the problem.  The usual
Emacs commands for operating on compiler output can be used on these
messages.
</p>
<p>When an error is due to invalid syntax in the program, the byte
compiler might get confused about the error&rsquo;s exact location.  One way
to investigate is to switch to the buffer <samp class="file">&nbsp;*Compiler&nbsp;Input*</samp><!-- /@w -->.  (This buffer name starts with a space, so it does not show
up in the Buffer Menu.)  This buffer contains the program being
compiled, and point shows how far the byte compiler was able to read;
the cause of the error might be nearby.  See <a class="xref" href="Syntax-Errors.html">Debugging Invalid Lisp Syntax</a>, for
some tips for locating syntax errors.
</p>
<a class="index-entry-id" id="index-byte_002dcompiler-warnings"></a>
<a class="index-entry-id" id="index-free-variable_002c-byte_002dcompiler-warning"></a>
<a class="index-entry-id" id="index-reference-to-free-variable_002c-compilation-warning"></a>
<a class="index-entry-id" id="index-function-not-known-to-be-defined_002c-compilation-warning"></a>
<p>A common type of warning issued by the byte compiler is for
functions and variables that were used but not defined.  Such warnings
report the line number for the end of the file, not the locations
where the missing functions or variables were used; to find these, you
must search the file manually.
</p>
<p>If you are sure that a warning message about a missing function or
variable is unjustified, there are several ways to suppress it:
</p>
<ul class="itemize mark-bullet">
<li>You can suppress the warning for a specific call to a function
<var class="var">func</var> by conditionalizing it on an <code class="code">fboundp</code> test, like
this:

<div class="example">
<pre class="example-preformatted">(if (fboundp '<var class="var">func</var>) ...(<var class="var">func</var> ...)...)
</pre></div>

<p>The call to <var class="var">func</var> must be in the <var class="var">then-form</var> of the
<code class="code">if</code>, and <var class="var">func</var> must appear quoted in the call to
<code class="code">fboundp</code>.  (This feature operates for <code class="code">cond</code> as well.)
</p>
</li><li>Likewise, you can suppress the warning for a specific use of a
variable <var class="var">variable</var> by conditionalizing it on a <code class="code">boundp</code>
test:

<div class="example">
<pre class="example-preformatted">(if (boundp '<var class="var">variable</var>) ...<var class="var">variable</var>...)
</pre></div>

<p>The reference to <var class="var">variable</var> must be in the <var class="var">then-form</var> of the
<code class="code">if</code>, and <var class="var">variable</var> must appear quoted in the call to
<code class="code">boundp</code>.
</p>
</li><li>You can tell the compiler that a function is defined using
<code class="code">declare-function</code>.  See <a class="xref" href="Declaring-Functions.html">Telling the Compiler that a Function is Defined</a>.

</li><li>Likewise, you can tell the compiler that a variable is defined using
<code class="code">defvar</code> with no initial value.  (Note that this marks the
variable as special, i.e. dynamically bound, but only within the
current lexical scope, or file if at top-level.)  See <a class="xref" href="Defining-Variables.html">Defining Global Variables</a>.
</li></ul>

<p>You can also suppress compiler warnings within a certain expression
using the <code class="code">with-suppressed-warnings</code> macro:
</p>
<dl class="first-deffn first-defspec-alias-first-deffn">
<dt class="deffn defspec-alias-deffn" id="index-with_002dsuppressed_002dwarnings"><span class="category-def">Special Form: </span><span><strong class="def-name">with-suppressed-warnings</strong> <var class="def-var-arguments">warnings body&hellip;</var><a class="copiable-link" href="#index-with_002dsuppressed_002dwarnings"> &para;</a></span></dt>
<dd><p>In execution, this is equivalent to <code class="code">(progn <var class="var">body</var>...)</code>, but
the compiler does not issue warnings for the specified conditions in
<var class="var">body</var>.  <var class="var">warnings</var> is an associative list of warning symbols
and function/variable symbols they apply to.  For instance, if you
wish to call an obsolete function called <code class="code">foo</code>, but want to
suppress the compilation warning, say:
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(with-suppressed-warnings ((obsolete foo))
  (foo ...))
</pre></div>
</dd></dl>

<p>For more coarse-grained suppression of compiler warnings, you can use
the <code class="code">with-no-warnings</code> construct:
</p>

<dl class="first-deffn first-defspec-alias-first-deffn">
<dt class="deffn defspec-alias-deffn" id="index-with_002dno_002dwarnings"><span class="category-def">Special Form: </span><span><strong class="def-name">with-no-warnings</strong> <var class="def-var-arguments">body&hellip;</var><a class="copiable-link" href="#index-with_002dno_002dwarnings"> &para;</a></span></dt>
<dd><p>In execution, this is equivalent to <code class="code">(progn <var class="var">body</var>...)</code>,
but the compiler does not issue warnings for anything that occurs
inside <var class="var">body</var>.
</p>
<p>We recommend that you use <code class="code">with-suppressed-warnings</code> instead, but
if you do use this construct, that you use it around the smallest
possible piece of code to avoid missing possible warnings other than
one you intend to suppress.
</p></dd></dl>

<p>Byte compiler warnings can be controlled more precisely by setting
the variable <code class="code">byte-compile-warnings</code>.  See its documentation
string for details.
</p>
<a class="index-entry-id" id="index-byte_002dcompile_002derror_002don_002dwarn"></a>
<p>Sometimes you may wish the byte-compiler warnings to be reported
using <code class="code">error</code>.  If so, set <code class="code">byte-compile-error-on-warn</code> to a
non-<code class="code">nil</code> value.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Byte_002dCode-Objects.html">Byte-Code Function Objects</a>, Previous: <a href="Eval-During-Compile.html">Evaluation During Compilation</a>, Up: <a href="Byte-Compilation.html">Byte Compilation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
