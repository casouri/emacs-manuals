<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.1.

Copyright Â© 1990-1996, 1998-2023 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Decoding Output (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Decoding Output (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Decoding Output (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Output-from-Processes.html" rel="up" title="Output from Processes">
<link href="Accepting-Output.html" rel="next" title="Accepting Output">
<link href="Filter-Functions.html" rel="prev" title="Filter Functions">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Decoding-Output">
<div class="nav-panel">
<p>
Next: <a href="Accepting-Output.html" accesskey="n" rel="next">Accepting Output from Processes</a>, Previous: <a href="Filter-Functions.html" accesskey="p" rel="prev">Process Filter Functions</a>, Up: <a href="Output-from-Processes.html" accesskey="u" rel="up">Receiving Output from Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Decoding-Process-Output"><span>40.9.3 Decoding Process Output<a class="copiable-link" href="#Decoding-Process-Output"> &para;</a></span></h4>
<a class="index-entry-id" id="index-decode-process-output"></a>

<p>When Emacs writes process output directly into a multibyte buffer,
it decodes the output according to the process output coding system.
If the coding system is <code class="code">raw-text</code> or <code class="code">no-conversion</code>, Emacs
converts the unibyte output to multibyte using
<code class="code">string-to-multibyte</code>, and inserts the resulting multibyte text.
</p>
<p>You can use <code class="code">set-process-coding-system</code> to specify which coding
system to use (see <a class="pxref" href="Process-Information.html">Process Information</a>).  Otherwise, the coding
system comes from <code class="code">coding-system-for-read</code>, if that is
non-<code class="code">nil</code>; or else from the defaulting mechanism (see <a class="pxref" href="Default-Coding-Systems.html">Default Coding Systems</a>).  If the text output by a process contains null
bytes, Emacs by default uses <code class="code">no-conversion</code> for it; see
<a class="ref" href="Lisp-and-Coding-Systems.html">inhibit-null-byte-detection</a>, for how to
control this behavior.
</p>
<p><strong class="strong">Warning:</strong> Coding systems such as <code class="code">undecided</code>, which
determine the coding system from the data, do not work entirely
reliably with asynchronous subprocess output.  This is because Emacs
has to process asynchronous subprocess output in batches, as it
arrives.  Emacs must try to detect the proper coding system from one
batch at a time, and this does not always work.  Therefore, if at all
possible, specify a coding system that determines both the character
code conversion and the end of line conversion&mdash;that is, one like
<code class="code">latin-1-unix</code>, rather than <code class="code">undecided</code> or <code class="code">latin-1</code>.
</p>
<a class="index-entry-id" id="index-filter-multibyte-flag_002c-of-process"></a>
<a class="index-entry-id" id="index-process-filter-multibyte-flag"></a>
<p>When Emacs calls a process filter function, it provides the process
output as a multibyte string or as a unibyte string according to the
process&rsquo;s filter coding system.  Emacs
decodes the output according to the process output coding system,
which usually produces a multibyte string, except for coding systems
such as <code class="code">binary</code> and <code class="code">raw-text</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Accepting-Output.html">Accepting Output from Processes</a>, Previous: <a href="Filter-Functions.html">Process Filter Functions</a>, Up: <a href="Output-from-Processes.html">Receiving Output from Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
