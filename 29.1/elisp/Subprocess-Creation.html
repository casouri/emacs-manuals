<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.1.

Copyright Â© 1990-1996, 1998-2023 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Subprocess Creation (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Subprocess Creation (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Subprocess Creation (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Processes.html" rel="up" title="Processes">
<link href="Shell-Arguments.html" rel="next" title="Shell Arguments">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Subprocess-Creation">
<div class="nav-panel">
<p>
Next: <a href="Shell-Arguments.html" accesskey="n" rel="next">Shell Arguments</a>, Up: <a href="Processes.html" accesskey="u" rel="up">Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Functions-that-Create-Subprocesses"><span>40.1 Functions that Create Subprocesses<a class="copiable-link" href="#Functions-that-Create-Subprocesses"> &para;</a></span></h3>
<a class="index-entry-id" id="index-create-subprocess"></a>
<a class="index-entry-id" id="index-process-creation"></a>

<p>There are three primitives that create a new subprocess in which to run
a program.  One of them, <code class="code">make-process</code>, creates an asynchronous
process and returns a process object (see <a class="pxref" href="Asynchronous-Processes.html">Creating an Asynchronous Process</a>).
The other two, <code class="code">call-process</code> and <code class="code">call-process-region</code>,
create a synchronous process and do not return a process object
(see <a class="pxref" href="Synchronous-Processes.html">Creating a Synchronous Process</a>).  There are various higher-level
functions that make use of these primitives to run particular types of
process.
</p>
<p>Synchronous and asynchronous processes are explained in the following
sections.  Since the three functions are all called in a similar
fashion, their common arguments are described here.
</p>
<a class="index-entry-id" id="index-execute-program"></a>
<a class="index-entry-id" id="index-PATH-environment-variable"></a>
<a class="index-entry-id" id="index-HOME-environment-variable"></a>
<p>In all cases, the functions specify the program to be run.  An error
is signaled if the file is not found or cannot be executed.  If the
file name is relative, the variable <code class="code">exec-path</code> contains a list
of directories to search.  Emacs initializes <code class="code">exec-path</code> when it
starts up, based on the value of the environment variable <code class="env">PATH</code>.
The standard file name constructs, &lsquo;<samp class="samp">~</samp>&rsquo;, &lsquo;<samp class="samp">.</samp>&rsquo;, and &lsquo;<samp class="samp">..</samp>&rsquo;,
are interpreted as usual in <code class="code">exec-path</code>, but environment variable
substitutions (&lsquo;<samp class="samp">$HOME</samp>&rsquo;, etc.) are not recognized; use
<code class="code">substitute-in-file-name</code> to perform them (see <a class="pxref" href="File-Name-Expansion.html">Functions that Expand Filenames</a>).  <code class="code">nil</code> in this list refers to
<code class="code">default-directory</code>.
</p>
<p>Executing a program can also try adding suffixes to the specified
name:
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-exec_002dsuffixes"><span class="category-def">User Option: </span><span><strong class="def-name">exec-suffixes</strong><a class="copiable-link" href="#index-exec_002dsuffixes"> &para;</a></span></dt>
<dd><p>This variable is a list of suffixes (strings) to try adding to the
specified program file name.  The list should include <code class="code">&quot;&quot;</code> if you
want the name to be tried exactly as specified.  The default value is
system-dependent.
</p></dd></dl>

<p><strong class="strong">Please note:</strong> The argument <var class="var">program</var> contains only the
name of the program file; it may not contain any command-line
arguments.  You must use a separate argument, <var class="var">args</var>, to provide
those, as described below.
</p>
<p>Each of the subprocess-creating functions has a <var class="var">buffer-or-name</var>
argument that specifies where the output from the program will go.  It
should be a buffer or a buffer name; if it is a buffer name, that will
create the buffer if it does not already exist.  It can also be
<code class="code">nil</code>, which says to discard the output, unless a custom filter
function handles it.  (See <a class="xref" href="Filter-Functions.html">Process Filter Functions</a>, and <a class="ref" href="Read-and-Print.html">Reading and Printing Lisp Objects</a>.)  Normally, you should avoid having multiple processes send
output to the same buffer because their output would be intermixed
randomly.  For synchronous processes, you can send the output to a
file instead of a buffer (and the corresponding argument is therefore
more appropriately called <var class="var">destination</var>).  By default, both
standard output and standard error streams go to the same destination,
but all the 3 primitives allow optionally to direct the standard error
stream to a different destination.
</p>
<a class="index-entry-id" id="index-program-arguments"></a>
<p>All three of the subprocess-creating functions allow to specify
command-line arguments for the process to run. For <code class="code">call-process</code>
and <code class="code">call-process-region</code>, these come in the form of a
<code class="code">&amp;rest</code> argument, <var class="var">args</var>.  For <code class="code">make-process</code>, both the
program to run and its command-line arguments are specified as a list
of strings.  The command-line arguments must all be strings, and they
are supplied to the program as separate argument strings.  Wildcard
characters and other shell constructs have no special meanings in
these strings, since the strings are passed directly to the specified
program.
</p>
<a class="index-entry-id" id="index-environment-variables_002c-subprocesses"></a>
<p>The subprocess inherits its environment from Emacs, but you can
specify overrides for it with <code class="code">process-environment</code>.  See <a class="xref" href="System-Environment.html">Operating System Environment</a>.  The subprocess gets its current directory from the
value of <code class="code">default-directory</code>.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-exec_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">exec-directory</strong><a class="copiable-link" href="#index-exec_002ddirectory"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-movemail"></a>
<p>The value of this variable is a string, the name of a directory that
contains programs that come with GNU Emacs and are intended for Emacs
to invoke.  The program <code class="code">movemail</code> is an example of such a program;
Rmail uses it to fetch new mail from an inbox.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-exec_002dpath-1"><span class="category-def">User Option: </span><span><strong class="def-name">exec-path</strong><a class="copiable-link" href="#index-exec_002dpath-1"> &para;</a></span></dt>
<dd><p>The value of this variable is a list of directories to search for
programs to run in subprocesses.  Each element is either the name of a
directory (i.e., a string), or <code class="code">nil</code>, which stands for the default
directory (which is the value of <code class="code">default-directory</code>).
See <a class="xref" href="Locating-Files.html">executable-find</a>, for the details of this search.
<a class="index-entry-id" id="index-program-directories"></a>
</p>
<p>The value of <code class="code">exec-path</code> is used by <code class="code">call-process</code> and
<code class="code">start-process</code> when the <var class="var">program</var> argument is not an absolute
file name.
</p>
<p>Generally, you should not modify <code class="code">exec-path</code> directly.  Instead,
ensure that your <code class="env">PATH</code> environment variable is set appropriately
before starting Emacs.  Trying to modify <code class="code">exec-path</code>
independently of <code class="env">PATH</code> can lead to confusing results.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-exec_002dpath"><span class="category-def">Function: </span><span><strong class="def-name">exec-path</strong><a class="copiable-link" href="#index-exec_002dpath"> &para;</a></span></dt>
<dd><p>This function is an extension of the variable <code class="code">exec-path</code>.  If
<code class="code">default-directory</code> indicates a remote directory, this function
returns a list of directories used for searching programs on the
respective remote host.  In case of a local <code class="code">default-directory</code>,
the function returns just the value of the variable <code class="code">exec-path</code>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Shell-Arguments.html">Shell Arguments</a>, Up: <a href="Processes.html">Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
