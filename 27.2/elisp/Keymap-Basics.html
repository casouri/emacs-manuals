<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.2.

Copyright Â© 1990-1996, 1998-2021 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Keymap Basics (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Keymap Basics (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Keymap Basics (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Keymaps.html" rel="up" title="Keymaps">
<link href="Format-of-Keymaps.html" rel="next" title="Format of Keymaps">
<link href="Key-Sequences.html" rel="prev" title="Key Sequences">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Keymap-Basics">
<div class="nav-panel">
<p>
Next: <a href="Format-of-Keymaps.html" accesskey="n" rel="next">Format of Keymaps</a>, Previous: <a href="Key-Sequences.html" accesskey="p" rel="prev">Key Sequences</a>, Up: <a href="Keymaps.html" accesskey="u" rel="up">Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Keymap-Basics-1"><span>22.2 Keymap Basics<a class="copiable-link" href="#Keymap-Basics-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-key-binding"></a>
<a class="index-entry-id" id="index-binding-of-a-key"></a>
<a class="index-entry-id" id="index-complete-key"></a>
<a class="index-entry-id" id="index-undefined-key"></a>

<p>A keymap is a Lisp data structure that specifies <em class="dfn">key bindings</em>
for various key sequences.
</p>
<p>A single keymap directly specifies definitions for individual
events.  When a key sequence consists of a single event, its binding
in a keymap is the keymap&rsquo;s definition for that event.  The binding of
a longer key sequence is found by an iterative process: first find the
definition of the first event (which must itself be a keymap); then
find the second event&rsquo;s definition in that keymap, and so on until all
the events in the key sequence have been processed.
</p>
<p>If the binding of a key sequence is a keymap, we call the key sequence
a <em class="dfn">prefix key</em>.  Otherwise, we call it a <em class="dfn">complete key</em> (because
no more events can be added to it).  If the binding is <code class="code">nil</code>,
we call the key <em class="dfn">undefined</em>.  Examples of prefix keys are <kbd class="kbd">C-c</kbd>,
<kbd class="kbd">C-x</kbd>, and <kbd class="kbd">C-x 4</kbd>.  Examples of defined complete keys are
<kbd class="kbd">X</kbd>, <kbd class="key">RET</kbd>, and <kbd class="kbd">C-x 4 C-f</kbd>.  Examples of undefined complete
keys are <kbd class="kbd">C-x C-g</kbd>, and <kbd class="kbd">C-c 3</kbd>.  See <a class="xref" href="Prefix-Keys.html">Prefix Keys</a>, for more
details.
</p>
<p>The rule for finding the binding of a key sequence assumes that the
intermediate bindings (found for the events before the last) are all
keymaps; if this is not so, the sequence of events does not form a
unit&mdash;it is not really one key sequence.  In other words, removing one
or more events from the end of any valid key sequence must always yield
a prefix key.  For example, <kbd class="kbd">C-f C-n</kbd> is not a key sequence;
<kbd class="kbd">C-f</kbd> is not a prefix key, so a longer sequence starting with
<kbd class="kbd">C-f</kbd> cannot be a key sequence.
</p>
<p>The set of possible multi-event key sequences depends on the bindings
for prefix keys; therefore, it can be different for different keymaps,
and can change when bindings are changed.  However, a one-event sequence
is always a key sequence, because it does not depend on any prefix keys
for its well-formedness.
</p>
<p>At any time, several primary keymaps are <em class="dfn">active</em>&mdash;that is, in
use for finding key bindings.  These are the <em class="dfn">global map</em>, which is
shared by all buffers; the <em class="dfn">local keymap</em>, which is usually
associated with a specific major mode; and zero or more <em class="dfn">minor mode
keymaps</em>, which belong to currently enabled minor modes.  (Not all minor
modes have keymaps.)  The local keymap bindings shadow (i.e., take
precedence over) the corresponding global bindings.  The minor mode
keymaps shadow both local and global keymaps.  See <a class="xref" href="Active-Keymaps.html">Active Keymaps</a>,
for details.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Format-of-Keymaps.html">Format of Keymaps</a>, Previous: <a href="Key-Sequences.html">Key Sequences</a>, Up: <a href="Keymaps.html">Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
