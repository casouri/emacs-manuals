<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.2.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Keyboard Macro Ring (GNU Emacs Manual)</title>

<meta name="description" content="Keyboard Macro Ring (GNU Emacs Manual)">
<meta name="keywords" content="Keyboard Macro Ring (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Keyboard-Macros.html" rel="up" title="Keyboard Macros">
<link href="Keyboard-Macro-Counter.html" rel="next" title="Keyboard Macro Counter">
<link href="Basic-Keyboard-Macro.html" rel="prev" title="Basic Keyboard Macro">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<span id="Keyboard-Macro-Ring"></span><div class="header">
<p>
Next: <a href="Keyboard-Macro-Counter.html" accesskey="n" rel="next">Keyboard Macro Counter</a>, Previous: <a href="Basic-Keyboard-Macro.html" accesskey="p" rel="prev">Basic Keyboard Macro</a>, Up: <a href="Keyboard-Macros.html" accesskey="u" rel="up">Keyboard Macros</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="The-Keyboard-Macro-Ring"></span><h3 class="section">17.2 The Keyboard Macro Ring</h3>

<p>All defined keyboard macros are recorded in the <em>keyboard macro
ring</em>.  There is only one keyboard macro ring, shared by all buffers.
</p>
<dl compact="compact">
<dt><kbd>C-x C-k C-k</kbd></dt>
<dd><p>Execute the keyboard macro at the head of the ring (<code>kmacro-end-or-call-macro-repeat</code>).
</p></dd>
<dt><kbd>C-x C-k C-n</kbd></dt>
<dd><p>Rotate the keyboard macro ring to the next macro (defined earlier)
(<code>kmacro-cycle-ring-next</code>).
</p></dd>
<dt><kbd>C-x C-k C-p</kbd></dt>
<dd><p>Rotate the keyboard macro ring to the previous macro (defined later)
(<code>kmacro-cycle-ring-previous</code>).
</p></dd>
</dl>

<p>All commands which operate on the keyboard macro ring use the
same <kbd>C-x C-k</kbd> prefix.  Most of these commands can be executed and
repeated immediately after each other without repeating the <kbd>C-x
C-k</kbd> prefix.  For example,
</p>
<div class="example">
<pre class="example">C-x C-k C-p C-p C-k C-k C-k C-n C-n C-k C-p C-k C-d
</pre></div>

<p>will rotate the keyboard macro ring to the second-previous macro,
execute the resulting head macro three times, rotate back to the
original head macro, execute that once, rotate to the previous
macro, execute that, and finally delete it from the macro ring.
</p>
<span id="index-kmacro_002dend_002dor_002dcall_002dmacro_002drepeat"></span>
<span id="index-C_002dx-C_002dk-C_002dk"></span>
<p>The command <kbd>C-x C-k C-k</kbd> (<code>kmacro-end-or-call-macro-repeat</code>)
executes the keyboard macro at the head of the macro ring.  You can
repeat the macro immediately by typing another <kbd>C-k</kbd>, or you can
rotate the macro ring immediately by typing <kbd>C-n</kbd> or <kbd>C-p</kbd>.
</p>
<p>When a keyboard macro is being defined, <kbd>C-x C-k C-k</kbd> behaves
like <tt class="key">F4</tt> except that, immediately afterward, you can use most key
bindings of this section without the <kbd>C-x C-k</kbd> prefix.  For
instance, another <kbd>C-k</kbd> will re-execute the macro.
</p>
<span id="index-kmacro_002dcycle_002dring_002dnext"></span>
<span id="index-C_002dx-C_002dk-C_002dn"></span>
<span id="index-kmacro_002dcycle_002dring_002dprevious"></span>
<span id="index-C_002dx-C_002dk-C_002dp"></span>
<p>The commands <kbd>C-x C-k C-n</kbd> (<code>kmacro-cycle-ring-next</code>) and
<kbd>C-x C-k C-p</kbd> (<code>kmacro-cycle-ring-previous</code>) rotate the
macro ring, bringing the next or previous keyboard macro to the head
of the macro ring.  The definition of the new head macro is displayed
in the echo area.  You can continue to rotate the macro ring
immediately by repeating just <kbd>C-n</kbd> and <kbd>C-p</kbd> until the
desired macro is at the head of the ring.  To execute the new macro
ring head immediately, just type <kbd>C-k</kbd>.
</p>
<p>Note that Emacs treats the head of the macro ring as the last
defined keyboard macro.  For instance, <tt class="key">F4</tt> will execute that
macro, and <kbd>C-x C-k n</kbd> will give it a name.
</p>
<span id="index-kmacro_002dring_002dmax"></span>
<p>The maximum number of macros stored in the keyboard macro ring is
determined by the customizable variable <code>kmacro-ring-max</code>.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Keyboard-Macro-Counter.html" accesskey="n" rel="next">Keyboard Macro Counter</a>, Previous: <a href="Basic-Keyboard-Macro.html" accesskey="p" rel="prev">Basic Keyboard Macro</a>, Up: <a href="Keyboard-Macros.html" accesskey="u" rel="up">Keyboard Macros</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
