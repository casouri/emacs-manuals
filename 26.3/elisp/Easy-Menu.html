<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 26.3.

Copyright Â© 1990-1996, 1998-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Easy Menu (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Easy Menu (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Easy Menu (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Menu-Keymaps.html" rel="up" title="Menu Keymaps">
<link href="Modifying-Menus.html" rel="prev" title="Modifying Menus">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Easy-Menu">
<div class="nav-panel">
<p>
Previous: <a href="Modifying-Menus.html" accesskey="p" rel="prev">Modifying Menus</a>, Up: <a href="Menu-Keymaps.html" accesskey="u" rel="up">Menu Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Easy-Menu-1"><span>22.17.8 Easy Menu<a class="copiable-link" href="#Easy-Menu-1"> &para;</a></span></h4>

<p>The following macro provides a convenient way to define pop-up menus
and/or menu bar menus.
</p>
<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-easy_002dmenu_002ddefine"><span class="category-def">Macro: </span><span><strong class="def-name">easy-menu-define</strong> <var class="def-var-arguments">symbol maps doc menu</var><a class="copiable-link" href="#index-easy_002dmenu_002ddefine"> &para;</a></span></dt>
<dd><p>This macro defines a pop-up menu and/or menu bar submenu, whose
contents are given by <var class="var">menu</var>.
</p>
<p>If <var class="var">symbol</var> is non-<code class="code">nil</code>, it should be a symbol; then this
macro defines <var class="var">symbol</var> as a function for popping up the menu
(see <a class="pxref" href="Pop_002dUp-Menus.html">Pop-Up Menus</a>), with <var class="var">doc</var> as its documentation string.
<var class="var">symbol</var> should not be quoted.
</p>
<p>Regardless of the value of <var class="var">symbol</var>, if <var class="var">maps</var> is a keymap,
the menu is added to that keymap, as a top-level menu for the menu bar
(see <a class="pxref" href="Menu-Bar.html">The Menu Bar</a>).  It can also be a list of keymaps, in which case
the menu is added separately to each of those keymaps.
</p>
<p>The first element of <var class="var">menu</var> must be a string, which serves as the
menu label.  It may be followed by any number of the following
keyword-argument pairs:
</p>
<dl class="table">
<dt><code class="code">:filter <var class="var">function</var></code></dt>
<dd><p><var class="var">function</var> must be a function which, if called with one
argument&mdash;the list of the other menu items&mdash;returns the actual items
to be displayed in the menu.
</p>
</dd>
<dt><code class="code">:visible <var class="var">include</var></code></dt>
<dd><p><var class="var">include</var> is an expression; if it evaluates to <code class="code">nil</code>, the
menu is made invisible.  <code class="code">:included</code> is an alias for
<code class="code">:visible</code>.
</p>
</dd>
<dt><code class="code">:active <var class="var">enable</var></code></dt>
<dd><p><var class="var">enable</var> is an expression; if it evaluates to <code class="code">nil</code>, the menu
is not selectable.  <code class="code">:enable</code> is an alias for <code class="code">:active</code>.
</p></dd>
</dl>

<p>The remaining elements in <var class="var">menu</var> are menu items.
</p>
<p>A menu item can be a vector of three elements, <code class="code">[<var class="var">name</var>
<var class="var">callback</var> <var class="var">enable</var>]</code>.  <var class="var">name</var> is the menu item name (a
string).  <var class="var">callback</var> is a command to run, or an expression to
evaluate, when the item is chosen.  <var class="var">enable</var> is an expression; if
it evaluates to <code class="code">nil</code>, the item is disabled for selection.
</p>
<p>Alternatively, a menu item may have the form:
</p>
<div class="example smallexample">
<pre class="example-preformatted">   [ <var class="var">name</var> <var class="var">callback</var> [ <var class="var">keyword</var> <var class="var">arg</var> ]... ]
</pre></div>

<p>where <var class="var">name</var> and <var class="var">callback</var> have the same meanings as above,
and each optional <var class="var">keyword</var> and <var class="var">arg</var> pair should be one of
the following:
</p>
<dl class="table">
<dt><code class="code">:keys <var class="var">keys</var></code></dt>
<dd><p><var class="var">keys</var> is a keyboard equivalent to the menu item (a string).  This
is normally not needed, as keyboard equivalents are computed
automatically.  <var class="var">keys</var> is expanded with
<code class="code">substitute-command-keys</code> before it is displayed (see <a class="pxref" href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>).
</p>
</dd>
<dt><code class="code">:key-sequence <var class="var">keys</var></code></dt>
<dd><p><var class="var">keys</var> is a hint for speeding up Emacs&rsquo;s first display of the
menu.  It should be <code class="code">nil</code> if you know that the menu item has no keyboard
equivalent; otherwise it should be a string or vector specifying a
keyboard equivalent for the menu item.
</p>
</dd>
<dt><code class="code">:active <var class="var">enable</var></code></dt>
<dd><p><var class="var">enable</var> is an expression; if it evaluates to <code class="code">nil</code>, the item
is make unselectable..  <code class="code">:enable</code> is an alias for <code class="code">:active</code>.
</p>
</dd>
<dt><code class="code">:visible <var class="var">include</var></code></dt>
<dd><p><var class="var">include</var> is an expression; if it evaluates to <code class="code">nil</code>, the
item is made invisible.  <code class="code">:included</code> is an alias for
<code class="code">:visible</code>.
</p>
</dd>
<dt><code class="code">:label <var class="var">form</var></code></dt>
<dd><p><var class="var">form</var> is an expression that is evaluated to obtain a value which
serves as the menu item&rsquo;s label (the default is <var class="var">name</var>).
</p>
</dd>
<dt><code class="code">:suffix <var class="var">form</var></code></dt>
<dd><p><var class="var">form</var> is an expression that is dynamically evaluated and whose
value is concatenated with the menu entry&rsquo;s label.
</p>
</dd>
<dt><code class="code">:style <var class="var">style</var></code></dt>
<dd><p><var class="var">style</var> is a symbol describing the type of menu item; it should be
<code class="code">toggle</code> (a checkbox), or <code class="code">radio</code> (a radio button), or
anything else (meaning an ordinary menu item).
</p>
</dd>
<dt><code class="code">:selected <var class="var">selected</var></code></dt>
<dd><p><var class="var">selected</var> is an expression; the checkbox or radio button is
selected whenever the expression&rsquo;s value is non-<code class="code">nil</code>.
</p>
</dd>
<dt><code class="code">:help <var class="var">help</var></code></dt>
<dd><p><var class="var">help</var> is a string describing the menu item.
</p></dd>
</dl>

<p>Alternatively, a menu item can be a string.  Then that string appears
in the menu as unselectable text.  A string consisting of dashes is
displayed as a separator (see <a class="pxref" href="Menu-Separators.html">Menu Separators</a>).
</p>
<p>Alternatively, a menu item can be a list with the same format as
<var class="var">menu</var>.  This is a submenu.
</p></dd></dl>

<p>Here is an example of using <code class="code">easy-menu-define</code> to define a menu
similar to the one defined in the example in <a class="ref" href="Menu-Bar.html">The Menu Bar</a>:
</p>
<div class="example">
<pre class="example-preformatted">(easy-menu-define words-menu global-map
  &quot;Menu for word navigation commands.&quot;
  '(&quot;Words&quot;
     [&quot;Forward word&quot; forward-word]
     [&quot;Backward word&quot; backward-word]))
</pre></div>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Modifying-Menus.html">Modifying Menus</a>, Up: <a href="Menu-Keymaps.html">Menu Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
