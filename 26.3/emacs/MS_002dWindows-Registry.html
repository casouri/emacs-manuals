<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.3.

Copyright Â© 1985-1987, 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>MS-Windows Registry (GNU Emacs Manual)</title>

<meta name="description" content="MS-Windows Registry (GNU Emacs Manual)">
<meta name="keywords" content="MS-Windows Registry (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Environment.html" rel="up" title="Environment">
<link href="Misc-Variables.html" rel="prev" title="Misc Variables">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="appendixsubsec-level-extent" id="MS_002dWindows-Registry">
<div class="nav-panel">
<p>
Previous: <a href="Misc-Variables.html" accesskey="p" rel="prev">Miscellaneous Variables</a>, Up: <a href="Environment.html" accesskey="u" rel="up">Environment Variables</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="appendixsubsec" id="The-MS_002dWindows-System-Registry"><span>C.4.3 The MS-Windows System Registry<a class="copiable-link" href="#The-MS_002dWindows-System-Registry"> &para;</a></span></h4>
<a class="index-entry-id" id="index-addpm_002c-MS_002dWindows-installation-program"></a>
<a class="index-entry-id" id="index-registry_002c-setting-environment-variables-_0028MS_002dWindows_0029"></a>

<p>On MS-Windows, the installation program <code class="command">addpm.exe</code> adds
values for <code class="env">emacs_dir</code>, <code class="env">EMACSLOADPATH</code>, <code class="env">EMACSDATA</code>,
<code class="env">EMACSPATH</code>, <code class="env">EMACSDOC</code>, <code class="env">SHELL</code> and <code class="env">TERM</code> to the
<samp class="file">HKEY_LOCAL_MACHINE</samp> section of the system registry, under
<samp class="file">/Software/GNU/Emacs</samp>.  It does this because there is no standard
place to set environment variables across different versions of
Windows.  Running <code class="command">addpm.exe</code> is no longer strictly necessary
in recent versions of Emacs, but if you are upgrading from an older
version, running <code class="command">addpm.exe</code> ensures that you do not have
older registry entries from a previous installation, which may not be
compatible with the latest version of Emacs.
</p>
<p>When Emacs starts, as well as checking the environment, it also checks
the System Registry for those variables and for <code class="env">HOME</code>, <code class="env">LANG</code>
and <code class="env">PRELOAD_WINSOCK</code>.
</p>
<p>To determine the value of those variables, Emacs goes through the
following procedure.  First, the environment is checked.  If the
variable is not found there, Emacs looks for registry keys by that
name under <samp class="file">/Software/GNU/Emacs</samp>; first in the
<samp class="file">HKEY_CURRENT_USER</samp> section of the registry, and if not found
there, in the <samp class="file">HKEY_LOCAL_MACHINE</samp> section.  Finally, if Emacs
still cannot determine the values, compiled-in defaults are used.
</p>
<p>In addition to the environment variables above, you can also add
settings to the <samp class="file">/Software/GNU/Emacs</samp> registry key to specify X
resources (see <a class="pxref" href="X-Resources.html">X Options and Resources</a>).  Most of the settings you can specify
in your <samp class="file">.Xdefaults</samp> file can be set from that registry key.
</p>
</div>



</body>
</html>
