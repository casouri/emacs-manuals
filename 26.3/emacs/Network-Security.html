<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.3.

Copyright Â© 1985-1987, 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Network Security (GNU Emacs Manual)</title>

<meta name="description" content="Network Security (GNU Emacs Manual)">
<meta name="keywords" content="Network Security (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Document-View.html" rel="next" title="Document View">
<link href="Host-Security.html" rel="prev" title="Host Security">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="chapter-level-extent" id="Network-Security">
<div class="nav-panel">
<p>
Next: <a href="Document-View.html" accesskey="n" rel="next">Document Viewing</a>, Previous: <a href="Host-Security.html" accesskey="p" rel="prev">Host Security</a>, Up: <a href="index.html" accesskey="u" rel="up">The Emacs Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h2 class="chapter section-level-set-chapter" id="Network-Security-1"><span>36 Network Security<a class="copiable-link" href="#Network-Security-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-network-security-manager"></a>
<a class="index-entry-id" id="index-NSM"></a>
<a class="index-entry-id" id="index-encryption"></a>
<a class="index-entry-id" id="index-SSL"></a>
<a class="index-entry-id" id="index-TLS"></a>
<a class="index-entry-id" id="index-Transport-Layer-Security"></a>
<a class="index-entry-id" id="index-STARTTLS"></a>

<p>Whenever Emacs establishes any network connection, it passes the
established connection to the <em class="dfn">Network Security Manager</em>
(<abbr class="acronym">NSM</abbr>).  <abbr class="acronym">NSM</abbr> is responsible for enforcing the
network security under your control.  Currently, this works by using
the Transport Layer Security (<abbr class="acronym">TLS</abbr>) features.
</p>
<a class="index-entry-id" id="index-network_002dsecurity_002dlevel"></a>
<p>The <code class="code">network-security-level</code> variable determines the security
level that <abbr class="acronym">NSM</abbr> enforces.  If its value is <code class="code">low</code>, no
security checks are performed.
</p>
<p>If this variable is <code class="code">medium</code> (which is the default), a number of
checks will be performed.  If as result <abbr class="acronym">NSM</abbr> determines that
the network connection might not be trustworthy, it will make you
aware of that, and will ask you what to do about the network
connection.
</p>
<p>You can decide to register a permanent security exception for an
unverified connection, a temporary exception, or refuse the connection
entirely.
</p>
<p>Below is a list of the checks done on the <code class="code">medium</code> level.
</p>
<dl class="table">
<dt>unable to verify a <abbr class="acronym">TLS</abbr> certificate</dt>
<dd><p>If the connection is a <abbr class="acronym">TLS</abbr>, <abbr class="acronym">SSL</abbr> or
<abbr class="acronym">STARTTLS</abbr> connection, <abbr class="acronym">NSM</abbr> will check whether
the certificate used to establish the identity of the server we&rsquo;re
connecting to can be verified.
</p>
<p>While an invalid certificate is often the cause for concern (there
could be a Man-in-the-Middle hijacking your network connection and
stealing your password), there may be valid reasons for going ahead
with the connection anyway.  For instance, the server may be using a
self-signed certificate, or the certificate may have expired.  It&rsquo;s up
to you to determine whether it&rsquo;s acceptable to continue with the
connection.
</p>
</dd>
<dt>a self-signed certificate has changed</dt>
<dd><p>If you&rsquo;ve previously accepted a self-signed certificate, but it has
now changed, that could mean that the server has just changed the
certificate, but it might also mean that the network connection has
been hijacked.
</p>
</dd>
<dt>previously encrypted connection now unencrypted</dt>
<dd><p>If the connection is unencrypted, but it was encrypted in previous
sessions, this might mean that there is a proxy between you and the
server that strips away <abbr class="acronym">STARTTLS</abbr> announcements, leaving the
connection unencrypted.  This is usually very suspicious.
</p>
</dd>
<dt>talking to an unencrypted service when sending a password</dt>
<dd><p>When connecting to an <abbr class="acronym">IMAP</abbr> or <abbr class="acronym">POP3</abbr> server, these
should usually be encrypted, because it&rsquo;s common to send passwords
over these connections.  Similarly, if you&rsquo;re sending email via
<abbr class="acronym">SMTP</abbr> that requires a password, you usually want that
connection to be encrypted.  If the connection isn&rsquo;t encrypted,
<abbr class="acronym">NSM</abbr> will warn you.
</p>
</dd>
</dl>

<p>If <code class="code">network-security-level</code> is <code class="code">high</code>, the following checks
will be made, in addition to the above:
</p>
<dl class="table">
<dt>a validated certificate changes the public key</dt>
<dd><p>Servers change their keys occasionally, and that is normally nothing
to be concerned about.  However, if you are worried that your network
connections are being hijacked by agencies who have access to pliable
Certificate Authorities which issue new certificates for third-party
services, you may want to keep track of these changes.
</p>
</dd>
<dt>Diffie-Hellman low prime bits</dt>
<dd><p>When doing the public key exchange, the number of prime bits
should be high to ensure that the channel can&rsquo;t be eavesdropped on by
third parties.  If this number is too low, you will be warned.
</p>
</dd>
<dt><abbr class="acronym">RC4</abbr> stream cipher</dt>
<dd><p>The <abbr class="acronym">RC4</abbr> stream cipher is believed to be of low quality and
may allow eavesdropping by third parties.
</p>
</dd>
<dt><abbr class="acronym">SSL1</abbr>, <abbr class="acronym">SSL2</abbr> and <abbr class="acronym">SSL3</abbr></dt>
<dd><p>The protocols older than <abbr class="acronym">TLS1.0</abbr> are believed to be
vulnerable to a variety of attacks, and you may want to avoid using
these if what you&rsquo;re doing requires higher security.
</p></dd>
</dl>

<p>Finally, if <code class="code">network-security-level</code> is <code class="code">paranoid</code>, you will
also be notified the first time <abbr class="acronym">NSM</abbr> sees any new
certificate.  This will allow you to inspect all the certificates from
all the connections that Emacs makes.
</p>
<p>The following additional variables can be used to control details of
<abbr class="acronym">NSM</abbr> operation:
</p>
<dl class="table">
<dt><a id="index-nsm_002dsettings_002dfile"></a><span><code class="code">nsm-settings-file</code><a class="copiable-link" href="#index-nsm_002dsettings_002dfile"> &para;</a></span></dt>
<dd><p>This is the file where <abbr class="acronym">NSM</abbr> stores details about connections.
It defaults to <samp class="file">~/.emacs.d/network-security.data</samp>.
</p>
</dd>
<dt><a id="index-nsm_002dsave_002dhost_002dnames"></a><span><code class="code">nsm-save-host-names</code><a class="copiable-link" href="#index-nsm_002dsave_002dhost_002dnames"> &para;</a></span></dt>
<dd><p>By default, host names will not be saved for non-<code class="code">STARTTLS</code>
connections.  Instead a host/port hash is used to identify connections.
This means that one can&rsquo;t casually read the settings file to see what
servers the user has connected to.  If this variable is <code class="code">t</code>,
<abbr class="acronym">NSM</abbr> will also save host names in the
<code class="code">nsm-settings-file</code>.
</p></dd>
</dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Document-View.html">Document Viewing</a>, Previous: <a href="Host-Security.html">Host Security</a>, Up: <a href="index.html">The Emacs Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
