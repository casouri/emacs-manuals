<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 24.4.

Copyright Â© 1985-1987, 1993-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Package Installation (GNU Emacs Manual)</title>

<meta name="description" content="Package Installation (GNU Emacs Manual)">
<meta name="keywords" content="Package Installation (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Packages.html" rel="up" title="Packages">
<link href="Package-Files.html" rel="next" title="Package Files">
<link href="Package-Menu.html" rel="prev" title="Package Menu">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Package-Installation">
<div class="nav-panel">
<p>
Next: <a href="Package-Files.html" accesskey="n" rel="next">Package Files and Directory Layout</a>, Previous: <a href="Package-Menu.html" accesskey="p" rel="prev">The Package Menu Buffer</a>, Up: <a href="Packages.html" accesskey="u" rel="up">Emacs Lisp Packages</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Package-Installation-1"><span>48.2 Package Installation<a class="copiable-link" href="#Package-Installation-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-package_002dinstall"></a>
<p>Packages are most conveniently installed using the package menu
(see <a class="pxref" href="Package-Menu.html">The Package Menu Buffer</a>), but you can also use the command <kbd class="kbd">M-x
package-install</kbd>.  This prompts for the name of a package with the
&lsquo;<samp class="samp">available</samp>&rsquo; status, then downloads and installs it.
</p>
<a class="index-entry-id" id="index-package-requirements"></a>
<p>A package may <em class="dfn">require</em> certain other packages to be installed,
because it relies on functionality provided by them.  When Emacs
installs such a package, it also automatically downloads and installs
any required package that is not already installed.  (If a required
package is somehow unavailable, Emacs signals an error and stops
installation.)  A package&rsquo;s requirements list is shown in its help
buffer.
</p>
<a class="index-entry-id" id="index-package_002darchives"></a>
<p>By default, packages are downloaded from a single package archive
maintained by the Emacs developers.  This is controlled by the
variable <code class="code">package-archives</code>, whose value is a list of package
archives known to Emacs.  Each list element must have the form
<code class="code">(<var class="var">id</var> . <var class="var">location</var>)</code>, where <var class="var">id</var> is the name of a
package archive and <var class="var">location</var> is the <abbr class="acronym">HTTP</abbr> address or
directory name of the package archive.  You can alter this list if you
wish to use third party package archives&mdash;but do so at your own risk,
and use only third parties that you think you can trust!
</p>
<a class="anchor" id="Package-Signing"></a><a class="index-entry-id" id="index-package-security"></a>
<a class="index-entry-id" id="index-package-signing"></a>
<p>The maintainers of package archives can increase the trust that you
can have in their packages by <em class="dfn">signing</em> them.  They generate a
private/public pair of cryptographic keys, and use the private key to
create a <em class="dfn">signature file</em> for each package.  With the public key, you
can use the signature files to verify who created the package, and
that it has not been modified.  A valid signature is not a cast-iron
guarantee that a package is not malicious, so you should still
exercise caution.  Package archives should provide instructions
on how you can obtain their public key.  One way is to download the
key from a server such as <a class="url" href="http://pgp.mit.edu/">http://pgp.mit.edu/</a>.
Use <kbd class="kbd">M-x package-import-keyring</kbd> to import the key into Emacs.
Emacs stores package keys in the <samp class="file">gnupg</samp> subdirectory
of <code class="code">package-user-dir</code>.
The public key for the GNU package archive is distributed with Emacs,
in the <samp class="file">etc/package-keyring.gpg</samp>.  Emacs uses it automatically.
</p>
<a class="index-entry-id" id="index-package_002dcheck_002dsignature"></a>
<a class="index-entry-id" id="index-package_002dunsigned_002darchives"></a>
<p>If the user option <code class="code">package-check-signature</code> is non-<code class="code">nil</code>,
Emacs attempts to verify signatures when you install packages.  If the
option has the value <code class="code">allow-unsigned</code>, you can still install a
package that is not signed.  If you use some archives that do not sign
their packages, you can add them to the list <code class="code">package-unsigned-archives</code>.
</p>
<p>For more information on cryptographic keys and signing,
see <a data-manual="gnupg" href="https://www.gnupg.org/documentation/manuals/gnupg/index.html#Top">Top</a> in <cite class="cite">The GNU Privacy Guard Manual</cite>.
Emacs comes with an interface to GNU Privacy Guard,
see <a data-manual="epa" href="https://www.gnu.org/software/emacs/manual/html_node/epa/index.html#Top">EasyPG</a> in <cite class="cite">Emacs EasyPG Assistant Manual</cite>.
</p>
<a class="index-entry-id" id="index-package_002dpinned_002dpackages"></a>
<p>If you have more than one package archive enabled, and some of them
offer different versions of the same package, you may find the option
<code class="code">package-pinned-packages</code> useful.  You can add package/archive
pairs to this list, to ensure that the specified package is only ever
downloaded from the specified archive.
</p>
<p>Once a package is downloaded and installed, it is <em class="dfn">loaded</em> into
the current Emacs session.  Loading a package is not quite the same as
loading a Lisp library (see <a class="pxref" href="Lisp-Libraries.html">Libraries of Lisp Code for Emacs</a>); its effect varies
from package to package.  Most packages just make some new commands
available, while others have more wide-ranging effects on the Emacs
session.  For such information, consult the package&rsquo;s help buffer.
</p>
<p>By default, Emacs also automatically loads all installed packages in
subsequent Emacs sessions.  This happens at startup, after processing
the init file (see <a class="pxref" href="Init-File.html">The Emacs Initialization File</a>).  As an exception, Emacs does not
load packages at startup if invoked with the &lsquo;<samp class="samp">-q</samp>&rsquo; or
&lsquo;<samp class="samp">--no-init-file</samp>&rsquo; options (see <a class="pxref" href="Initial-Options.html">Initial Options</a>).
</p>
<a class="index-entry-id" id="index-package_002denable_002dat_002dstartup"></a>
<p>To disable automatic package loading, change the variable
<code class="code">package-enable-at-startup</code> to <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-package_002dinitialize"></a>
<p>The reason automatic package loading occurs after loading the init
file is that user options only receive their customized values after
loading the init file, including user options which affect the
packaging system.  In some circumstances, you may want to load
packages explicitly in your init file (usually because some other code
in your init file depends on a package).  In that case, your init file
should call the function <code class="code">package-initialize</code>.  It is up to you
to ensure that relevant user options, such as <code class="code">package-load-list</code>
(see below), are set up prior to the <code class="code">package-initialize</code> call.
You should also set <code class="code">package-enable-at-startup</code> to <code class="code">nil</code>, to
avoid loading the packages again after processing the init file.
Alternatively, you may choose to completely inhibit package loading at
startup, and invoke the command <kbd class="kbd">M-x package-initialize</kbd> to load
your packages manually.
</p>
<a class="index-entry-id" id="index-package_002dload_002dlist"></a>
<p>For finer control over package loading, you can use the variable
<code class="code">package-load-list</code>.  Its value should be a list.  A list element
of the form <code class="code">(<var class="var">name</var> <var class="var">version</var>)</code> tells Emacs to load
version <var class="var">version</var> of the package named <var class="var">name</var>.  Here,
<var class="var">version</var> should be a version string (corresponding to a specific
version of the package), or <code class="code">t</code> (which means to load any
installed version), or <code class="code">nil</code> (which means no version; this
&ldquo;disables&rdquo; the package, preventing it from being loaded).  A list
element can also be the symbol <code class="code">all</code>, which means to load the
latest installed version of any package not named by the other list
elements.  The default value is just <code class="code">'(all)</code>.
</p>
<p>For example, if you set <code class="code">package-load-list</code> to <code class="code">'((muse
&quot;3.20&quot;) all)</code>, then Emacs only loads version 3.20 of the &lsquo;<samp class="samp">muse</samp>&rsquo;
package, plus any installed version of packages other than
&lsquo;<samp class="samp">muse</samp>&rsquo;.  Any other version of &lsquo;<samp class="samp">muse</samp>&rsquo; that happens to be
installed will be ignored.  The &lsquo;<samp class="samp">muse</samp>&rsquo; package will be listed in
the package menu with the &lsquo;<samp class="samp">held</samp>&rsquo; status.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Package-Files.html">Package Files and Directory Layout</a>, Previous: <a href="Package-Menu.html">The Package Menu Buffer</a>, Up: <a href="Packages.html">Emacs Lisp Packages</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
