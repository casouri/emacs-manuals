<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.4.

Copyright Â© 1990-1996, 1998-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Input Focus (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Input Focus (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Input Focus (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Frames.html" rel="up" title="Frames">
<link href="Visibility-of-Frames.html" rel="next" title="Visibility of Frames">
<link href="Minibuffers-and-Frames.html" rel="prev" title="Minibuffers and Frames">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Input-Focus">
<div class="nav-panel">
<p>
Next: <a href="Visibility-of-Frames.html" accesskey="n" rel="next">Visibility of Frames</a>, Previous: <a href="Minibuffers-and-Frames.html" accesskey="p" rel="prev">Minibuffers and Frames</a>, Up: <a href="Frames.html" accesskey="u" rel="up">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Input-Focus-1"><span>28.9 Input Focus<a class="copiable-link" href="#Input-Focus-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-input-focus"></a>

<p>At any time, one frame in Emacs is the <em class="dfn">selected frame</em>.  The selected
window always resides on the selected frame.
</p>
<p>When Emacs displays its frames on several terminals (see <a class="pxref" href="Multiple-Terminals.html">Multiple Terminals</a>), each terminal has its own selected frame.  But only one
of these is &ldquo;<em class="emph">the</em> selected frame&rdquo;: it&rsquo;s the frame that belongs
to the terminal from which the most recent input came.  That is, when
Emacs runs a command that came from a certain terminal, the selected
frame is the one of that terminal.  Since Emacs runs only a single
command at any given time, it needs to consider only one selected
frame at a time; this frame is what we call <em class="dfn">the selected frame</em>
in this manual.  The display on which the selected frame is shown is
the <em class="dfn">selected frame&rsquo;s display</em>.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-selected_002dframe"><span class="category-def">Function: </span><span><strong class="def-name">selected-frame</strong><a class="copiable-link" href="#index-selected_002dframe"> &para;</a></span></dt>
<dd><p>This function returns the selected frame.
</p></dd></dl>

<p>Some window systems and window managers direct keyboard input to the
window object that the mouse is in; others require explicit clicks or
commands to <em class="dfn">shift the focus</em> to various window objects.  Either
way, Emacs automatically keeps track of which frame has the focus.  To
explicitly switch to a different frame from a Lisp function, call
<code class="code">select-frame-set-input-focus</code>.
</p>
<p>Lisp programs can also switch frames &ldquo;temporarily&rdquo; by calling the
function <code class="code">select-frame</code>.  This does not alter the window system&rsquo;s
concept of focus; rather, it escapes from the window manager&rsquo;s control
until that control is somehow reasserted.
</p>
<p>When using a text terminal, only one frame can be displayed at a time
on the terminal, so after a call to <code class="code">select-frame</code>, the next
redisplay actually displays the newly selected frame.  This frame
remains selected until a subsequent call to <code class="code">select-frame</code>.  Each
frame on a text terminal has a number which appears in the mode line
before the buffer name (see <a class="pxref" href="Mode-Line-Variables.html">Variables Used in the Mode Line</a>).
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-select_002dframe_002dset_002dinput_002dfocus"><span class="category-def">Function: </span><span><strong class="def-name">select-frame-set-input-focus</strong> <var class="def-var-arguments">frame &amp;optional norecord</var><a class="copiable-link" href="#index-select_002dframe_002dset_002dinput_002dfocus"> &para;</a></span></dt>
<dd><p>This function selects <var class="var">frame</var>, raises it (should it happen to be
obscured by other frames) and tries to give it the X server&rsquo;s focus.
On a text terminal, the next redisplay displays the new frame on the
entire terminal screen.  The optional argument <var class="var">norecord</var> has the
same meaning as for <code class="code">select-frame</code> (see below).  The return value
of this function is not significant.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-select_002dframe"><span class="category-def">Command: </span><span><strong class="def-name">select-frame</strong> <var class="def-var-arguments">frame &amp;optional norecord</var><a class="copiable-link" href="#index-select_002dframe"> &para;</a></span></dt>
<dd><p>This function selects frame <var class="var">frame</var>, temporarily disregarding the
focus of the X server if any.  The selection of <var class="var">frame</var> lasts until
the next time the user does something to select a different frame, or
until the next time this function is called.  (If you are using a
window system, the previously selected frame may be restored as the
selected frame after return to the command loop, because it still may
have the window system&rsquo;s input focus.)
</p>
<p>The specified <var class="var">frame</var> becomes the selected frame, and its terminal
becomes the selected terminal.  This function then calls
<code class="code">select-window</code> as a subroutine, passing the window selected
within <var class="var">frame</var> as its first argument and <var class="var">norecord</var> as its
second argument (hence, if <var class="var">norecord</var> is non-<code class="code">nil</code>, this
avoids changing the order of recently selected windows nor the buffer
list).  See <a class="xref" href="Selecting-Windows.html">Selecting Windows</a>.
</p>
<p>This function returns <var class="var">frame</var>, or <code class="code">nil</code> if <var class="var">frame</var> has
been deleted.
</p>
<p>In general, you should never use <code class="code">select-frame</code> in a way that
could switch to a different terminal without switching back when
you&rsquo;re done.
</p></dd></dl>

<p>Emacs cooperates with the window system by arranging to select frames as
the server and window manager request.  It does so by generating a
special kind of input event, called a <em class="dfn">focus</em> event, when
appropriate.  The command loop handles a focus event by calling
<code class="code">handle-switch-frame</code>.  See <a class="xref" href="Focus-Events.html">Focus Events</a>.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-handle_002dswitch_002dframe"><span class="category-def">Command: </span><span><strong class="def-name">handle-switch-frame</strong> <var class="def-var-arguments">frame</var><a class="copiable-link" href="#index-handle_002dswitch_002dframe"> &para;</a></span></dt>
<dd><p>This function handles a focus event by selecting frame <var class="var">frame</var>.
</p>
<p>Focus events normally do their job by invoking this command.
Don&rsquo;t call it for any other reason.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-redirect_002dframe_002dfocus"><span class="category-def">Function: </span><span><strong class="def-name">redirect-frame-focus</strong> <var class="def-var-arguments">frame &amp;optional focus-frame</var><a class="copiable-link" href="#index-redirect_002dframe_002dfocus"> &para;</a></span></dt>
<dd><p>This function redirects focus from <var class="var">frame</var> to <var class="var">focus-frame</var>.
This means that <var class="var">focus-frame</var> will receive subsequent keystrokes and
events intended for <var class="var">frame</var>.  After such an event, the value of
<code class="code">last-event-frame</code> will be <var class="var">focus-frame</var>.  Also, switch-frame
events specifying <var class="var">frame</var> will instead select <var class="var">focus-frame</var>.
</p>
<p>If <var class="var">focus-frame</var> is omitted or <code class="code">nil</code>, that cancels any existing
redirection for <var class="var">frame</var>, which therefore once again receives its own
events.
</p>
<p>One use of focus redirection is for frames that don&rsquo;t have minibuffers.
These frames use minibuffers on other frames.  Activating a minibuffer
on another frame redirects focus to that frame.  This puts the focus on
the minibuffer&rsquo;s frame, where it belongs, even though the mouse remains
in the frame that activated the minibuffer.
</p>
<p>Selecting a frame can also change focus redirections.  Selecting frame
<code class="code">bar</code>, when <code class="code">foo</code> had been selected, changes any redirections
pointing to <code class="code">foo</code> so that they point to <code class="code">bar</code> instead.  This
allows focus redirection to work properly when the user switches from
one frame to another using <code class="code">select-window</code>.
</p>
<p>This means that a frame whose focus is redirected to itself is treated
differently from a frame whose focus is not redirected.
<code class="code">select-frame</code> affects the former but not the latter.
</p>
<p>The redirection lasts until <code class="code">redirect-frame-focus</code> is called to
change it.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-focus_002din_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">focus-in-hook</strong><a class="copiable-link" href="#index-focus_002din_002dhook"> &para;</a></span></dt>
<dd><p>This is a normal hook run when an Emacs frame gains input focus.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-focus_002dout_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">focus-out-hook</strong><a class="copiable-link" href="#index-focus_002dout_002dhook"> &para;</a></span></dt>
<dd><p>This is a normal hook run when an Emacs frame loses input focus.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-focus_002dfollows_002dmouse"><span class="category-def">User Option: </span><span><strong class="def-name">focus-follows-mouse</strong><a class="copiable-link" href="#index-focus_002dfollows_002dmouse"> &para;</a></span></dt>
<dd><p>This option is how you inform Emacs whether the window manager transfers
focus when the user moves the mouse.  Non-<code class="code">nil</code> says that it does.
When this is so, the command <code class="code">other-frame</code> moves the mouse to a
position consistent with the new selected frame.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Visibility-of-Frames.html">Visibility of Frames</a>, Previous: <a href="Minibuffers-and-Frames.html">Minibuffers and Frames</a>, Up: <a href="Frames.html">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
