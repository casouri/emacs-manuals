<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.4.

Copyright Â© 1990-1996, 1998-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Object Internals (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Object Internals (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Object Internals (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="GNU-Emacs-Internals.html" rel="up" title="GNU Emacs Internals">
<link href="C-Integer-Types.html" rel="next" title="C Integer Types">
<link href="Writing-Emacs-Primitives.html" rel="prev" title="Writing Emacs Primitives">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Object-Internals">
<div class="nav-panel">
<p>
Next: <a href="C-Integer-Types.html" accesskey="n" rel="next">C Integer Types</a>, Previous: <a href="Writing-Emacs-Primitives.html" accesskey="p" rel="prev">Writing Emacs Primitives</a>, Up: <a href="GNU-Emacs-Internals.html" accesskey="u" rel="up">GNU Emacs Internals</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Object-Internals-1"><span>E.7 Object Internals<a class="copiable-link" href="#Object-Internals-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-object-internals"></a>

<p>Emacs Lisp provides a rich set of the data types.  Some of them, like cons
cells, integers and strings, are common to nearly all Lisp dialects.  Some
others, like markers and buffers, are quite special and needed to provide
the basic support to write editor commands in Lisp.  To implement such
a variety of object types and provide an efficient way to pass objects between
the subsystems of an interpreter, there is a set of C data structures and
a special type to represent the pointers to all of them, which is known as
<em class="dfn">tagged pointer</em>.
</p>
<p>In C, the tagged pointer is an object of type <code class="code">Lisp_Object</code>.  Any
initialized variable of such a type always holds the value of one of the
following basic data types: integer, symbol, string, cons cell, float,
vectorlike or miscellaneous object.  Each of these data types has the
corresponding tag value.  All tags are enumerated by <code class="code">enum Lisp_Type</code>
and placed into a 3-bit bitfield of the <code class="code">Lisp_Object</code>.  The rest of the
bits is the value itself.  Integers are immediate, i.e., directly
represented by those <em class="dfn">value bits</em>, and all other objects are represented
by the C pointers to a corresponding object allocated from the heap.  Width
of the <code class="code">Lisp_Object</code> is platform- and configuration-dependent: usually
it&rsquo;s equal to the width of an underlying platform pointer (i.e., 32-bit on
a 32-bit machine and 64-bit on a 64-bit one), but also there is a special
configuration where <code class="code">Lisp_Object</code> is 64-bit but all pointers are 32-bit.
The latter trick was designed to overcome the limited range of values for
Lisp integers on a 32-bit system by using 64-bit <code class="code">long long</code> type for
<code class="code">Lisp_Object</code>.
</p>
<p>The following C data structures are defined in <samp class="file">lisp.h</samp> to represent
the basic data types beyond integers:
</p>
<dl class="table">
<dt><code class="code">struct Lisp_Cons</code></dt>
<dd><p>Cons cell, an object used to construct lists.
</p>
</dd>
<dt><code class="code">struct Lisp_String</code></dt>
<dd><p>String, the basic object to represent a sequence of characters.
</p>
</dd>
<dt><code class="code">struct Lisp_Vector</code></dt>
<dd><p>Array, a fixed-size set of Lisp objects which may be accessed by an index.
</p>
</dd>
<dt><code class="code">struct Lisp_Symbol</code></dt>
<dd><p>Symbol, the unique-named entity commonly used as an identifier.
</p>
</dd>
<dt><code class="code">struct Lisp_Float</code></dt>
<dd><p>Floating-point value.
</p>
</dd>
<dt><code class="code">union Lisp_Misc</code></dt>
<dd><p>Miscellaneous kinds of objects which don&rsquo;t fit into any of the above.
</p></dd>
</dl>

<p>These types are the first-class citizens of an internal type system.
Since the tag space is limited, all other types are the subtypes of either
<code class="code">Lisp_Vectorlike</code> or <code class="code">Lisp_Misc</code>.  Vector subtypes are enumerated
by <code class="code">enum pvec_type</code>, and nearly all complex objects like windows, buffers,
frames, and processes fall into this category.  The rest of special types,
including markers and overlays, are enumerated by <code class="code">enum Lisp_Misc_Type</code>
and form the set of subtypes of <code class="code">Lisp_Misc</code>.
</p>
<p>Below there is a description of a few subtypes of <code class="code">Lisp_Vectorlike</code>.
Buffer object represents the text to display and edit.  Window is the part
of display structure which shows the buffer or used as a container to
recursively place other windows on the same frame.  (Do not confuse Emacs Lisp
window object with the window as an entity managed by the user interface
system like X; in Emacs terminology, the latter is called frame.)  Finally,
process object is used to manage the subprocesses.
</p>

<ul class="mini-toc">
<li><a href="Buffer-Internals.html" accesskey="1">Buffer Internals</a></li>
<li><a href="Window-Internals.html" accesskey="2">Window Internals</a></li>
<li><a href="Process-Internals.html" accesskey="3">Process Internals</a></li>
</ul>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="C-Integer-Types.html">C Integer Types</a>, Previous: <a href="Writing-Emacs-Primitives.html">Writing Emacs Primitives</a>, Up: <a href="GNU-Emacs-Internals.html">GNU Emacs Internals</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
