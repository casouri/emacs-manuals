<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.4.

Copyright Â© 1990-1996, 1998-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Signaling Errors (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Signaling Errors (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Signaling Errors (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Errors.html" rel="up" title="Errors">
<link href="Processing-of-Errors.html" rel="next" title="Processing of Errors">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Signaling-Errors">
<div class="nav-panel">
<p>
Next: <a href="Processing-of-Errors.html" accesskey="n" rel="next">How Emacs Processes Errors</a>, Up: <a href="Errors.html" accesskey="u" rel="up">Errors</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="How-to-Signal-an-Error"><span>10.5.3.1 How to Signal an Error<a class="copiable-link" href="#How-to-Signal-an-Error"> &para;</a></span></h4>
<a class="index-entry-id" id="index-signaling-errors"></a>

<p><em class="dfn">Signaling</em> an error means beginning error processing.  Error
processing normally aborts all or part of the running program and
returns to a point that is set up to handle the error
(see <a class="pxref" href="Processing-of-Errors.html">How Emacs Processes Errors</a>).  Here we describe how to signal an
error.
</p>
<p>Most errors are signaled &ldquo;automatically&rdquo; within Lisp primitives
which you call for other purposes, such as if you try to take the
<small class="sc">CAR</small> of an integer or move forward a character at the end of the
buffer.  You can also signal errors explicitly with the functions
<code class="code">error</code> and <code class="code">signal</code>.
</p>
<p>Quitting, which happens when the user types <kbd class="kbd">C-g</kbd>, is not
considered an error, but it is handled almost like an error.
See <a class="xref" href="Quitting.html">Quitting</a>.
</p>
<p>Every error specifies an error message, one way or another.  The
message should state what is wrong (&ldquo;File does not exist&rdquo;), not how
things ought to be (&ldquo;File must exist&rdquo;).  The convention in Emacs
Lisp is that error messages should start with a capital letter, but
should not end with any sort of punctuation.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-error"><span class="category-def">Function: </span><span><strong class="def-name">error</strong> <var class="def-var-arguments">format-string &amp;rest args</var><a class="copiable-link" href="#index-error"> &para;</a></span></dt>
<dd><p>This function signals an error with an error message constructed by
applying <code class="code">format</code> (see <a class="pxref" href="Formatting-Strings.html">Formatting Strings</a>) to
<var class="var">format-string</var> and <var class="var">args</var>.
</p>
<p>These examples show typical uses of <code class="code">error</code>:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(error &quot;That is an error -- try something else&quot;)
     error&rarr; That is an error -- try something else
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(error &quot;You have committed %d errors&quot; 10)
     error&rarr; You have committed 10 errors
</pre></div></div>

<p><code class="code">error</code> works by calling <code class="code">signal</code> with two arguments: the
error symbol <code class="code">error</code>, and a list containing the string returned by
<code class="code">format</code>.
</p>
<p><strong class="strong">Warning:</strong> If you want to use your own string as an error message
verbatim, don&rsquo;t just write <code class="code">(error <var class="var">string</var>)</code>.  If <var class="var">string</var>
contains &lsquo;<samp class="samp">%</samp>&rsquo;, it will be interpreted as a format specifier, with
undesirable results.  Instead, use <code class="code">(error &quot;%s&quot; <var class="var">string</var>)</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-signal"><span class="category-def">Function: </span><span><strong class="def-name">signal</strong> <var class="def-var-arguments">error-symbol data</var><a class="copiable-link" href="#index-signal"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-signal"></a><p>This function signals an error named by <var class="var">error-symbol</var>.  The
argument <var class="var">data</var> is a list of additional Lisp objects relevant to
the circumstances of the error.
</p>
<p>The argument <var class="var">error-symbol</var> must be an <em class="dfn">error symbol</em>&mdash;a symbol
defined with <code class="code">define-error</code>.  This is how Emacs Lisp classifies different
sorts of errors. See <a class="xref" href="Error-Symbols.html">Error Symbols and Condition Names</a>, for a description of error symbols,
error conditions and condition names.
</p>
<p>If the error is not handled, the two arguments are used in printing
the error message.  Normally, this error message is provided by the
<code class="code">error-message</code> property of <var class="var">error-symbol</var>.  If <var class="var">data</var> is
non-<code class="code">nil</code>, this is followed by a colon and a comma separated list
of the unevaluated elements of <var class="var">data</var>.  For <code class="code">error</code>, the
error message is the <small class="sc">CAR</small> of <var class="var">data</var> (that must be a string).
Subcategories of <code class="code">file-error</code> are handled specially.
</p>
<p>The number and significance of the objects in <var class="var">data</var> depends on
<var class="var">error-symbol</var>.  For example, with a <code class="code">wrong-type-argument</code> error,
there should be two objects in the list: a predicate that describes the type
that was expected, and the object that failed to fit that type.
</p>
<p>Both <var class="var">error-symbol</var> and <var class="var">data</var> are available to any error
handlers that handle the error: <code class="code">condition-case</code> binds a local
variable to a list of the form <code class="code">(<var class="var">error-symbol</var> .
<var class="var">data</var>)</code> (see <a class="pxref" href="Handling-Errors.html">Writing Code to Handle Errors</a>).
</p>
<p>The function <code class="code">signal</code> never returns.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(signal 'wrong-number-of-arguments '(x y))
     error&rarr; Wrong number of arguments: x, y
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(signal 'no-such-error '(&quot;My unknown error condition&quot;))
     error&rarr; peculiar error: &quot;My unknown error condition&quot;
</pre></div></div>
</dd></dl>

<a class="index-entry-id" id="index-user-errors_002c-signaling"></a>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-user_002derror"><span class="category-def">Function: </span><span><strong class="def-name">user-error</strong> <var class="def-var-arguments">format-string &amp;rest args</var><a class="copiable-link" href="#index-user_002derror"> &para;</a></span></dt>
<dd><p>This function behaves exactly like <code class="code">error</code>, except that it uses
the error symbol <code class="code">user-error</code> rather than <code class="code">error</code>.  As the
name suggests, this is intended to report errors on the part of the
user, rather than errors in the code itself.  For example,
if you try to use the command <code class="code">Info-history-back</code> (<kbd class="kbd">l</kbd>) to
move back beyond the start of your Info browsing history, Emacs
signals a <code class="code">user-error</code>.  Such errors do not cause entry to the
debugger, even when <code class="code">debug-on-error</code> is non-<code class="code">nil</code>.
See <a class="xref" href="Error-Debugging.html">Entering the Debugger on an Error</a>.
</p></dd></dl>

<a class="index-entry-id" id="index-CL-note_002d_002d_002dno-continuable-errors"></a>
<blockquote class="quotation">
<p><b class="b">Common Lisp note:</b> Emacs Lisp has nothing like the Common Lisp
concept of continuable errors.
</p></blockquote>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Processing-of-Errors.html">How Emacs Processes Errors</a>, Up: <a href="Errors.html">Errors</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
