<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright Â© 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Error Debugging (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Error Debugging (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Error Debugging (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Debugger.html" rel="up" title="Debugger">
<link href="Infinite-Loops.html" rel="next" title="Infinite Loops">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Error-Debugging">
<div class="nav-panel">
<p>
Next: <a href="Infinite-Loops.html" accesskey="n" rel="next">Debugging Infinite Loops</a>, Up: <a href="Debugger.html" accesskey="u" rel="up">The Lisp Debugger</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Entering-the-Debugger-on-an-Error"><span>17.1.1 Entering the Debugger on an Error<a class="copiable-link" href="#Entering-the-Debugger-on-an-Error"> &para;</a></span></h4>
<a class="index-entry-id" id="index-error-debugging"></a>
<a class="index-entry-id" id="index-debugging-errors"></a>

<p>The most important time to enter the debugger is when a Lisp error
happens.  This allows you to investigate the immediate causes of the
error.
</p>
<p>However, entry to the debugger is not a normal consequence of an
error.  Many commands signal Lisp errors when invoked inappropriately,
and during ordinary editing it would be very inconvenient to enter the
debugger each time this happens.  So if you want errors to enter the
debugger, set the variable <code class="code">debug-on-error</code> to non-<code class="code">nil</code>.
(The command <code class="code">toggle-debug-on-error</code> provides an easy way to do
this.)
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-debug_002don_002derror"><span class="category-def">User Option: </span><span><strong class="def-name">debug-on-error</strong><a class="copiable-link" href="#index-debug_002don_002derror"> &para;</a></span></dt>
<dd><p>This variable determines whether the debugger is called when an error
is signaled and not handled.  If <code class="code">debug-on-error</code> is <code class="code">t</code>,
all kinds of errors call the debugger, except those listed in
<code class="code">debug-ignored-errors</code> (see below).  If it is <code class="code">nil</code>, none
call the debugger.
</p>
<p>The value can also be a list of error conditions (see <a class="pxref" href="Signaling-Errors.html">How to Signal an Error</a>).  Then the debugger is called only for error conditions in
this list (except those also listed in <code class="code">debug-ignored-errors</code>).
For example, if you set <code class="code">debug-on-error</code> to the list
<code class="code">(void-variable)</code>, the debugger is only called for errors about a
variable that has no value.
</p>
<p>Note that <code class="code">eval-expression-debug-on-error</code> overrides this
variable in some cases; see below.
</p>
<p>When this variable is non-<code class="code">nil</code>, Emacs does not create an error
handler around process filter functions and sentinels.  Therefore,
errors in these functions also invoke the debugger.  See <a class="xref" href="Processes.html">Processes</a>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-debug_002dignored_002derrors"><span class="category-def">User Option: </span><span><strong class="def-name">debug-ignored-errors</strong><a class="copiable-link" href="#index-debug_002dignored_002derrors"> &para;</a></span></dt>
<dd><p>This variable specifies errors which should not enter the debugger,
regardless of the value of <code class="code">debug-on-error</code>.  Its value is a list
of error condition symbols and/or regular expressions.  If the error
has any of those condition symbols, or if the error message matches
any of the regular expressions, then that error does not enter the
debugger.
</p>
<p>The normal value of this variable includes <code class="code">user-error</code>, as well
as several errors that happen often during editing but rarely result
from bugs in Lisp programs.  However, &ldquo;rarely&rdquo; is not &ldquo;never&rdquo;; if
your program fails with an error that matches this list, you may try
changing this list to debug the error.  The easiest way is usually to
set <code class="code">debug-ignored-errors</code> to <code class="code">nil</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-eval_002dexpression_002ddebug_002don_002derror"><span class="category-def">User Option: </span><span><strong class="def-name">eval-expression-debug-on-error</strong><a class="copiable-link" href="#index-eval_002dexpression_002ddebug_002don_002derror"> &para;</a></span></dt>
<dd><p>If this variable has a non-<code class="code">nil</code> value (the default), running the
command <code class="code">eval-expression</code> causes <code class="code">debug-on-error</code> to be
temporarily bound to to <code class="code">t</code>.  See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Lisp-Eval.html#Lisp-Eval">Evaluating
Emacs-Lisp Expressions</a> in <cite class="cite">The GNU Emacs Manual</cite>.
</p>
<p>If <code class="code">eval-expression-debug-on-error</code> is <code class="code">nil</code>, then the value
of <code class="code">debug-on-error</code> is not changed during <code class="code">eval-expression</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-debug_002don_002dsignal"><span class="category-def">User Option: </span><span><strong class="def-name">debug-on-signal</strong><a class="copiable-link" href="#index-debug_002don_002dsignal"> &para;</a></span></dt>
<dd><p>Normally, errors caught by <code class="code">condition-case</code> never invoke the
debugger.  The <code class="code">condition-case</code> gets a chance to handle the error
before the debugger gets a chance.
</p>
<p>If you change <code class="code">debug-on-signal</code> to a non-<code class="code">nil</code> value, the
debugger gets the first chance at every error, regardless of the
presence of <code class="code">condition-case</code>.  (To invoke the debugger, the error
must still fulfill the criteria specified by <code class="code">debug-on-error</code> and
<code class="code">debug-ignored-errors</code>.)
</p>
<p><strong class="strong">Warning:</strong> Setting this variable to non-<code class="code">nil</code> may have
annoying effects.  Various parts of Emacs catch errors in the normal
course of affairs, and you may not even realize that errors happen
there.  If you need to debug code wrapped in <code class="code">condition-case</code>,
consider using <code class="code">condition-case-unless-debug</code> (see <a class="pxref" href="Handling-Errors.html">Writing Code to Handle Errors</a>).
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-debug_002don_002devent"><span class="category-def">User Option: </span><span><strong class="def-name">debug-on-event</strong><a class="copiable-link" href="#index-debug_002don_002devent"> &para;</a></span></dt>
<dd><p>If you set <code class="code">debug-on-event</code> to a special event (see <a class="pxref" href="Special-Events.html">Special Events</a>), Emacs will try to enter the debugger as soon as it receives
this event, bypassing <code class="code">special-event-map</code>.  At present, the only
supported values correspond to the signals <code class="code">SIGUSR1</code> and
<code class="code">SIGUSR2</code> (this is the default).  This can be helpful when
<code class="code">inhibit-quit</code> is set and Emacs is not otherwise responding.
</p></dd></dl>

<a class="index-entry-id" id="index-message_002c-finding-what-causes-a-particular-message"></a>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-debug_002don_002dmessage"><span class="category-def">Variable: </span><span><strong class="def-name">debug-on-message</strong><a class="copiable-link" href="#index-debug_002don_002dmessage"> &para;</a></span></dt>
<dd><p>If you set <code class="code">debug-on-message</code> to a regular expression,
Emacs will enter the debugger if it displays a matching message in the
echo area.  For example, this can be useful when trying to find the
cause of a particular message.
</p></dd></dl>

<p>To debug an error that happens during loading of the init
file, use the option &lsquo;<samp class="samp">--debug-init</samp>&rsquo;.  This binds
<code class="code">debug-on-error</code> to <code class="code">t</code> while loading the init file, and
bypasses the <code class="code">condition-case</code> which normally catches errors in the
init file.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Infinite-Loops.html">Debugging Infinite Loops</a>, Up: <a href="Debugger.html">The Lisp Debugger</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
