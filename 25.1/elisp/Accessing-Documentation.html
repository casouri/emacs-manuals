<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright © 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Accessing Documentation (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Accessing Documentation (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Accessing Documentation (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Documentation.html" rel="up" title="Documentation">
<link href="Keys-in-Documentation.html" rel="next" title="Keys in Documentation">
<link href="Documentation-Basics.html" rel="prev" title="Documentation Basics">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Accessing-Documentation">
<div class="nav-panel">
<p>
Next: <a href="Keys-in-Documentation.html" accesskey="n" rel="next">Substituting Key Bindings in Documentation</a>, Previous: <a href="Documentation-Basics.html" accesskey="p" rel="prev">Documentation Basics</a>, Up: <a href="Documentation.html" accesskey="u" rel="up">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Access-to-Documentation-Strings"><span>23.2 Access to Documentation Strings<a class="copiable-link" href="#Access-to-Documentation-Strings"> &para;</a></span></h3>
<a class="index-entry-id" id="index-accessing-documentation-strings"></a>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-documentation_002dproperty"><span class="category-def">Function: </span><span><strong class="def-name">documentation-property</strong> <var class="def-var-arguments">symbol property &amp;optional verbatim</var><a class="copiable-link" href="#index-documentation_002dproperty"> &para;</a></span></dt>
<dd><p>This function returns the documentation string recorded in
<var class="var">symbol</var>&rsquo;s property list under property <var class="var">property</var>.  It is
most often used to look up the documentation strings of variables, for
which <var class="var">property</var> is <code class="code">variable-documentation</code>.  However, it
can also be used to look up other kinds of documentation, such as for
customization groups (but for function documentation, use the
<code class="code">documentation</code> function, below).
</p>
<p>If the property value refers to a documentation string stored in the
<samp class="file">DOC</samp> file or a byte-compiled file, this function looks up that
string and returns it.
</p>
<p>If the property value isn&rsquo;t <code class="code">nil</code>, isn&rsquo;t a string, and doesn&rsquo;t
refer to text in a file, then it is evaluated as a Lisp expression to
obtain a string.
</p>
<p>Finally, this function passes the string through
<code class="code">substitute-command-keys</code> to substitute key bindings (see <a class="pxref" href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>).  It skips this step if <var class="var">verbatim</var> is
non-<code class="code">nil</code>.
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(documentation-property 'command-line-processed
   'variable-documentation)
     &rArr; &quot;Non-nil once command line has been processed&quot;
</pre></div><div class="group"><pre class="example-preformatted">(symbol-plist 'command-line-processed)
     &rArr; (variable-documentation 188902)
</pre></div><div class="group"><pre class="example-preformatted">(documentation-property 'emacs 'group-documentation)
     &rArr; &quot;Customization of the One True Editor.&quot;
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-documentation"><span class="category-def">Function: </span><span><strong class="def-name">documentation</strong> <var class="def-var-arguments">function &amp;optional verbatim</var><a class="copiable-link" href="#index-documentation"> &para;</a></span></dt>
<dd><p>This function returns the documentation string of <var class="var">function</var>.  It
handles macros, named keyboard macros, and special forms, as well as
ordinary functions.
</p>
<p>If <var class="var">function</var> is a symbol, this function first looks for the
<code class="code">function-documentation</code> property of that symbol; if that has a
non-<code class="code">nil</code> value, the documentation comes from that value (if the
value is not a string, it is evaluated).
</p>
<p>If <var class="var">function</var> is not a symbol, or if it has no
<code class="code">function-documentation</code> property, then <code class="code">documentation</code>
extracts the documentation string from the actual function definition,
reading it from a file if called for.
</p>
<p>Finally, unless <var class="var">verbatim</var> is non-<code class="code">nil</code>, this function calls
<code class="code">substitute-command-keys</code>.  The result is the documentation
string to return.
</p>
<p>The <code class="code">documentation</code> function signals a <code class="code">void-function</code> error
if <var class="var">function</var> has no function definition.  However, it is OK if
the function definition has no documentation string.  In that case,
<code class="code">documentation</code> returns <code class="code">nil</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-face_002ddocumentation"><span class="category-def">Function: </span><span><strong class="def-name">face-documentation</strong> <var class="def-var-arguments">face</var><a class="copiable-link" href="#index-face_002ddocumentation"> &para;</a></span></dt>
<dd><p>This function returns the documentation string of <var class="var">face</var> as a
face.
</p></dd></dl>

<p>Here is an example of using the two functions, <code class="code">documentation</code> and
<code class="code">documentation-property</code>, to display the documentation strings for
several symbols in a <samp class="file">*Help*</samp> buffer.
</p>
<a class="anchor" id="describe_002dsymbols-example"></a><div class="example smallexample">
<div class="group"><pre class="example-preformatted">(defun describe-symbols (pattern)
  &quot;Describe the Emacs Lisp symbols matching PATTERN.
All symbols that have PATTERN in their name are described
in the *Help* buffer.&quot;
  (interactive &quot;sDescribe symbols matching: &quot;)
  (let ((describe-func
         (function
          (lambda (s)
</pre></div><div class="group"><pre class="example-preformatted">            ;; <span class="r">Print description of symbol.</span>
            (if (fboundp s)             ; <span class="r">It is a function.</span>
                (princ
                 (format &quot;%s\t%s\n%s\n\n&quot; s
                   (if (commandp s)
                       (let ((keys (where-is-internal s)))
                         (if keys
                             (concat
                              &quot;Keys: &quot;
                              (mapconcat 'key-description
                                         keys &quot; &quot;))
                           &quot;Keys: none&quot;))
                     &quot;Function&quot;)
</pre></div><div class="group"><pre class="example-preformatted">                   (or (documentation s)
                       &quot;not documented&quot;))))

            (if (boundp s)              ; <span class="r">It is a variable.</span>
</pre></div><div class="group"><pre class="example-preformatted">                (princ
                 (format &quot;%s\t%s\n%s\n\n&quot; s
                   (if (custom-variable-p s)
                       &quot;Option &quot; &quot;Variable&quot;)
</pre></div><div class="group"><pre class="example-preformatted">                   (or (documentation-property
                         s 'variable-documentation)
                       &quot;not documented&quot;)))))))
        sym-list)
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">    ;; <span class="r">Build a list of symbols that match pattern.</span>
    (mapatoms (function
               (lambda (sym)
                 (if (string-match pattern (symbol-name sym))
                     (setq sym-list (cons sym sym-list))))))
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">    ;; <span class="r">Display the data.</span>
    (help-setup-xref (list 'describe-symbols pattern) (interactive-p))
    (with-help-window (help-buffer)
      (mapcar describe-func (sort sym-list 'string&lt;)))))
</pre></div></div>

<p>The <code class="code">describe-symbols</code> function works like <code class="code">apropos</code>,
but provides more information.
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(describe-symbols &quot;goal&quot;)

---------- Buffer: *Help* ----------
goal-column     Option
Semipermanent goal column for vertical motion, as set by ...
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">minibuffer-temporary-goal-position      Variable
not documented
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">set-goal-column Keys: C-x C-n
Set the current horizontal position as a goal for C-n and C-p.
</pre></div><div class="group"><pre class="example-preformatted">Those commands will move to this position in the line moved to
rather than trying to keep the same horizontal position.
With a non-nil argument ARG, clears out the goal column
so that C-n and C-p resume vertical motion.
The goal column is stored in the variable ‘goal-column’.

(fn ARG)
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">temporary-goal-column   Variable
Current goal column for vertical motion.
It is the column where point was at the start of the current run
of vertical motion commands.

When moving by visual lines via the function ‘line-move-visual’, it is a cons
cell (COL . HSCROLL), where COL is the x-position, in pixels,
divided by the default column width, and HSCROLL is the number of
columns by which window is scrolled from left margin.

When the ‘track-eol’ feature is doing its job, the value is
‘most-positive-fixnum’.
---------- Buffer: *Help* ----------
</pre></div></div>

<a class="anchor" id="Definition-of-Snarf_002ddocumentation"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Snarf_002ddocumentation"><span class="category-def">Function: </span><span><strong class="def-name">Snarf-documentation</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-Snarf_002ddocumentation"> &para;</a></span></dt>
<dd><p>This function is used when building Emacs, just before the runnable
Emacs is dumped.  It finds the positions of the documentation strings
stored in the file <var class="var">filename</var>, and records those positions into
memory in the function definitions and variable property lists.
See <a class="xref" href="Building-Emacs.html">Building Emacs</a>.
</p>
<p>Emacs reads the file <var class="var">filename</var> from the <samp class="file">emacs/etc</samp> directory.
When the dumped Emacs is later executed, the same file will be looked
for in the directory <code class="code">doc-directory</code>.  Usually <var class="var">filename</var> is
<code class="code">&quot;DOC&quot;</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-doc_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">doc-directory</strong><a class="copiable-link" href="#index-doc_002ddirectory"> &para;</a></span></dt>
<dd><p>This variable holds the name of the directory which should contain the
file <code class="code">&quot;DOC&quot;</code> that contains documentation strings for
built-in and preloaded functions and variables.
</p>
<p>In most cases, this is the same as <code class="code">data-directory</code>.  They may be
different when you run Emacs from the directory where you built it,
without actually installing it.  See <a class="xref" href="Help-Functions.html#Definition-of-data_002ddirectory">Definition of data-directory</a>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>, Previous: <a href="Documentation-Basics.html">Documentation Basics</a>, Up: <a href="Documentation.html">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
