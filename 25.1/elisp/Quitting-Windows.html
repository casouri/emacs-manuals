<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.1.

Copyright Â© 1990-1996, 1998-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Quitting Windows (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Quitting Windows (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Quitting Windows (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Windows.html" rel="up" title="Windows">
<link href="Window-Point.html" rel="next" title="Window Point">
<link href="Dedicated-Windows.html" rel="prev" title="Dedicated Windows">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Quitting-Windows">
<div class="nav-panel">
<p>
Next: <a href="Window-Point.html" accesskey="n" rel="next">Windows and Point</a>, Previous: <a href="Dedicated-Windows.html" accesskey="p" rel="prev">Dedicated Windows</a>, Up: <a href="Windows.html" accesskey="u" rel="up">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Quitting-Windows-1"><span>27.18 Quitting Windows<a class="copiable-link" href="#Quitting-Windows-1"> &para;</a></span></h3>

<p>When you want to get rid of a window used for displaying a buffer, you
can call <code class="code">delete-window</code> or <code class="code">delete-windows-on</code>
(see <a class="pxref" href="Deleting-Windows.html">Deleting Windows</a>) to remove that window from its frame.  If the
buffer is shown on a separate frame, you might want to call
<code class="code">delete-frame</code> (see <a class="pxref" href="Deleting-Frames.html">Deleting Frames</a>) instead.  If, on the other
hand, a window has been reused for displaying the buffer, you might
prefer showing the buffer previously shown in that window, by calling the
function <code class="code">switch-to-prev-buffer</code> (see <a class="pxref" href="Window-History.html">Window History</a>).
Finally, you might want to either bury (see <a class="pxref" href="Buffer-List.html">The Buffer List</a>) or kill
(see <a class="pxref" href="Killing-Buffers.html">Killing Buffers</a>) the window&rsquo;s buffer.
</p>
<p>The following command uses information on how the window for
displaying the buffer was obtained in the first place, thus attempting
to automate the above decisions for you.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-quit_002dwindow"><span class="category-def">Command: </span><span><strong class="def-name">quit-window</strong> <var class="def-var-arguments">&amp;optional kill window</var><a class="copiable-link" href="#index-quit_002dwindow"> &para;</a></span></dt>
<dd><p>This command quits <var class="var">window</var> and buries its buffer.  The argument
<var class="var">window</var> must be a live window and defaults to the selected one.
With prefix argument <var class="var">kill</var> non-<code class="code">nil</code>, it kills the buffer
instead of burying it.  It calls the function <code class="code">quit-restore-window</code>
described next to deal with the window and its buffer.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-quit_002drestore_002dwindow"><span class="category-def">Function: </span><span><strong class="def-name">quit-restore-window</strong> <var class="def-var-arguments">&amp;optional window bury-or-kill</var><a class="copiable-link" href="#index-quit_002drestore_002dwindow"> &para;</a></span></dt>
<dd><p>This function tries to restore the state of <var class="var">window</var> that existed
before its buffer was displayed in it.  The optional argument
<var class="var">window</var> must be a live window and defaults to the selected one.
</p>
<p>If <var class="var">window</var> was created specially for displaying its buffer, this
function deletes <var class="var">window</var> provided its frame contains at least one
other live window.  If <var class="var">window</var> is the only window on its frame and
there are other frames on the frame&rsquo;s terminal, the value of the
optional argument <var class="var">bury-or-kill</var> determines how to proceed with the
window.  If <var class="var">bury-or-kill</var> equals <code class="code">kill</code>, the frame is deleted
unconditionally.  Otherwise, the fate of the frame is determined by
calling <code class="code">frame-auto-hide-function</code> (see below) with that frame as
sole argument.
</p>
<p>Otherwise, this function tries to redisplay the buffer previously shown
in <var class="var">window</var>.  It also tries to restore the window start
(see <a class="pxref" href="Window-Start-and-End.html">The Window Start and End Positions</a>) and point (see <a class="pxref" href="Window-Point.html">Windows and Point</a>)
positions of the previously shown buffer.  If, in addition,
<var class="var">window</var>&rsquo;s buffer was temporarily resized, this function will also
try to restore the original height of <var class="var">window</var>.
</p>
<p>The cases described so far require that the buffer shown in <var class="var">window</var>
is still the buffer displayed by the last buffer display function for
this window.  If another buffer has been shown in the meantime, or the
buffer previously shown no longer exists, this function calls
<code class="code">switch-to-prev-buffer</code> (see <a class="pxref" href="Window-History.html">Window History</a>) to show some other
buffer instead.
</p>
<p>The optional argument <var class="var">bury-or-kill</var> specifies how to deal with
<var class="var">window</var>&rsquo;s buffer.  The following values are handled:
</p>
<dl class="table">
<dt><code class="code">nil</code></dt>
<dd><p>This means to not deal with the buffer in any particular way.  As a
consequence, if <var class="var">window</var> is not deleted, invoking
<code class="code">switch-to-prev-buffer</code> will usually show the buffer again.
</p>
</dd>
<dt><code class="code">append</code></dt>
<dd><p>This means that if <var class="var">window</var> is not deleted, its buffer is moved to
the end of <var class="var">window</var>&rsquo;s list of previous buffers, so it&rsquo;s less likely
that a future invocation of <code class="code">switch-to-prev-buffer</code> will switch to
it.  Also, it moves the buffer to the end of the frame&rsquo;s buffer list.
</p>
</dd>
<dt><code class="code">bury</code></dt>
<dd><p>This means that if <var class="var">window</var> is not deleted, its buffer is removed
from <var class="var">window</var>&rsquo;s list of previous buffers.  Also, it moves the buffer
to the end of the frame&rsquo;s buffer list.  This value provides the most
reliable remedy to not have <code class="code">switch-to-prev-buffer</code> switch to this
buffer again without killing the buffer.
</p>
</dd>
<dt><code class="code">kill</code></dt>
<dd><p>This means to kill <var class="var">window</var>&rsquo;s buffer.
</p></dd>
</dl>

<p><code class="code">quit-restore-window</code> bases its decisions on information stored in
<var class="var">window</var>&rsquo;s <code class="code">quit-restore</code> window parameter (see <a class="pxref" href="Window-Parameters.html">Window Parameters</a>), and resets that parameter to <code class="code">nil</code> after it&rsquo;s done.
</p></dd></dl>

<p>The following option specifies how to deal with a frame containing just
one window that should be either quit, or whose buffer should be buried.
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-frame_002dauto_002dhide_002dfunction"><span class="category-def">User Option: </span><span><strong class="def-name">frame-auto-hide-function</strong><a class="copiable-link" href="#index-frame_002dauto_002dhide_002dfunction"> &para;</a></span></dt>
<dd><p>The function specified by this option is called to automatically hide
frames.  This function is called with one argument&mdash;a frame.
</p>
<p>The function specified here is called by <code class="code">bury-buffer</code>
(see <a class="pxref" href="Buffer-List.html">The Buffer List</a>) when the selected window is dedicated and shows
the buffer to bury.  It is also called by <code class="code">quit-restore-window</code>
(see above) when the frame of the window to quit has been specially
created for displaying that window&rsquo;s buffer and the buffer is not
killed.
</p>
<p>The default is to call <code class="code">iconify-frame</code> (see <a class="pxref" href="Visibility-of-Frames.html">Visibility of Frames</a>).  Alternatively, you may specify either <code class="code">delete-frame</code>
(see <a class="pxref" href="Deleting-Frames.html">Deleting Frames</a>) to remove the frame from its display,
<code class="code">ignore</code> to leave the frame unchanged, or any other function that
can take a frame as its sole argument.
</p>
<p>Note that the function specified by this option is called only if the
specified frame contains just one live window and there is at least one
other frame on the same terminal.
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Window-Point.html">Windows and Point</a>, Previous: <a href="Dedicated-Windows.html">Dedicated Windows</a>, Up: <a href="Windows.html">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
