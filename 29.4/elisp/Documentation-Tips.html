<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.4.

Copyright © 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Documentation Tips (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Documentation Tips (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Documentation Tips (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tips.html" rel="up" title="Tips">
<link href="Comment-Tips.html" rel="next" title="Comment Tips">
<link href="Warning-Tips.html" rel="prev" title="Warning Tips">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Documentation-Tips">
<div class="nav-panel">
<p>
Next: <a href="Comment-Tips.html" accesskey="n" rel="next">Tips on Writing Comments</a>, Previous: <a href="Warning-Tips.html" accesskey="p" rel="prev">Tips for Avoiding Compiler Warnings</a>, Up: <a href="Tips.html" accesskey="u" rel="up">Tips and Conventions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Tips-for-Documentation-Strings"><span>D.6 Tips for Documentation Strings<a class="copiable-link" href="#Tips-for-Documentation-Strings"> &para;</a></span></h3>
<a class="index-entry-id" id="index-documentation-strings_002c-conventions-and-tips"></a>
<a class="index-entry-id" id="index-tips-for-documentation-strings"></a>
<a class="index-entry-id" id="index-conventions-for-documentation-strings"></a>

<a class="index-entry-id" id="index-checkdoc_002dminor_002dmode"></a>
<p>Here are some tips and conventions for the writing of documentation
strings.  You can check many of these conventions by running the command
<kbd class="kbd">M-x checkdoc-minor-mode</kbd>.
</p>
<ul class="itemize mark-bullet">
<li>Every command, function, or variable intended for users to know about
should have a documentation string.

</li><li>An internal variable or subroutine of a Lisp program might as well
have a documentation string.  Documentation strings take up very
little space in a running Emacs.

</li><li>Format the documentation string so that it fits in an Emacs window on an
80-column screen.  It is a good idea for most lines to be no wider than
60 characters.  The first line should not be wider than 67 characters
or it will look bad in the output of <code class="code">apropos</code>.

<a class="index-entry-id" id="index-emacs_002dlisp_002ddocstring_002dfill_002dcolumn"></a>
<p>You can fill the text if that looks good.  Emacs Lisp mode fills
documentation strings to the width specified by
<code class="code">emacs-lisp-docstring-fill-column</code>.  However, you can sometimes
make a documentation string much more readable by adjusting its line
breaks with care.  Use blank lines between sections if the
documentation string is long.
</p>
</li><li>The first line of the documentation string should consist of one or two
complete sentences that stand on their own as a summary.  <kbd class="kbd">M-x
apropos</kbd> displays just the first line, and if that line&rsquo;s contents don&rsquo;t
stand on their own, the result looks bad.  In particular, start the
first line with a capital letter and end it with a period.

<p>For a function, the first line should briefly answer the question,
&ldquo;What does this function do?&rdquo;  For a variable, the first line should
briefly answer the question, &ldquo;What does this value mean?&rdquo;  Prefer to
answer these questions in a way that will make sense to users and
callers of the function or the variable.  In particular, do <em class="emph">not</em>
tell what the function does by enumerating the actions of its code;
instead, describe the role of these actions and the function&rsquo;s
contract.
</p>
<p>Don&rsquo;t limit the documentation string to one line; use as many lines as
you need to explain the details of how to use the function or
variable.  Please use complete sentences for the rest of the text too.
</p>
</li><li>When the user tries to use a disabled command, Emacs displays just the
first paragraph of its documentation string&mdash;everything through the
first blank line.  If you wish, you can choose which information to
include before the first blank line so as to make this display useful.

</li><li>The first line should mention all the important arguments of the
function (in particular, the mandatory arguments), and should mention
them in the order that they are written in a function call.  If the
function has many arguments, then it is not feasible to mention them
all in the first line; in that case, the first line should mention the
first few arguments, including the most important arguments.

</li><li>When a function&rsquo;s documentation string mentions the value of an argument
of the function, use the argument name in capital letters as if it were
a name for that value.  Thus, the documentation string of the function
<code class="code">eval</code> refers to its first argument as &lsquo;<samp class="samp">FORM</samp>&rsquo;, because the
actual argument name is <code class="code">form</code>:

<div class="example">
<pre class="example-preformatted">Evaluate FORM and return its value.
</pre></div>

<p>Also write metasyntactic variables in capital letters, such as when you
show the decomposition of a list or vector into subunits, some of which
may vary.  &lsquo;<samp class="samp">KEY</samp>&rsquo; and &lsquo;<samp class="samp">VALUE</samp>&rsquo; in the following example
illustrate this practice:
</p>
<div class="example">
<pre class="example-preformatted">The argument TABLE should be an alist whose elements
have the form (KEY . VALUE).  Here, KEY is ...
</pre></div>

</li><li>Never change the case of a Lisp symbol when you mention it in a doc
string.  If the symbol&rsquo;s name is <code class="code">foo</code>, write &ldquo;foo&rdquo;, not
&ldquo;Foo&rdquo; (which is a different symbol).

<p>This might appear to contradict the policy of writing function
argument values, but there is no real contradiction; the argument
<em class="emph">value</em> is not the same thing as the <em class="emph">symbol</em> that the
function uses to hold the value.
</p>
<p>If this puts a lower-case letter at the beginning of a sentence
and that annoys you, rewrite the sentence so that the symbol
is not at the start of it.
</p>
</li><li>Do not start or end a documentation string with whitespace.

</li><li><strong class="strong">Do not</strong> indent subsequent lines of a documentation string so
that the text is lined up in the source code with the text of the first
line.  This looks nice in the source code, but looks bizarre when users
view the documentation.  Remember that the indentation before the
starting double-quote is not part of the string!

</li><li><a class="index-entry-id" id="index-quoting-apostrophe-and-grave-accent-in-doc-strings"></a>
<a class="index-entry-id" id="index-apostrophe_002c-quoting-in-documentation-strings"></a>
<a class="index-entry-id" id="index-grave-accent_002c-quoting-in-documentation-strings"></a>
<a class="index-entry-id" id="index-escaping-apostrophe-and-grave-accent-in-doc-strings"></a>
When documentation should display an ASCII apostrophe or grave accent,
use &lsquo;<samp class="samp">\\='</samp>&rsquo; or &lsquo;<samp class="samp">\\=`</samp>&rsquo; in the documentation string literal so
that the character is displayed as-is.

</li><li>In documentation strings, do not quote expressions that are not Lisp symbols,
as these expressions can stand for themselves.  For example, write
&lsquo;<samp class="samp">Return the list (NAME TYPE RANGE) ...</samp>&rsquo; instead of
&lsquo;<samp class="samp">Return the list `(NAME TYPE RANGE)' ...</samp>&rsquo; or
&lsquo;<samp class="samp">Return the list \\='(NAME TYPE RANGE) ...</samp>&rsquo;.

<a class="anchor" id="Docstring-hyperlinks"></a></li><li><a class="index-entry-id" id="index-curly-quotes-1"></a>
<a class="index-entry-id" id="index-curved-quotes-1"></a>
When a documentation string refers to a Lisp symbol, write it as it
would be printed (which usually means in lower case), with a grave
accent &lsquo;<samp class="samp">`</samp>&rsquo; before and apostrophe &lsquo;<samp class="samp">'</samp>&rsquo; after it.  There are
two exceptions: write <code class="code">t</code> and <code class="code">nil</code> without surrounding
punctuation.  For example:

<div class="example">
<pre class="example-preformatted">CODE can be `lambda', nil, or t.
</pre></div>

<p>Note that when Emacs displays these doc strings, Emacs will usually
display &lsquo;<samp class="samp">`</samp>&rsquo; (grave accent) as &lsquo;<samp class="samp">‘</samp>&rsquo; (left single quotation
mark) and &lsquo;<samp class="samp">'</samp>&rsquo; (apostrophe) as &lsquo;<samp class="samp">’</samp>&rsquo; (right single quotation
mark), if the display supports displaying these characters.
See <a class="xref" href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>.  (Some previous versions of this section
recommended using the non-<abbr class="acronym">ASCII</abbr> single quotation marks
directly in doc strings, but this is now discouraged, since that leads
to broken help string displays on terminals that don&rsquo;t support
displaying those characters.)
</p>
<a class="index-entry-id" id="index-hyperlinks-in-documentation-strings"></a>
<p>Help mode automatically creates a hyperlink when a documentation string
uses a single-quoted symbol name, if the symbol has either a
function or a variable definition.  You do not need to do anything
special to make use of this feature.  However, when a symbol has both a
function definition and a variable definition, and you want to refer to
just one of them, you can specify which one by writing one of the words
&lsquo;<samp class="samp">variable</samp>&rsquo;, &lsquo;<samp class="samp">option</samp>&rsquo;, &lsquo;<samp class="samp">function</samp>&rsquo;, or &lsquo;<samp class="samp">command</samp>&rsquo;,
immediately before the symbol name.  (Case makes no difference in
recognizing these indicator words.)  For example, if you write
</p>
<div class="example">
<pre class="example-preformatted">This function sets the variable `buffer-file-name'.
</pre></div>

<p>then the hyperlink will refer only to the variable documentation of
<code class="code">buffer-file-name</code>, and not to its function documentation.
</p>
<p>If a symbol has a function definition and/or a variable definition, but
those are irrelevant to the use of the symbol that you are documenting,
you can write the words &lsquo;<samp class="samp">symbol</samp>&rsquo; or &lsquo;<samp class="samp">program</samp>&rsquo; before the
symbol name to prevent making any hyperlink.  For example,
</p>
<div class="example">
<pre class="example-preformatted">If the argument KIND-OF-RESULT is the symbol `list',
this function returns a list of all the objects
that satisfy the criterion.
</pre></div>

<p>does not make a hyperlink to the documentation, irrelevant here, of the
function <code class="code">list</code>.
</p>
<p>Normally, no hyperlink is made for a variable without variable
documentation.  You can force a hyperlink for such variables by
preceding them with one of the words &lsquo;<samp class="samp">variable</samp>&rsquo; or
&lsquo;<samp class="samp">option</samp>&rsquo;.
</p>
<p>Hyperlinks for faces are only made if the face name is preceded or
followed by the word &lsquo;<samp class="samp">face</samp>&rsquo;.  In that case, only the face
documentation will be shown, even if the symbol is also defined as a
variable or as a function.
</p>
<p>To make a hyperlink to Info documentation, write the single-quoted
name of the Info node (or anchor), preceded by
&lsquo;<samp class="samp">info node</samp>&rsquo;, &lsquo;<samp class="samp">Info node</samp>&rsquo;, &lsquo;<samp class="samp">info anchor</samp>&rsquo; or &lsquo;<samp class="samp">Info
anchor</samp>&rsquo;.  The Info file name defaults to &lsquo;<samp class="samp">emacs</samp>&rsquo;.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">See Info node `Font Lock' and Info node `(elisp)Font Lock Basics'.
</pre></div>

<p>To make a hyperlink to a man page, write the single-quoted name of the
man page, preceded by &lsquo;<samp class="samp">Man page</samp>&rsquo;, &lsquo;<samp class="samp">man page</samp>&rsquo;, or &lsquo;<samp class="samp">man
page for</samp>&rsquo;.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">See the man page `chmod(1)' for details.
</pre></div>

<p>The Info documentation is always preferable to man pages, so be sure
to link to an Info manual where available.  For example,
<code class="command">chmod</code> is documented in the GNU Coreutils manual, so it is
better to link to that instead of the man page.
</p>
<p>To link to a customization group, write the single-quoted name of the
group, preceded by &lsquo;<samp class="samp">customization group</samp>&rsquo; (the first character in
each word is case-insensitive).  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">See the customization group `whitespace' for details.
</pre></div>

<p>Finally, to create a hyperlink to URLs, write the single-quoted URL,
preceded by &lsquo;<samp class="samp">URL</samp>&rsquo;.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">The GNU project website has more information (see URL
`https://www.gnu.org/').
</pre></div>

</li><li>Don&rsquo;t write key sequences directly in documentation strings.  Instead,
use the &lsquo;<samp class="samp">\\[&hellip;]</samp>&rsquo; construct to stand for them.  For example,
instead of writing &lsquo;<samp class="samp">C-f</samp>&rsquo;, write the construct
&lsquo;<samp class="samp">\\[forward-char]</samp>&rsquo;.  When Emacs displays the documentation string,
it substitutes whatever key is currently bound to <code class="code">forward-char</code>.
(This is normally &lsquo;<samp class="samp">C-f</samp>&rsquo;, but it may be some other character if the
user has moved key bindings.)  See <a class="xref" href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>.

</li><li>In documentation strings for a major mode, you will want to refer to
the key bindings of that mode&rsquo;s local map, rather than global ones.
Therefore, use the construct &lsquo;<samp class="samp">\\&lt;&hellip;&gt;</samp>&rsquo; once in the
documentation string to specify which key map to use.  Do this before
the first use of &lsquo;<samp class="samp">\\[&hellip;]</samp>&rsquo;, and not in the middle of a
sentence (since if the map is not loaded, the reference to the map
will be replaced with a sentence saying the map is not currently
defined).  The text inside the &lsquo;<samp class="samp">\\&lt;&hellip;&gt;</samp>&rsquo; should be the name
of the variable containing the local keymap for the major mode.

<p>Each use of &lsquo;<samp class="samp">\\[&hellip;]</samp>&rsquo; slows the display of the documentation
string by a tiny amount.  If you use a lot of them, these tiny
slowdowns will add up, and might become tangible, especially on slow
systems.  So our recommendation is not to over-use them; e.g., try to
avoid using more than one reference to the same command in the same
doc string.
</p>
</li><li>For consistency, phrase the verb in the first sentence of a function&rsquo;s
documentation string as an imperative&mdash;for instance, use &ldquo;Return the
cons of A and B.&rdquo; in preference to &ldquo;Returns the cons of A and B.&rdquo;
Usually it looks good to do likewise for the rest of the first
paragraph.  Subsequent paragraphs usually look better if each sentence
is indicative and has a proper subject.

</li><li>The documentation string for a function that is a yes-or-no predicate
should start with words such as &ldquo;Return t if&rdquo;, to indicate
explicitly what constitutes truth.  The word &ldquo;return&rdquo; avoids
starting the sentence with lower-case &ldquo;t&rdquo;, which could be somewhat
distracting.

</li><li>Write documentation strings in the active voice, not the passive, and in
the present tense, not the future.  For instance, use &ldquo;Return a list
containing A and B.&rdquo; instead of &ldquo;A list containing A and B will be
returned.&rdquo;

</li><li>Avoid using the word &ldquo;cause&rdquo; (or its equivalents) unnecessarily.
Instead of, &ldquo;Cause Emacs to display text in boldface&rdquo;, write just
&ldquo;Display text in boldface&rdquo;.

</li><li>Avoid using &ldquo;iff&rdquo; (a mathematics term meaning &ldquo;if and only if&rdquo;),
since many people are unfamiliar with it and mistake it for a typo.  In
most cases, the meaning is clear with just &ldquo;if&rdquo;.  Otherwise, try to
find an alternate phrasing that conveys the meaning.

</li><li>Try to avoid using abbreviations such as &ldquo;e.g.&rdquo; (for &ldquo;for
example&rdquo;), &ldquo;i.e.&rdquo; (for &ldquo;that is&rdquo;), &ldquo;no.&rdquo; (for &ldquo;number&rdquo;),
&ldquo;cf.&rdquo; (for &ldquo;compare&rdquo;/&ldquo;see also&rdquo;) and &ldquo;w.r.t.&rdquo; (for &ldquo;with respect
to&rdquo;) as much as possible.  It is almost always clearer and easier to
read the expanded version.<a class="footnote" id="DOCF34" href="#FOOT34"><sup>34</sup></a>

</li><li>When a command is meaningful only in a certain mode or situation,
do mention that in the documentation string.  For example,
the documentation of <code class="code">dired-find-file</code> is:

<div class="example">
<pre class="example-preformatted">In Dired, visit the file or directory named on this line.
</pre></div>

</li><li>When you define a variable that represents an option users might want
to set, use <code class="code">defcustom</code>.  See <a class="xref" href="Defining-Variables.html">Defining Global Variables</a>.

</li><li>The documentation string for a variable that is a yes-or-no flag should
start with words such as &ldquo;Non-nil means&rdquo;, to make it clear that
all non-<code class="code">nil</code> values are equivalent and indicate explicitly what
<code class="code">nil</code> and non-<code class="code">nil</code> mean.

</li><li>If a line in a documentation string begins with an open-parenthesis,
consider writing a backslash before the open-parenthesis, like this:

<div class="example">
<pre class="example-preformatted">The argument FOO can be either a number
\(a buffer position) or a string (a file name).
</pre></div>

<p>This avoids a bug in Emacs versions older than 27.1, where the
&lsquo;<samp class="samp">(</samp>&rsquo; was treated as the start of a defun
(see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Defuns.html#Defuns">Defuns</a> in <cite class="cite">The GNU Emacs Manual</cite>).
If you do not anticipate anyone editing your code with older Emacs
versions, there is no need for this work-around.
</p></li></ul>

</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT34" href="#DOCF34">(34)</a></h5>
<p>We do use these occasionally, but
try not to overdo it.</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Comment-Tips.html">Tips on Writing Comments</a>, Previous: <a href="Warning-Tips.html">Tips for Avoiding Compiler Warnings</a>, Up: <a href="Tips.html">Tips and Conventions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
