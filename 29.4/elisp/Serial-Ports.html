<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.4.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Serial Ports (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Serial Ports (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Serial Ports (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Processes.html" rel="up" title="Processes">
<link href="Byte-Packing.html" rel="next" title="Byte Packing">
<link href="Misc-Network.html" rel="prev" title="Misc Network">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Serial-Ports">
<div class="nav-panel">
<p>
Next: <a href="Byte-Packing.html" accesskey="n" rel="next">Packing and Unpacking Byte Arrays</a>, Previous: <a href="Misc-Network.html" accesskey="p" rel="prev">Misc Network Facilities</a>, Up: <a href="Processes.html" accesskey="u" rel="up">Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Communicating-with-Serial-Ports"><span>40.19 Communicating with Serial Ports<a class="copiable-link" href="#Communicating-with-Serial-Ports"> &para;</a></span></h3>
<a class="index-entry-id" id="index-_002fdev_002ftty"></a>
<a class="index-entry-id" id="index-COM1"></a>
<a class="index-entry-id" id="index-serial-connections"></a>

<p>Emacs can communicate with serial ports.  For interactive use,
<kbd class="kbd">M-x serial-term</kbd> opens a terminal window.  In a Lisp program,
<code class="code">make-serial-process</code> creates a process object.
</p>
<p>The serial port can be configured at run-time, without having to
close and re-open it.  The function <code class="code">serial-process-configure</code>
lets you change the speed, bytesize, and other parameters.  In a
terminal window created by <code class="code">serial-term</code>, you can click on the
mode line for configuration.
</p>
<p>A serial connection is represented by a process object, which can be
used in a similar way to a subprocess or network process.  You can send and
receive data, and configure the serial port.  A serial process object
has no process ID, however, and you can&rsquo;t send signals to it, and the
status codes are different from other types of processes.
<code class="code">delete-process</code> on the process object or <code class="code">kill-buffer</code> on
the process buffer close the connection, but this does not affect the
device connected to the serial port.
</p>
<p>The function <code class="code">process-type</code> returns the symbol <code class="code">serial</code>
for a process object representing a serial port connection.
</p>
<p>Serial ports are available on GNU/Linux, Unix, and MS Windows systems.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-serial_002dterm"><span class="category-def">Command: </span><span><strong class="def-name">serial-term</strong> <var class="def-var-arguments">port speed &amp;optional line-mode</var><a class="copiable-link" href="#index-serial_002dterm"> &para;</a></span></dt>
<dd><p>Start a terminal-emulator for a serial port in a new buffer.
<var class="var">port</var> is the name of the serial port to connect to.  For
example, this could be <samp class="file">/dev/ttyS0</samp> on Unix.  On MS Windows, this
could be <samp class="file">COM1</samp>, or <samp class="file">\\.\COM10</samp> (double the backslashes in
Lisp strings).
</p>
<p><var class="var">speed</var> is the speed of the serial port in bits per second.  9600
is a common value.  The buffer is in Term mode; see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Term-Mode.html#Term-Mode">Term Mode</a> in <cite class="cite">The GNU Emacs Manual</cite>, for the commands to use in that buffer.
You can change the speed and the configuration in the mode line menu.
If <var class="var">line-mode</var> is non-<code class="code">nil</code>, <code class="code">term-line-mode</code> is used;
otherwise <code class="code">term-raw-mode</code> is used.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-make_002dserial_002dprocess"><span class="category-def">Function: </span><span><strong class="def-name">make-serial-process</strong> <var class="def-var-arguments">&amp;rest args</var><a class="copiable-link" href="#index-make_002dserial_002dprocess"> &para;</a></span></dt>
<dd><p>This function creates a process and a buffer.  Arguments are specified
as keyword/argument pairs.  Here&rsquo;s the list of the meaningful
keywords, with the first two (<var class="var">port</var> and <var class="var">speed</var>) being mandatory:
</p>
<dl class="table">
<dt><code class="code">:port <var class="var">port</var></code></dt>
<dd><p>This is the name of the serial port.  On Unix and GNU systems, this is
a file name such as <samp class="file">/dev/ttyS0</samp>.  On Windows, this could be
<samp class="file">COM1</samp>, or <samp class="file">\\.\COM10</samp> for ports higher than <samp class="file">COM9</samp>
(double the backslashes in Lisp strings).
</p>
</dd>
<dt><code class="code">:speed <var class="var">speed</var></code></dt>
<dd><p>The speed of the serial port in bits per second.  This function calls
<code class="code">serial-process-configure</code> to handle the speed; see the
following documentation of that function for more details.
</p>
</dd>
<dt><code class="code">:name <var class="var">name</var></code></dt>
<dd><p>The name of the process.  If <var class="var">name</var> is not given, <var class="var">port</var> will
serve as the process name as well.
</p>
</dd>
<dt><code class="code">:buffer <var class="var">buffer</var></code></dt>
<dd><p>The buffer to associate with the process.  The value can be either a
buffer or a string that names a buffer.  Process output goes at the
end of that buffer, unless you specify an output stream or filter
function to handle the output.  If <var class="var">buffer</var> is not given, the
process buffer&rsquo;s name is taken from the value of the <code class="code">:name</code>
keyword.
</p>
</dd>
<dt><code class="code">:coding <var class="var">coding</var></code></dt>
<dd><p>If <var class="var">coding</var> is a symbol, it specifies the coding system used for
both reading and writing for this process.  If <var class="var">coding</var> is a cons
<code class="code">(<var class="var">decoding</var> . <var class="var">encoding</var>)</code>, <var class="var">decoding</var> is used for
reading, and <var class="var">encoding</var> is used for writing.  If not specified,
the default is to determine the coding systems from the data itself.
</p>
</dd>
<dt><code class="code">:noquery <var class="var">query-flag</var></code></dt>
<dd><p>Initialize the process query flag to <var class="var">query-flag</var>.  See <a class="xref" href="Query-Before-Exit.html">Querying Before Exit</a>.  The flags defaults to <code class="code">nil</code> if unspecified.
</p>
</dd>
<dt><code class="code">:stop <var class="var">bool</var></code></dt>
<dd><p>Start process in the stopped state if <var class="var">bool</var> is
non-<code class="code">nil</code>.  In the stopped state, a serial process does not
accept incoming data, but you can send outgoing data.  The stopped
state is cleared by <code class="code">continue-process</code> and set by
<code class="code">stop-process</code>.
</p>
</dd>
<dt><code class="code">:filter <var class="var">filter</var></code></dt>
<dd><p>Install <var class="var">filter</var> as the process filter.
</p>
</dd>
<dt><code class="code">:sentinel <var class="var">sentinel</var></code></dt>
<dd><p>Install <var class="var">sentinel</var> as the process sentinel.
</p>
</dd>
<dt><code class="code">:plist <var class="var">plist</var></code></dt>
<dd><p>Install <var class="var">plist</var> as the initial plist of the process.
</p>
</dd>
<dt><code class="code">:bytesize</code></dt>
<dt><code class="code">:parity</code></dt>
<dt><code class="code">:stopbits</code></dt>
<dt><code class="code">:flowcontrol</code></dt>
<dd><p>These are handled by <code class="code">serial-process-configure</code>, which is called
by <code class="code">make-serial-process</code>.
</p></dd>
</dl>

<p>The original argument list, possibly modified by later configuration,
is available via the function <code class="code">process-contact</code>.
</p>
<p>Here is an example:
</p>
<div class="example">
<pre class="example-preformatted">(make-serial-process :port &quot;/dev/ttyS0&quot; :speed 9600)
</pre></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-serial_002dprocess_002dconfigure"><span class="category-def">Function: </span><span><strong class="def-name">serial-process-configure</strong> <var class="def-var-arguments">&amp;rest args</var><a class="copiable-link" href="#index-serial_002dprocess_002dconfigure"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-baud_002c-in-serial-connections"></a>
<a class="index-entry-id" id="index-bytesize_002c-in-serial-connections"></a>
<a class="index-entry-id" id="index-parity_002c-in-serial-connections"></a>
<a class="index-entry-id" id="index-stopbits_002c-in-serial-connections"></a>
<a class="index-entry-id" id="index-flowcontrol_002c-in-serial-connections"></a>

<p>This function configures a serial port connection.  Arguments are
specified as keyword/argument pairs.  Attributes that are not given
are re-initialized from the process&rsquo;s current configuration (available
via the function <code class="code">process-contact</code>), or set to reasonable default
values.  The following arguments are defined:
</p>
<dl class="table">
<dt><code class="code">:process <var class="var">process</var></code></dt>
<dt><code class="code">:name <var class="var">name</var></code></dt>
<dt><code class="code">:buffer <var class="var">buffer</var></code></dt>
<dt><code class="code">:port <var class="var">port</var></code></dt>
<dd><p>Any of these arguments can be given to identify the process that is to
be configured.  If none of these arguments is given, the current
buffer&rsquo;s process is used.
</p>
</dd>
<dt><code class="code">:speed <var class="var">speed</var></code></dt>
<dd><p>The speed of the serial port in bits per second, a.k.a. <em class="dfn">baud
rate</em>.  The value can be any number, but most serial ports work only
at a few defined values between 1200 and 115200, with 9600 being the
most common value.  If <var class="var">speed</var> is <code class="code">nil</code>, the function ignores
all other arguments and does not configure the port.  This may be
useful for special serial ports such as Bluetooth-to-serial converters,
which can only be configured through &lsquo;<samp class="samp">AT</samp>&rsquo; commands sent through the
connection.  The value of <code class="code">nil</code> for <var class="var">speed</var> is valid only for
connections that were already opened by a previous call to
<code class="code">make-serial-process</code> or <code class="code">serial-term</code>.
</p>
</dd>
<dt><code class="code">:bytesize <var class="var">bytesize</var></code></dt>
<dd><p>The number of bits per byte, which can be 7 or 8.  If <var class="var">bytesize</var>
is not given or <code class="code">nil</code>, it defaults to 8.
</p>
</dd>
<dt><code class="code">:parity <var class="var">parity</var></code></dt>
<dd><p>The value can be <code class="code">nil</code> (don&rsquo;t use parity), the symbol
<code class="code">odd</code> (use odd parity), or the symbol <code class="code">even</code> (use even
parity).  If <var class="var">parity</var> is not given, it defaults to no parity.
</p>
</dd>
<dt><code class="code">:stopbits <var class="var">stopbits</var></code></dt>
<dd><p>The number of stopbits used to terminate a transmission
of each byte.  <var class="var">stopbits</var> can be 1 or 2.  If <var class="var">stopbits</var> is not
given or <code class="code">nil</code>, it defaults to 1.
</p>
</dd>
<dt><code class="code">:flowcontrol <var class="var">flowcontrol</var></code></dt>
<dd><p>The type of flow control to use for this connection, which is either
<code class="code">nil</code> (don&rsquo;t use flow control), the symbol <code class="code">hw</code> (use RTS/CTS
hardware flow control), or the symbol <code class="code">sw</code> (use XON/XOFF software
flow control).  If <var class="var">flowcontrol</var> is not given, it defaults to no
flow control.
</p></dd>
</dl>

<p>Internally, <code class="code">make-serial-process</code> calls
<code class="code">serial-process-configure</code> for the initial configuration of the
serial port.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Byte-Packing.html">Packing and Unpacking Byte Arrays</a>, Previous: <a href="Misc-Network.html">Misc Network Facilities</a>, Up: <a href="Processes.html">Processes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
