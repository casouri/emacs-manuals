<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.4.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Header Lines (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Header Lines (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Header Lines (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Mode-Line-Format.html" rel="up" title="Mode Line Format">
<link href="Emulating-Mode-Line.html" rel="next" title="Emulating Mode Line">
<link href="Properties-in-Mode.html" rel="prev" title="Properties in Mode">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Header-Lines">
<div class="nav-panel">
<p>
Next: <a href="Emulating-Mode-Line.html" accesskey="n" rel="next">Emulating Mode Line Formatting</a>, Previous: <a href="Properties-in-Mode.html" accesskey="p" rel="prev">Properties in the Mode Line</a>, Up: <a href="Mode-Line-Format.html" accesskey="u" rel="up">Mode Line Format</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Window-Header-Lines"><span>24.4.7 Window Header Lines<a class="copiable-link" href="#Window-Header-Lines"> &para;</a></span></h4>
<a class="index-entry-id" id="index-header-line-_0028of-a-window_0029"></a>
<a class="index-entry-id" id="index-window-header-line"></a>

<p>A window can have a <em class="dfn">header line</em> at the top, just as it can have
a mode line at the bottom.  The header line feature works just like the
mode line feature, except that it&rsquo;s controlled by
<code class="code">header-line-format</code>:
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-header_002dline_002dformat"><span class="category-def">Variable: </span><span><strong class="def-name">header-line-format</strong><a class="copiable-link" href="#index-header_002dline_002dformat"> &para;</a></span></dt>
<dd><p>This variable, local in every buffer, specifies how to display the
header line, for windows displaying the buffer.  The format of the value
is the same as for <code class="code">mode-line-format</code> (see <a class="pxref" href="Mode-Line-Data.html">The Data Structure of the Mode Line</a>).
It is normally <code class="code">nil</code>, so that ordinary buffers have no header
line.
</p></dd></dl>

<p>If <code class="code">display-line-numbers-mode</code> is turned on in a buffer
(see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Display-Custom.html#Display-Custom">display-line-numbers-mode</a> in <cite class="cite">The GNU
Emacs Manual</cite>), the buffer text is indented on display by the amount
of screen space needed to show the line numbers.  By contrast, text of
the header line is not automatically indented, because a header line
never displays a line number, and because the text of the header line
is not necessarily directly related to buffer text below it.  If a
Lisp program needs the header-line text to be aligned with buffer text
(for example, if the buffer displays columnar data, like
<code class="code">tabulated-list-mode</code> does, see <a class="pxref" href="Tabulated-List-Mode.html">Tabulated List mode</a>), it
should turn on the minor mode <code class="code">header-line-indent-mode</code>.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-header_002dline_002dindent_002dmode"><span class="category-def">Command: </span><span><strong class="def-name">header-line-indent-mode</strong><a class="copiable-link" href="#index-header_002dline_002dindent_002dmode"> &para;</a></span></dt>
<dd><p>This buffer-local minor mode tracks the changes of the width of the
line-number display on screen (which may vary depending on the range
of line numbers shown in the window), and allows Lisp programs to
arrange that header-line text is always aligned with buffer text when
the line-number width changes.  Such Lisp programs should turn on this
mode in the buffer, and use the variables <code class="code">header-line-indent</code>
and <code class="code">header-line-indent-width</code> in the <code class="code">header-line-format</code>
to ensure it is adjusted to the text indentation at all times.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-header_002dline_002dindent"><span class="category-def">Variable: </span><span><strong class="def-name">header-line-indent</strong><a class="copiable-link" href="#index-header_002dline_002dindent"> &para;</a></span></dt>
<dd><p>This variable&rsquo;s value is a whitespace string whose width is kept equal
to the current width of line-numbers on display, provided that
<code class="code">header-line-indent-mode</code> is turned on in the buffer shown in the
window.  The number of spaces is calculated under the assumption that
the face of the header-line text uses the same font, including size,
as the frame&rsquo;s default font; if that assumption is false, use
<code class="code">header-line-indent-width</code>, described below, instead.  This
variable is intended to be used in simple situations where the
header-line text needs to be indented as a whole to be realigned with
buffer text, by prepending this variable&rsquo;s value to the actual
header-line text.  For example, the following definition of
<code class="code">header-line-format</code>:
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(setq header-line-format
      `(&quot;&quot; header-line-indent ,my-header-line))
</pre></div>

<p>where <code class="code">my-header-line</code> is the format string that produces the
actual text of the header line, will make sure the header-line text
is always indented like the buffer text below it.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-header_002dline_002dindent_002dwidth"><span class="category-def">Variable: </span><span><strong class="def-name">header-line-indent-width</strong><a class="copiable-link" href="#index-header_002dline_002dindent_002dwidth"> &para;</a></span></dt>
<dd><p>This variable&rsquo;s value is kept updated to provide the current width, in
units of the frame&rsquo;s canonical character width, used for displaying
the line numbers, provided that <code class="code">header-line-indent-mode</code> is
turned on in the buffer shown in the window.  It can be used for
aligning the header-line text with the buffer text when
<code class="code">header-line-indent</code> is not flexible enough.  For example, if the
header line uses a font whose metrics is different from the default
face&rsquo;s font, your Lisp program can calculate the width of line-number
display in pixels, by multiplying the value of this variable by the
value returned by <code class="code">frame-char-width</code> (see <a class="pxref" href="Frame-Font.html">Frame Font</a>), and
then use the result to align header-line text using the
<code class="code">:align-to</code> display property spec (see <a class="pxref" href="Specified-Space.html">Specified Spaces</a>) in
pixels on the relevant parts of <code class="code">header-line-format</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-window_002dheader_002dline_002dheight"><span class="category-def">Function: </span><span><strong class="def-name">window-header-line-height</strong> <var class="def-var-arguments">&amp;optional window</var><a class="copiable-link" href="#index-window_002dheader_002dline_002dheight"> &para;</a></span></dt>
<dd><p>This function returns the height in pixels of <var class="var">window</var>&rsquo;s header
line.  <var class="var">window</var> must be a live window, and defaults to the
selected window.
</p></dd></dl>

<p>A window that is just one line tall never displays a header line.  A
window that is two lines tall cannot display both a mode line and a
header line at once; if it has a mode line, then it does not display a
header line.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Emulating-Mode-Line.html">Emulating Mode Line Formatting</a>, Previous: <a href="Properties-in-Mode.html">Properties in the Mode Line</a>, Up: <a href="Mode-Line-Format.html">Mode Line Format</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
