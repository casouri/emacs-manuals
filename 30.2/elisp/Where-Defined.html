<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.2.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Where Defined (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Where Defined (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Where Defined (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Loading.html" rel="up" title="Loading">
<link href="Unloading.html" rel="next" title="Unloading">
<link href="Named-Features.html" rel="prev" title="Named Features">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Where-Defined">
<div class="nav-panel">
<p>
Next: <a href="Unloading.html" accesskey="n" rel="next">Unloading</a>, Previous: <a href="Named-Features.html" accesskey="p" rel="prev">Features</a>, Up: <a href="Loading.html" accesskey="u" rel="up">Loading</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Which-File-Defined-a-Certain-Symbol"><span>16.8 Which File Defined a Certain Symbol<a class="copiable-link" href="#Which-File-Defined-a-Certain-Symbol"> &para;</a></span></h3>
<a class="index-entry-id" id="index-symbol_002c-where-defined"></a>
<a class="index-entry-id" id="index-where-was-a-symbol-defined"></a>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-symbol_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">symbol-file</strong> <var class="def-var-arguments">symbol &amp;optional type native-p</var><a class="copiable-link" href="#index-symbol_002dfile"> &para;</a></span></dt>
<dd><p>This function returns the name of the file that defined <var class="var">symbol</var>.
If <var class="var">type</var> is <code class="code">nil</code>, then any kind of definition is acceptable.
If <var class="var">type</var> is <code class="code">defun</code>, <code class="code">defvar</code>, or <code class="code">defface</code>, that
specifies function definition, variable definition, or face definition
only.
</p>
<p>The value is normally an absolute file name.  It can also be <code class="code">nil</code>,
if the definition is not associated with any file.  If <var class="var">symbol</var>
specifies an autoloaded function, the value can be a relative file name
without extension.
</p>
<p>If the optional third argument <var class="var">native-p</var> is non-<code class="code">nil</code>, and
Emacs was built with native compilation support (see <a class="pxref" href="Native-Compilation.html">Compilation of Lisp to Native Code</a>), this function will try to find the <samp class="file">.eln</samp> file
that defined <var class="var">symbol</var>, instead of the <samp class="file">.elc</samp> or <samp class="file">.el</samp>
file.  If such a <samp class="file">.eln</samp> file is found and is not outdated, the
function will return its absolute file name; otherwise it will report
the name of either the source or the byte-compiled file.
</p></dd></dl>

<p>The basis for <code class="code">symbol-file</code> is the data in the variable
<code class="code">load-history</code>.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-load_002dhistory"><span class="category-def">Variable: </span><span><strong class="def-name">load-history</strong><a class="copiable-link" href="#index-load_002dhistory"> &para;</a></span></dt>
<dd><p>The value of this variable is an alist that associates the names of
loaded library files with the names of the functions and variables
they defined, as well as the features they provided or required.
</p>
<p>Each element in this alist describes one loaded library (including
libraries that are preloaded at startup).  It is a list whose <small class="sc">CAR</small>
is the absolute file name of the library (a string).  The rest of the
list elements have these forms:
</p>
<dl class="table">
<dt><code class="code"><var class="var">var</var></code></dt>
<dd><p>The symbol <var class="var">var</var> was defined as a variable.
</p></dd>
<dt><code class="code">(defun . <var class="var">fun</var>)</code></dt>
<dd><p>The function <var class="var">fun</var> was defined.
<code class="code">(defun . <var class="var">fun</var>)</code>, which represents defining <var class="var">fun</var> as a
function.
</p></dd>
<dt><code class="code">(defface . <var class="var">face</var>)</code></dt>
<dd><p>The face <var class="var">face</var> was defined.
</p></dd>
<dt><code class="code">(require . <var class="var">feature</var>)</code></dt>
<dd><p>The feature <var class="var">feature</var> was required.
</p></dd>
<dt><code class="code">(provide . <var class="var">feature</var>)</code></dt>
<dd><p>The feature <var class="var">feature</var> was provided.
</p></dd>
<dt><code class="code">(cl-defmethod <var class="var">method</var> <var class="var">specializers</var>)</code></dt>
<dd><p>The named <var class="var">method</var> was defined by using <code class="code">cl-defmethod</code>, with
<var class="var">specializers</var> as its specializers.
</p></dd>
<dt><code class="code">(define-type . <var class="var">type</var>)</code></dt>
<dd><p>The type <var class="var">type</var> was defined.
</p></dd>
</dl>

<p>The value of <code class="code">load-history</code> may have one element whose <small class="sc">CAR</small> is
<code class="code">nil</code>.  This element describes definitions made with
<code class="code">eval-buffer</code> on a buffer that is not visiting a file.
</p></dd></dl>

<p>The command <code class="code">eval-region</code> updates <code class="code">load-history</code>, but does so
by adding the symbols defined to the element for the file being visited,
rather than replacing that element.  See <a class="xref" href="Eval.html">Eval</a>.
</p>
<a class="index-entry-id" id="index-function_002dhistory-_0028function-symbol-property_0029"></a>
<p>In addition to <code class="code">load-history</code>, every function keeps track of its
own history in the symbol property <code class="code">function-history</code>.
The reason why functions are treated specially in this respect is that
it is common for functions to be defined in two steps in two different
files (typically, one of them is an autoload), so in order to be
able to properly <em class="emph">unload</em> a file, we need to know more precisely
what that file did to the function definition.
</p>
<p>The symbol property <code class="code">function-history</code> holds a list of the form
<code class="code">(<var class="var">file1</var>&nbsp;<var class="var">def2</var>&nbsp;<var class="var">file2</var>&nbsp;<var class="var">def3</var>&nbsp;...)</code><!-- /@w -->, where
<var class="var">file1</var> is the last file that changed the definition and
<var class="var">def2</var> was the definition before <var class="var">file1</var>, set by <var class="var">file2</var>,
etc.  Logically this list should end with the name of the first file
that defined this function, but to save space this last element
is usually omitted.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Unloading.html">Unloading</a>, Previous: <a href="Named-Features.html">Features</a>, Up: <a href="Loading.html">Loading</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
