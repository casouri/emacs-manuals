<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.2.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Multiple Terminals (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Multiple Terminals (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Multiple Terminals (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Frames.html" rel="up" title="Frames">
<link href="Frame-Geometry.html" rel="next" title="Frame Geometry">
<link href="Creating-Frames.html" rel="prev" title="Creating Frames">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Multiple-Terminals">
<div class="nav-panel">
<p>
Next: <a href="Frame-Geometry.html" accesskey="n" rel="next">Frame Geometry</a>, Previous: <a href="Creating-Frames.html" accesskey="p" rel="prev">Creating Frames</a>, Up: <a href="Frames.html" accesskey="u" rel="up">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Multiple-Terminals-1"><span>30.2 Multiple Terminals<a class="copiable-link" href="#Multiple-Terminals-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-multiple-terminals"></a>
<a class="index-entry-id" id="index-multi_002dtty"></a>
<a class="index-entry-id" id="index-multiple-X-displays"></a>
<a class="index-entry-id" id="index-displays_002c-multiple"></a>

<p>Emacs represents each terminal as a <em class="dfn">terminal object</em> data type
(see <a class="pxref" href="Terminal-Type.html">Terminal Type</a>).  On GNU and Unix systems, Emacs can use
multiple terminals simultaneously in each session.  On other systems,
it can only use a single terminal.  Each terminal object has the
following attributes:
</p>
<ul class="itemize mark-bullet">
<li>The name of the device used by the terminal (e.g., &lsquo;<samp class="samp">:0.0</samp>&rsquo; or
<samp class="file">/dev/tty</samp>).

</li><li>The terminal and keyboard coding systems used on the terminal.
See <a class="xref" href="Terminal-I_002fO-Encoding.html">Terminal I/O Encoding</a>.

</li><li>The kind of display associated with the terminal.  This is the symbol
returned by the function <code class="code">terminal-live-p</code> (i.e., <code class="code">x</code>,
<code class="code">t</code>, <code class="code">w32</code>, <code class="code">ns</code>, <code class="code">pc</code>, <code class="code">haiku</code>, <code class="code">pgtk</code>,
or <code class="code">android</code>).  See <a class="xref" href="Frames.html">Frames</a>.

</li><li>A list of terminal parameters.  See <a class="xref" href="Terminal-Parameters.html">Terminal Parameters</a>.
</li></ul>

<p>There is no primitive for creating terminal objects.  Emacs creates
them as needed, such as when you call <code class="code">make-frame-on-display</code>
(described below).
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-terminal_002dname"><span class="category-def">Function: </span><span><strong class="def-name">terminal-name</strong> <var class="def-var-arguments">&amp;optional terminal</var><a class="copiable-link" href="#index-terminal_002dname"> &para;</a></span></dt>
<dd><p>This function returns the file name of the device used by
<var class="var">terminal</var>.  If <var class="var">terminal</var> is omitted or <code class="code">nil</code>, it
defaults to the selected frame&rsquo;s terminal.  <var class="var">terminal</var> can also be
a frame, meaning that frame&rsquo;s terminal.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-terminal_002dlist"><span class="category-def">Function: </span><span><strong class="def-name">terminal-list</strong><a class="copiable-link" href="#index-terminal_002dlist"> &para;</a></span></dt>
<dd><p>This function returns a list of all live terminal objects.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-get_002ddevice_002dterminal"><span class="category-def">Function: </span><span><strong class="def-name">get-device-terminal</strong> <var class="def-var-arguments">device</var><a class="copiable-link" href="#index-get_002ddevice_002dterminal"> &para;</a></span></dt>
<dd><p>This function returns a terminal whose device name is given by
<var class="var">device</var>.  If <var class="var">device</var> is a string, it can be either the file
name of a terminal device, or the name of an X display of the form
&lsquo;<samp class="samp"><var class="var">host</var>:<var class="var">server</var>.<var class="var">screen</var></samp>&rsquo;.  If <var class="var">device</var> is a
frame, this function returns that frame&rsquo;s terminal; <code class="code">nil</code> means
the selected frame.  Finally, if <var class="var">device</var> is a terminal object
that represents a live terminal, that terminal is returned.  The
function signals an error if its argument is none of the above.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-delete_002dterminal"><span class="category-def">Function: </span><span><strong class="def-name">delete-terminal</strong> <var class="def-var-arguments">&amp;optional terminal force</var><a class="copiable-link" href="#index-delete_002dterminal"> &para;</a></span></dt>
<dd><p>This function deletes all frames on <var class="var">terminal</var> and frees the
resources used by it.  It runs the abnormal hook
<code class="code">delete-terminal-functions</code>, passing <var class="var">terminal</var> as the
argument to each function.
</p>
<p>If <var class="var">terminal</var> is omitted or <code class="code">nil</code>, it defaults to the
selected frame&rsquo;s terminal.  <var class="var">terminal</var> can also be a frame,
meaning that frame&rsquo;s terminal.
</p>
<p>Normally, this function signals an error if you attempt to delete the
sole active terminal, but if <var class="var">force</var> is non-<code class="code">nil</code>, you are
allowed to do so.  Emacs automatically calls this function when the
last frame on a terminal is deleted (see <a class="pxref" href="Deleting-Frames.html">Deleting Frames</a>).
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-delete_002dterminal_002dfunctions"><span class="category-def">Variable: </span><span><strong class="def-name">delete-terminal-functions</strong><a class="copiable-link" href="#index-delete_002dterminal_002dfunctions"> &para;</a></span></dt>
<dd><p>An abnormal hook run by <code class="code">delete-terminal</code>.  Each function
receives one argument, the <var class="var">terminal</var> argument passed to
<code class="code">delete-terminal</code>.  Due to technical details, the functions may
be called either just before the terminal is deleted, or just
afterwards.
</p></dd></dl>

<a class="index-entry-id" id="index-terminal_002dlocal-variables"></a>
<p>A few Lisp variables are <em class="dfn">terminal-local</em>; that is, they have a
separate binding for each terminal.  The binding in effect at any time
is the one for the terminal that the currently selected frame belongs
to.  These variables include <code class="code">default-minibuffer-frame</code>,
<code class="code">defining-kbd-macro</code>, <code class="code">last-kbd-macro</code>, and
<code class="code">system-key-alist</code>.  They are always terminal-local, and can
never be buffer-local (see <a class="pxref" href="Buffer_002dLocal-Variables.html">Buffer-Local Variables</a>).
</p>
<p>On GNU and Unix systems, each X display is a separate graphical
terminal.  When Emacs is started from within the X window system, it
uses the X display specified by the <code class="env">DISPLAY</code> environment
variable, or by the &lsquo;<samp class="samp">--display</samp>&rsquo; option (see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Initial-Options.html#Initial-Options">Initial Options</a> in <cite class="cite">The GNU Emacs Manual</cite>).  Emacs can connect to other X displays
via the command <code class="code">make-frame-on-display</code>.  Each X display has its
own selected frame and its own minibuffer windows; however, only one
of those frames is <em class="emph">the</em> selected frame at any given moment
(see <a class="pxref" href="Input-Focus.html">Input Focus</a>).  Emacs can even connect to other text
terminals, by interacting with the <code class="command">emacsclient</code> program.
See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server">Emacs Server</a> in <cite class="cite">The GNU Emacs Manual</cite>.
</p>
<a class="index-entry-id" id="index-X-display-names"></a>
<a class="index-entry-id" id="index-display-name-on-X"></a>
<p>A single X server can handle more than one display.  Each X display
has a three-part name,
&lsquo;<samp class="samp"><var class="var">hostname</var>:<var class="var">displaynumber</var>.<var class="var">screennumber</var></samp>&rsquo;.  The
first part, <var class="var">hostname</var>, specifies the name of the machine to which
the display is physically connected.  The second part,
<var class="var">displaynumber</var>, is a zero-based number that identifies one or
more monitors connected to that machine that share a common keyboard
and pointing device (mouse, tablet, etc.).  The third part,
<var class="var">screennumber</var>, identifies a zero-based screen number (a separate
monitor) that is part of a single monitor collection on that X server.
When you use two or more screens belonging to one server, Emacs knows
by the similarity in their names that they share a single keyboard.
</p>
<p>Systems that don&rsquo;t use the X window system, such as MS-Windows,
don&rsquo;t support the notion of X displays, and have only one display on
each host.  The display name on these systems doesn&rsquo;t follow the above
3-part format; for example, the display name on MS-Windows systems is
a constant string &lsquo;<samp class="samp">w32</samp>&rsquo;, and exists for compatibility, so that
you could pass it to functions that expect a display name.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-make_002dframe_002don_002ddisplay"><span class="category-def">Command: </span><span><strong class="def-name">make-frame-on-display</strong> <var class="def-var-arguments">display &amp;optional parameters</var><a class="copiable-link" href="#index-make_002dframe_002don_002ddisplay"> &para;</a></span></dt>
<dd><p>This function creates and returns a new frame on <var class="var">display</var>, taking
the other frame parameters from the alist <var class="var">parameters</var>.
<var class="var">display</var> should be the name of an X display (a string).
</p>
<p>Before creating the frame, this function ensures that Emacs is set
up to display graphics.  For instance, if Emacs has not processed X
resources (e.g., if it was started on a text terminal), it does so at
this time.  In all other respects, this function behaves like
<code class="code">make-frame</code> (see <a class="pxref" href="Creating-Frames.html">Creating Frames</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002ddisplay_002dlist"><span class="category-def">Function: </span><span><strong class="def-name">x-display-list</strong><a class="copiable-link" href="#index-x_002ddisplay_002dlist"> &para;</a></span></dt>
<dd><p>This function returns a list that indicates which X displays Emacs has
a connection to.  The elements of the list are strings, and each one
is a display name.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002dopen_002dconnection"><span class="category-def">Function: </span><span><strong class="def-name">x-open-connection</strong> <var class="def-var-arguments">display &amp;optional xrm-string must-succeed</var><a class="copiable-link" href="#index-x_002dopen_002dconnection"> &para;</a></span></dt>
<dd><p>This function opens a connection to the X display <var class="var">display</var>,
without creating a frame on that display.  Normally, Emacs Lisp
programs need not call this function, as <code class="code">make-frame-on-display</code>
calls it automatically.  The only reason for calling it is to check
whether communication can be established with a given X display.
</p>
<p>The optional argument <var class="var">xrm-string</var>, if not <code class="code">nil</code>, is a string
of resource names and values, in the same format used in the
<samp class="file">.Xresources</samp> file.  See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/X-Resources.html#X-Resources">X Resources</a> in <cite class="cite">The
GNU Emacs Manual</cite>.  These values apply to all Emacs frames created on
this display, overriding the resource values recorded in the X server.
Here&rsquo;s an example of what this string might look like:
</p>
<div class="example">
<pre class="example-preformatted">&quot;*BorderWidth: 3\n*InternalBorder: 2\n&quot;
</pre></div>

<p>If <var class="var">must-succeed</var> is non-<code class="code">nil</code>, failure to open the connection
terminates Emacs.  Otherwise, it is an ordinary Lisp error.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-x_002dclose_002dconnection"><span class="category-def">Function: </span><span><strong class="def-name">x-close-connection</strong> <var class="def-var-arguments">display</var><a class="copiable-link" href="#index-x_002dclose_002dconnection"> &para;</a></span></dt>
<dd><p>This function closes the connection to display <var class="var">display</var>.  Before
you can do this, you must first delete all the frames that were open
on that display (see <a class="pxref" href="Deleting-Frames.html">Deleting Frames</a>).
</p></dd></dl>

<a class="index-entry-id" id="index-multi_002dmonitor"></a>
<p>On some multi-monitor setups, a single X display outputs to more
than one physical monitor.  You can use the functions
<code class="code">display-monitor-attributes-list</code> and <code class="code">frame-monitor-attributes</code>
to obtain information about such setups.
</p>
<a class="index-entry-id" id="index-display-geometry"></a>
<a class="index-entry-id" id="index-monitor-geometry"></a>
<a class="index-entry-id" id="index-geometry-of-display-monitor"></a>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-display_002dmonitor_002dattributes_002dlist"><span class="category-def">Function: </span><span><strong class="def-name">display-monitor-attributes-list</strong> <var class="def-var-arguments">&amp;optional display</var><a class="copiable-link" href="#index-display_002dmonitor_002dattributes_002dlist"> &para;</a></span></dt>
<dd><p>This function returns a list of physical monitor attributes on
<var class="var">display</var>, which can be a display name (a string), a terminal, or
a frame; if omitted or <code class="code">nil</code>, it defaults to the selected frame&rsquo;s
display.  Each element of the list is an association list,
representing the attributes of a physical monitor.  The first element
corresponds to the primary monitor.  The attribute keys and values
are:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">geometry</samp>&rsquo;</dt>
<dd><p>Position of the top-left corner of the monitor&rsquo;s screen and its size,
in pixels, as &lsquo;<samp class="samp">(<var class="var">x</var> <var class="var">y</var> <var class="var">width</var> <var class="var">height</var>)</samp>&rsquo;.  Note
that, if the monitor is not the primary monitor, some of the
coordinates might be negative.
</p>
</dd>
<dt>&lsquo;<samp class="samp">workarea</samp>&rsquo;</dt>
<dd><p>Position of the top-left corner and size of the work area (usable
space) in pixels as &lsquo;<samp class="samp">(<var class="var">x</var> <var class="var">y</var> <var class="var">width</var> <var class="var">height</var>)</samp>&rsquo;.
This may be different from &lsquo;<samp class="samp">geometry</samp>&rsquo; in that space occupied by
various window manager features (docks, taskbars, etc.) may be
excluded from the work area.  Whether or not such features actually
subtract from the work area depends on the platform and environment.
Again, if the monitor is not the primary monitor, some of the
coordinates might be negative.
</p>
</dd>
<dt>&lsquo;<samp class="samp">mm-size</samp>&rsquo;</dt>
<dd><p>Width and height in millimeters as &lsquo;<samp class="samp">(<var class="var">width</var> <var class="var">height</var>)</samp>&rsquo;
</p>
</dd>
<dt>&lsquo;<samp class="samp">frames</samp>&rsquo;</dt>
<dd><p>List of frames that this physical monitor dominates (see below).
</p>
</dd>
<dt>&lsquo;<samp class="samp">name</samp>&rsquo;</dt>
<dd><p>Name of the physical monitor as <var class="var">string</var>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">source</samp>&rsquo;</dt>
<dd><p>Source of the multi-monitor information as <var class="var">string</var>;
on X, it could be &lsquo;<samp class="samp">XRandR 1.5</samp>&rsquo;, &lsquo;<samp class="samp">XRandr</samp>&rsquo;, &lsquo;<samp class="samp">Xinerama</samp>&rsquo;,
&lsquo;<samp class="samp">Gdk</samp>&rsquo;, or &lsquo;<samp class="samp">fallback</samp>&rsquo;.  The last value of &lsquo;<samp class="samp">source</samp>&rsquo; means
that Emacs was built without GTK and without XRandR or Xinerama
extensions, in which case the information about multiple physical
monitors will be provided as if they all as a whole formed a single
monitor.
</p></dd>
</dl>

<p><var class="var">x</var>, <var class="var">y</var>, <var class="var">width</var>, and <var class="var">height</var> are integers.
&lsquo;<samp class="samp">name</samp>&rsquo; and &lsquo;<samp class="samp">source</samp>&rsquo; may be absent.
</p>
<p>A frame is <em class="dfn">dominated</em> by a physical monitor when either the
largest area of the frame resides in that monitor, or (if the frame
does not intersect any physical monitors) that monitor is the closest
to the frame.  Every (non-tooltip) frame (whether visible or not) in a
graphical display is dominated by exactly one physical monitor at a
time, though the frame can span multiple (or no) physical monitors.
</p>
<p>Here&rsquo;s an example of the data produced by this function on a 2-monitor
display:
</p>
<div class="example lisp">
<pre class="lisp-preformatted">  (display-monitor-attributes-list)
  &rArr;
  (((geometry 0 0 1920 1080) ;; <span class="r">Left-hand, primary monitor</span>
    (workarea 0 0 1920 1050) ;; <span class="r">A taskbar occupies some of the height</span>
    (mm-size 677 381)
    (name . &quot;DISPLAY1&quot;)
    (frames #&lt;frame emacs@host *Messages* 0x11578c0&gt;
            #&lt;frame emacs@host *scratch* 0x114b838&gt;))
   ((geometry 1920 0 1680 1050) ;; <span class="r">Right-hand monitor</span>
    (workarea 1920 0 1680 1050) ;; <span class="r">Whole screen can be used</span>
    (mm-size 593 370)
    (name . &quot;DISPLAY2&quot;)
    (frames)))
</pre></div>

</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-frame_002dmonitor_002dattributes"><span class="category-def">Function: </span><span><strong class="def-name">frame-monitor-attributes</strong> <var class="def-var-arguments">&amp;optional frame</var><a class="copiable-link" href="#index-frame_002dmonitor_002dattributes"> &para;</a></span></dt>
<dd><p>This function returns the attributes of the physical monitor
dominating (see above) <var class="var">frame</var>, which defaults to the selected frame.
</p></dd></dl>

<p>On multi-monitor displays it is possible to use the command
<code class="code">make-frame-on-monitor</code> to make frames on the specified monitor.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-make_002dframe_002don_002dmonitor"><span class="category-def">Command: </span><span><strong class="def-name">make-frame-on-monitor</strong> <var class="def-var-arguments">monitor &amp;optional display parameters</var><a class="copiable-link" href="#index-make_002dframe_002don_002dmonitor"> &para;</a></span></dt>
<dd><p>This function creates and returns a new frame on <var class="var">monitor</var> located
on <var class="var">display</var>, taking the other frame parameters from the alist
<var class="var">parameters</var>.  <var class="var">monitor</var> should be the name of the physical
monitor, the same string as returned by the function
<code class="code">display-monitor-attributes-list</code> in the attribute <code class="code">name</code>.
<var class="var">display</var> should be the name of an X display (a string).
</p></dd></dl>

<a class="index-entry-id" id="index-monitor-change-functions"></a>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-display_002dmonitors_002dchanged_002dfunctions"><span class="category-def">Variable: </span><span><strong class="def-name">display-monitors-changed-functions</strong><a class="copiable-link" href="#index-display_002dmonitors_002dchanged_002dfunctions"> &para;</a></span></dt>
<dd><p>This variable is an abnormal hook run when the monitor configuration
changes, which can happen if a monitor is rotated, moved, added or
removed from a multiple-monitor setup, if the primary monitor changes,
or if the resolution of a monitor changes.  It is called with a single
argument consisting of the terminal on which the monitor configuration
changed.  Programs should call <code class="code">display-monitor-attributes-list</code>
with the terminal as the argument to retrieve the new monitor
configuration on that terminal.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Frame-Geometry.html">Frame Geometry</a>, Previous: <a href="Creating-Frames.html">Creating Frames</a>, Up: <a href="Frames.html">Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
