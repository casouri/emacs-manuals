<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 30.2.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Visiting Functions (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Visiting Functions (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Visiting Functions (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Visiting-Files.html" rel="up" title="Visiting Files">
<link href="Subroutines-of-Visiting.html" rel="next" title="Subroutines of Visiting">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Visiting-Functions">
<div class="nav-panel">
<p>
Next: <a href="Subroutines-of-Visiting.html" accesskey="n" rel="next">Subroutines of Visiting</a>, Up: <a href="Visiting-Files.html" accesskey="u" rel="up">Visiting Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Functions-for-Visiting-Files"><span>26.1.1 Functions for Visiting Files<a class="copiable-link" href="#Functions-for-Visiting-Files"> &para;</a></span></h4>
<a class="index-entry-id" id="index-visiting-files_002c-functions-for"></a>
<a class="index-entry-id" id="index-how-to-visit-files"></a>

<p>This section describes the functions normally used to visit files.
For historical reasons, these functions have names starting with
&lsquo;<samp class="samp">find-</samp>&rsquo; rather than &lsquo;<samp class="samp">visit-</samp>&rsquo;.  See <a class="xref" href="Buffer-File-Name.html">Buffer File Name</a>, for
functions and variables that access the visited file name of a buffer or
that find an existing buffer by its visited file name.
</p>
<p>In a Lisp program, if you want to look at the contents of a file but
not alter it, the fastest way is to use <code class="code">insert-file-contents</code> in a
temporary buffer.  Visiting the file is not necessary and takes longer.
See <a class="xref" href="Reading-from-Files.html">Reading from Files</a>.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-find_002dfile"><span class="category-def">Command: </span><span><strong class="def-name">find-file</strong> <var class="def-var-arguments">filename &amp;optional wildcards</var><a class="copiable-link" href="#index-find_002dfile"> &para;</a></span></dt>
<dd><p>This command selects a buffer visiting the file <var class="var">filename</var>,
using an existing buffer if there is one, and otherwise creating a
new buffer and reading the file into it.  It also returns that buffer.
</p>
<p>Aside from some technical details, the body of the <code class="code">find-file</code>
function is basically equivalent to:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(switch-to-buffer (find-file-noselect filename nil nil wildcards))
</pre></div>

<p>(See <code class="code">switch-to-buffer</code> in <a class="ref" href="Switching-Buffers.html">Switching to a Buffer in a Window</a>.)
</p>
<p>If <var class="var">wildcards</var> is non-<code class="code">nil</code>, which is always true in an
interactive call, then <code class="code">find-file</code> expands wildcard characters in
<var class="var">filename</var> and visits all the matching files.
</p>
<p>When <code class="code">find-file</code> is called interactively, it prompts for
<var class="var">filename</var> in the minibuffer.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-find_002dfile_002dliterally"><span class="category-def">Command: </span><span><strong class="def-name">find-file-literally</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-find_002dfile_002dliterally"> &para;</a></span></dt>
<dd><p>This command visits <var class="var">filename</var>, like <code class="code">find-file</code> does, but it
does not perform any format conversions (see <a class="pxref" href="Format-Conversion.html">File Format Conversion</a>),
character code conversions (see <a class="pxref" href="Coding-Systems.html">Coding Systems</a>), or end-of-line
conversions (see <a class="pxref" href="Coding-System-Basics.html">End of line conversion</a>).
The buffer visiting the file is made unibyte, and its major mode is
Fundamental mode, regardless of the file name.  File local variable
specifications  in the file (see <a class="pxref" href="File-Local-Variables.html">File Local Variables</a>) are
ignored, and automatic decompression and adding a newline at the end
of the file due to <code class="code">require-final-newline</code> (see <a class="pxref" href="Saving-Buffers.html">require-final-newline</a>) are also disabled.
</p>
<p>Note that if Emacs already has a buffer visiting the same file
non-literally, it will not visit the same file literally, but instead
just switch to the existing buffer.  If you want to be sure of
accessing a file&rsquo;s contents literally, you should create a temporary
buffer and then read the file contents into it using
<code class="code">insert-file-contents-literally</code> (see <a class="pxref" href="Reading-from-Files.html">Reading from Files</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-find_002dfile_002dnoselect"><span class="category-def">Function: </span><span><strong class="def-name">find-file-noselect</strong> <var class="def-var-arguments">filename &amp;optional nowarn rawfile wildcards</var><a class="copiable-link" href="#index-find_002dfile_002dnoselect"> &para;</a></span></dt>
<dd><p>This function is the guts of all the file-visiting functions.  It
returns a buffer visiting the file <var class="var">filename</var>.  You may make the
buffer current or display it in a window if you wish, but this
function does not do so.
</p>
<p>The function returns an existing buffer if there is one; otherwise it
creates a new buffer and reads the file into it.  When
<code class="code">find-file-noselect</code> uses an existing buffer, it first verifies
that the file has not changed since it was last visited or saved in
that buffer (unless <var class="var">nowarn</var> is non-<code class="code">nil</code>, see below).  If the
file has changed, this function asks the user whether to reread the
changed file.  If the user says &lsquo;<samp class="samp">yes</samp>&rsquo;, any edits previously made in
the buffer are lost.
</p>
<p>Reading the file involves decoding the file&rsquo;s contents (see <a class="pxref" href="Coding-Systems.html">Coding Systems</a>), including end-of-line conversion, and format conversion
(see <a class="pxref" href="Format-Conversion.html">File Format Conversion</a>).  If <var class="var">wildcards</var> is non-<code class="code">nil</code>,
then <code class="code">find-file-noselect</code> expands wildcard characters in
<var class="var">filename</var> and visits all the matching files.
</p>
<p>This function displays warning or advisory messages in various peculiar
cases, unless the optional argument <var class="var">nowarn</var> is non-<code class="code">nil</code>.  For
example, if it needs to create a buffer, and there is no file named
<var class="var">filename</var>, it displays the message &lsquo;<samp class="samp">(New file)</samp>&rsquo; in the echo
area, and leaves the buffer empty.  The verification of the file&rsquo;s last
change is also bypassed if <var class="var">nowarn</var> is non-<code class="code">nil</code>.
</p>
<p>The <code class="code">find-file-noselect</code> function normally calls
<code class="code">after-find-file</code> after reading the file (see <a class="pxref" href="Subroutines-of-Visiting.html">Subroutines of Visiting</a>).  That function sets the buffer major mode, parses local
variables, warns the user if there exists an auto-save file more recent
than the file just visited, and finishes by running the functions in
<code class="code">find-file-hook</code>.
</p>
<p>If the optional argument <var class="var">rawfile</var> is non-<code class="code">nil</code>, then
<code class="code">after-find-file</code> is not called, and the
<code class="code">find-file-not-found-functions</code> are not run in case of failure.
What&rsquo;s more, a non-<code class="code">nil</code> <var class="var">rawfile</var> value suppresses coding
system conversion and format conversion.
</p>
<p>The <code class="code">find-file-noselect</code> function usually returns the buffer that
is visiting the file <var class="var">filename</var>.  But, if wildcards are actually
used and expanded, it returns a list of buffers that are visiting the
various files.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(find-file-noselect &quot;/etc/fstab&quot;)
     &rArr; #&lt;buffer fstab&gt;
</pre></div></div>
</dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-find_002dfile_002dother_002dwindow"><span class="category-def">Command: </span><span><strong class="def-name">find-file-other-window</strong> <var class="def-var-arguments">filename &amp;optional wildcards</var><a class="copiable-link" href="#index-find_002dfile_002dother_002dwindow"> &para;</a></span></dt>
<dd><p>This command selects a buffer visiting the file <var class="var">filename</var>, but
does so in a window other than the selected window.  It may use
another existing window or split a window; see <a class="ref" href="Switching-Buffers.html">Switching to a Buffer in a Window</a>.
</p>
<p>When this command is called interactively, it prompts for
<var class="var">filename</var>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-find_002dfile_002dread_002donly"><span class="category-def">Command: </span><span><strong class="def-name">find-file-read-only</strong> <var class="def-var-arguments">filename &amp;optional wildcards</var><a class="copiable-link" href="#index-find_002dfile_002dread_002donly"> &para;</a></span></dt>
<dd><p>This command selects a buffer visiting the file <var class="var">filename</var>, like
<code class="code">find-file</code>, but it marks the buffer as read-only.  See <a class="xref" href="Read-Only-Buffers.html">Read-Only Buffers</a>, for related functions and variables.
</p>
<p>When this command is called interactively, it prompts for
<var class="var">filename</var>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-find_002dfile_002dwildcards"><span class="category-def">User Option: </span><span><strong class="def-name">find-file-wildcards</strong><a class="copiable-link" href="#index-find_002dfile_002dwildcards"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, then the various <code class="code">find-file</code>
commands check for wildcard characters and visit all the files that
match them (when invoked interactively or when their <var class="var">wildcards</var>
argument is non-<code class="code">nil</code>).  If this option is <code class="code">nil</code>, then
the <code class="code">find-file</code> commands ignore their <var class="var">wildcards</var> argument
and never treat wildcard characters specially.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-find_002dfile_002dhook"><span class="category-def">User Option: </span><span><strong class="def-name">find-file-hook</strong><a class="copiable-link" href="#index-find_002dfile_002dhook"> &para;</a></span></dt>
<dd><p>The value of this variable is a list of functions to be called after a
file is visited.  The file&rsquo;s local-variables specification (if any) will
have been processed before the hooks are run.  The buffer visiting the
file is current when the hook functions are run.
</p>
<p>This variable is a normal hook.  See <a class="xref" href="Hooks.html">Hooks</a>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-find_002dfile_002dnot_002dfound_002dfunctions"><span class="category-def">Variable: </span><span><strong class="def-name">find-file-not-found-functions</strong><a class="copiable-link" href="#index-find_002dfile_002dnot_002dfound_002dfunctions"> &para;</a></span></dt>
<dd><p>The value of this variable is a list of functions to be called when
<code class="code">find-file</code> or <code class="code">find-file-noselect</code> is passed a nonexistent
file name.  <code class="code">find-file-noselect</code> calls these functions as soon as
it detects a nonexistent file.  It calls them in the order of the list,
until one of them returns non-<code class="code">nil</code>.  <code class="code">buffer-file-name</code> is
already set up.
</p>
<p>This is not a normal hook because the values of the functions are
used, and in many cases only some of the functions are called.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-find_002dfile_002dliterally-1"><span class="category-def">Variable: </span><span><strong class="def-name">find-file-literally</strong><a class="copiable-link" href="#index-find_002dfile_002dliterally-1"> &para;</a></span></dt>
<dd><p>This buffer-local variable, if set to a non-<code class="code">nil</code> value, makes
<code class="code">save-buffer</code> behave as if the buffer were visiting its file
literally, i.e., without conversions of any kind.  The command
<code class="code">find-file-literally</code> sets this variable&rsquo;s local value, but other
equivalent functions and commands can do that as well, e.g., to avoid
automatic addition of a newline at the end of the file.  This variable
is permanent local, so it is unaffected by changes of major modes.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Subroutines-of-Visiting.html">Subroutines of Visiting</a>, Up: <a href="Visiting-Files.html">Visiting Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
