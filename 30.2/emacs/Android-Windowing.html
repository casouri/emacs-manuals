<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 30.2.

Copyright Â© 1985-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Android Windowing (GNU Emacs Manual)</title>

<meta name="description" content="Android Windowing (GNU Emacs Manual)">
<meta name="keywords" content="Android Windowing (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Android.html" rel="up" title="Android">
<link href="Android-Fonts.html" rel="next" title="Android Fonts">
<link href="Android-Environment.html" rel="prev" title="Android Environment">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Android-Windowing">
<div class="nav-panel">
<p>
Next: <a href="Android-Fonts.html" accesskey="n" rel="next">Font Backends and Selection under Android</a>, Previous: <a href="Android-Environment.html" accesskey="p" rel="prev">Running Emacs under Android</a>, Up: <a href="Android.html" accesskey="u" rel="up">Emacs and Android</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="The-Android-Window-System"><span>H.6 The Android Window System<a class="copiable-link" href="#The-Android-Window-System"> &para;</a></span></h3>

<p>Android&rsquo;s window system is unusual in that all windows are reported to
applications as maximized or full-screen, and, in the general case, only
one window can be displayed at a time.  On larger devices, the system
permits simultaneously tiling up to four windows on the screen, though
in emulators or installations configured for &ldquo;desktop&rdquo; systems stacks
freely resizable windows as other desktop window managers do.
</p>
<p>Windows, or, in system nomenclature, activities, do not exist
indefinitely after creation, as the system may choose to pause windows
that are not visible in order to conserve memory, on the assumption that
the program will save its contents to disk, to be restored when the user
selects those windows from the task switcher.  Furthermore, a window is
created by the operating system at Emacs startup that is afforded
special treatment, which Emacs is expected to adopt.
</p>
<p>Emacs approaches window management with the general objective of
minimizing differences in frame behavior exposed to Lisp from that of
frames on ordinary window systems, such as X Windows; the degree to
which this goal is actually attained varies by the availability of
facilities for window management in the version of Android where it is
installed, and operating system policy towards inactive windows.  When
it is unavoidable that concessions should be made to such policy, Emacs
prefers destroying frames to retaining ones with no activities to
display them, unless such a frame is the initial frame and therefore
displayed in the activity created at startup, which it is possible to
open and identify so long as Emacs is yet executing.
</p>
<a class="index-entry-id" id="index-frames-and-windows_002c-Android-5_002e0"></a>
<p>Android 5.0 and later support an accurate implementation of window
management where frames hold a one-to-one relation to the activities in
which they are displayed, enabling deletion of activities in the task
switcher to directly affect the frames concerned, and vice versa.  There
are just two exceptions:
</p>
<ul class="itemize mark-bullet">
<li>After the system pauses an activity that remains in the task switcher in
response to inactivity, removing it from the task switcher while it
remains in its inactive state will not delete the frame inside, as Emacs
is not notified of the deletion of its activities in such circumstances.
The frame will be deleted upon the next window management operation that
prompts an examination of the list of live windows.  Likewise, an
inactive activity displaying a frame will not be immediately deleted
with its frame, but will be if it is selected from the window list or
upon another examination of the window list.

</li><li>Any frame besides the initial frame might be deleted after 4 to 6 hours
of inactivity in the background, if it is removed by the system in
&ldquo;trimming&rdquo; the task switcher of excess, and presumably unwanted,
tasks; the initial frame is exempt from this treatment because it can be
reopened otherwise than from the task switcher, but as deletion by this
mechanism is indistinguishable from legitimate user action to remove
activities from the task switcher, the latter will also be ignored by
the initial frame after a 4-hour interval elapses from the time of last
activity.
</li></ul>

<a class="index-entry-id" id="index-frames-and-windows_002c-Android-4_002e4"></a>
<a class="index-entry-id" id="index-frames-and-windows_002c-Android-2_002e2"></a>
<p>Android 4.4 and earlier provide considerably inferior interfaces
inadequate for a complete implementation of window management.  On such
systems, Emacs substitutes a fairly primitive mechanism where all but
the initial frame are deleted when their activities are paused, only a
single activity (not counting the activity created at startup) is
visible at a time, and unattached frames are displayed in the first
unoccupied activity available.
</p>
<a class="index-entry-id" id="index-windowing-limitations_002c-android"></a>
<a class="index-entry-id" id="index-frame-parameters_002c-android"></a>
<p>Emacs only supports a limited subset of GUI features on Android; the
limitations are as follows:
</p>
<ul class="itemize mark-bullet">
<li>Scroll bars are not supported, as they are close to useless on Android
devices.

</li><li>The <code class="code">alpha</code>, <code class="code">alpha-background</code>, <code class="code">z-group</code>,
<code class="code">override-redirect</code>, <code class="code">mouse-color</code>, <code class="code">title</code>,
<code class="code">wait-for-wm</code>, <code class="code">sticky</code>, and <code class="code">undecorated</code> frame
parameters (see <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Frame-Parameters.html#Frame-Parameters">Frame Parameters</a> in <cite class="cite">the Emacs Lisp Reference
Manual</cite>) are unsupported.

</li><li>On Android 4.0 and earlier, the <code class="code">fullscreen</code> frame parameter is
always <code class="code">maximized</code> for top-level frames; on later versions of
Android, it can also be <code class="code">fullscreen</code>.
</li></ul>

<a class="index-entry-id" id="index-selections_002c-android"></a>
<a class="index-entry-id" id="index-android-clipboard"></a>
<p>Emacs does not implement all selection related features supported
under the X Window System on Android.  For example, only the
<code class="code">CLIPBOARD</code> and <code class="code">PRIMARY</code> selections (see <a class="pxref" href="Cut-and-Paste.html">&ldquo;Cut and Paste&rdquo; Operations on Graphical Displays</a>)
are supported, and Emacs is only able to set selections to plain text.
</p>
<p>In addition, the Android system itself places certain restrictions
on what selection data Emacs can access:
</p>
<ul class="itemize mark-bullet">
<li>On Android 2.3 and earlier, the function <code class="code">gui-selection-owner-p</code>
always returns <code class="code">nil</code> for the clipboard selection.

</li><li>Between Android 3.0 and Android 9.0, Emacs is able to access the
clipboard whenever it wants, and <code class="code">gui-selection-owner-p</code> always
returns accurate results.

</li><li>Under Android 10.0 and later, Emacs can only access clipboard data
when one of its frames has the input focus, and
<code class="code">gui-selection-owner-p</code> always returns <code class="code">nil</code> for the
clipboard selection.
</li></ul>

<p>Since the Android system itself has no concept of a primary
selection, Emacs provides an emulation instead.  This means there is
no way to transfer the contents of the primary selection to another
application via cut-and-paste.
</p>
<a class="index-entry-id" id="index-android_002dpass_002dmultimedia_002dbuttons_002dto_002dsystem"></a>
<a class="index-entry-id" id="index-volume_002fmultimedia-buttons_002c-Android"></a>
<p>The volume keys are normally reserved by Emacs and used to provide the
ability to quit Emacs without a physical keyboard (see <a class="pxref" href="On_002dScreen-Keyboards.html">Using Emacs with Virtual Keyboards</a>).  However, if you want them to adjust the volume instead,
you can set the variable
<code class="code">android-pass-multimedia-buttons-to-system</code> to a non-<code class="code">nil</code>
value; note that you will no longer be able to quit Emacs using the
volume buttons in that case, and that it is generally easier to activate
the notification shade or another interface that momentarily deprives
Emacs of the keyboard focus while the volume buttons are being
depressed.
</p>
<a class="index-entry-id" id="index-dialog-boxes_002c-android"></a>
<p>Emacs is unable to display dialog boxes (see <a class="pxref" href="Dialog-Boxes.html">Using Dialog Boxes</a>) while
it does not have the input focus on Android 6.0 or later.  If this is
important to you, this capability can be restored by granting Emacs
permission to display over other programs.  On most systems, this can
be done from the following Settings menu:
</p>
<div class="example">
<pre class="example-preformatted">System -&gt; Apps -&gt; Emacs -&gt; More -&gt; Display over other apps
</pre></div>

<a class="index-entry-id" id="index-keyboard-modifiers_002c-android"></a>
<p>There is a direct relation between physical modifier keys and Emacs
modifiers (see <a class="pxref" href="Modifier-Keys.html">Modifier Keys</a>) reported within key events, subject
to a single exception: if <kbd class="key">Alt</kbd> on your keyboard is depressed,
then the <kbd class="key">Meta</kbd> modifier will be reported by Emacs in its place,
and vice versa.  This irregularity is since most keyboards possess no
special <kbd class="key">Meta</kbd> key, and the <kbd class="key">Alt</kbd> modifier is seldom employed
in Emacs.
</p>
<p>Bear in mind that Android uses a different name for the <kbd class="key">Super</kbd>
modifier: it is referred to as <kbd class="key">SYM</kbd> on Android keyboards and
within the Settings keymap menu.
</p>
<a class="index-entry-id" id="index-android_002dintercept_002dcontrol_002dspace"></a>
<a class="index-entry-id" id="index-C_002dSPC-interception_002c-android"></a>
<p>Android input methods have a penchant for irritating users by
silently discarding key sequences containing <kbd class="kbd">C-SPC</kbd> during the
event filtering process, that they normally have no real application
for such key sequences notwithstanding.  By default, Emacs intercepts
these key sequences before they can be filtered by the input method.
</p>
<p>If this proves unwanted (for instance, if the input method treats
<kbd class="kbd">C-SPC</kbd> as a shortcut key for switching languages), it can be
disabled by setting the variable
<code class="code">android-intercept-control-space</code> to <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-android_002dkeyboard_002dbell_002dduration"></a>
<a class="index-entry-id" id="index-keyboard-bell_002c-android"></a>
<p>The keyboard bell installed within Android systems takes the form of
a vibrating element that is activated for a number of milliseconds
whenever the bell is rung.  The duration of this vibration can be
customized through altering the variable
<code class="code">android-keyboard-bell-duration</code> to any value between <code class="code">10</code>
and <code class="code">1000</code>.
</p>
<a class="index-entry-id" id="index-android_002ddisplay_002dplanes"></a>
<a class="index-entry-id" id="index-visual-class_002c-Android"></a>
<a class="index-entry-id" id="index-display-color-space_002c-Android"></a>
<p>Color-related characteristics of the display are not automatically
detectable on Android, so the variable <code class="code">android-display-planes</code>
should be configured to a suitable value if Emacs is to realize faces
and images in a manner consistent with the true visual attributes of a
grayscale or monochrome display: to <code class="code">8</code> for the former class of
display, and <code class="code">1</code> for the latter, which will, respectively, force
all colors to be rendered in 256 grays, or in monochrome.  As this
variable is processed at the time the display connection is established,
customizations will not take effect unless they be performed from
<code class="code">early-init.el</code> (see <a class="pxref" href="Early-Init-File.html">The Early Init File</a>).
</p>
<p>The value of this variable does not affect anti-aliasing in the font
driver, as monochrome displays nevertheless expect Emacs to provide
antialiased text, which they receive after it is processed into bitmap
data by the display driver.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Android-Fonts.html">Font Backends and Selection under Android</a>, Previous: <a href="Android-Environment.html">Running Emacs under Android</a>, Up: <a href="Android.html">Emacs and Android</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
