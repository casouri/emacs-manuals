<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 28.2.

Copyright Â© 1990-1996, 1998-2022 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Directory Names (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Directory Names (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Directory Names (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="File-Names.html" rel="up" title="File Names">
<link href="File-Name-Expansion.html" rel="next" title="File Name Expansion">
<link href="Relative-File-Names.html" rel="prev" title="Relative File Names">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Directory-Names">
<div class="nav-panel">
<p>
Next: <a href="File-Name-Expansion.html" accesskey="n" rel="next">Functions that Expand Filenames</a>, Previous: <a href="Relative-File-Names.html" accesskey="p" rel="prev">Absolute and Relative File Names</a>, Up: <a href="File-Names.html" accesskey="u" rel="up">File Names</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Directory-Names-1"><span>26.9.3 Directory Names<a class="copiable-link" href="#Directory-Names-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-directory-name"></a>
<a class="index-entry-id" id="index-directory-file-name"></a>
<a class="index-entry-id" id="index-file-name-of-directory"></a>

<p>A <em class="dfn">directory name</em> is a string that must name a directory if it
names any file at all.  A directory is actually a kind of file, and it
has a file name (called the <em class="dfn">directory file name</em>), which is
related to the directory name but is typically not identical.  (This
is not quite the same as the usual POSIX terminology.)  These two
names for the same entity are related by a syntactic transformation.
On GNU and other POSIX-like systems, this is simple: to obtain a
directory name, append a &lsquo;<samp class="samp">/</samp>&rsquo; to a directory file name that does
not already end in &lsquo;<samp class="samp">/</samp>&rsquo;.  On MS-DOS the relationship is more
complicated.
</p>
<p>The difference between a directory name and a directory file name is
subtle but crucial.  When an Emacs variable or function argument is
described as being a directory name, a directory file name is not
acceptable.  When <code class="code">file-name-directory</code> returns a string, that is
always a directory name.
</p>
<p>The following two functions convert between directory names and
directory file names.  They do nothing special with environment
variable substitutions such as &lsquo;<samp class="samp">$HOME</samp>&rsquo;, and the constructs
&lsquo;<samp class="samp">~</samp>&rsquo;, &lsquo;<samp class="samp">.</samp>&rsquo; and &lsquo;<samp class="samp">..</samp>&rsquo;.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dname_002das_002ddirectory"><span class="category-def">Function: </span><span><strong class="def-name">file-name-as-directory</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dname_002das_002ddirectory"> &para;</a></span></dt>
<dd><p>This function returns a string representing <var class="var">filename</var> in a form
that the operating system will interpret as the name of a directory (a
directory name).  On most systems, this means appending a slash to the
string (if it does not already end in one).
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-name-as-directory &quot;~rms/lewis&quot;)
     &rArr; &quot;~rms/lewis/&quot;
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-directory_002dname_002dp"><span class="category-def">Function: </span><span><strong class="def-name">directory-name-p</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-directory_002dname_002dp"> &para;</a></span></dt>
<dd><p>This function returns non-<code class="code">nil</code> if <var class="var">filename</var> ends with a
directory separator character.  This is the forward slash &lsquo;<samp class="samp">/</samp>&rsquo; on
GNU and other POSIX-like systems; MS-Windows and MS-DOS recognize both
the forward slash and the backslash &lsquo;<samp class="samp">\</samp>&rsquo; as directory separators.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-directory_002dfile_002dname"><span class="category-def">Function: </span><span><strong class="def-name">directory-file-name</strong> <var class="def-var-arguments">dirname</var><a class="copiable-link" href="#index-directory_002dfile_002dname"> &para;</a></span></dt>
<dd><p>This function returns a string representing <var class="var">dirname</var> in a form
that the operating system will interpret as the name of a file (a
directory file name).  On most systems, this means removing the final
directory separators from the string, unless the string consists
entirely of directory separators.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(directory-file-name &quot;~lewis/&quot;)
     &rArr; &quot;~lewis&quot;
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dname_002dconcat"><span class="category-def">Function: </span><span><strong class="def-name">file-name-concat</strong> <var class="def-var-arguments">directory &amp;rest components</var><a class="copiable-link" href="#index-file_002dname_002dconcat"> &para;</a></span></dt>
<dd><p>Concatenate <var class="var">components</var> to <var class="var">directory</var>, inserting a slash
before the components if <var class="var">directory</var> or the preceding component
didn&rsquo;t end with a slash.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-name-concat &quot;/tmp&quot; &quot;foo&quot;)
     &rArr; &quot;/tmp/foo&quot;
</pre></div></div>

<p>A <var class="var">directory</var> or components that are <code class="code">nil</code> or the empty
string are ignored&mdash;they are filtered out first and do not affect the
results in any way.
</p>
<p>This is almost the same as using <code class="code">concat</code>, but <var class="var">dirname</var> (and
the non-final components) may or may not end with slash characters,
and this function will not double those characters.
</p></dd></dl>

<p>To convert a directory name to its abbreviation, use this
function:
</p>
<a class="index-entry-id" id="index-file-name-abbreviations"></a>
<a class="index-entry-id" id="index-abbreviated-file-names"></a>
<a class="index-entry-id" id="index-directory_002dabbrev_002dalist"></a>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-abbreviate_002dfile_002dname"><span class="category-def">Function: </span><span><strong class="def-name">abbreviate-file-name</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-abbreviate_002dfile_002dname"> &para;</a></span></dt>
<dd><a class="anchor" id="abbreviate_002dfile_002dname"></a><p>This function returns an abbreviated form of <var class="var">filename</var>.  It
applies the abbreviations specified in <code class="code">directory-abbrev-alist</code>
(see <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/File-Aliases.html#File-Aliases">File Aliases</a> in <cite class="cite">The GNU Emacs Manual</cite>),
then substitutes &lsquo;<samp class="samp">~</samp>&rsquo; for the user&rsquo;s home directory if the
argument names a file in the home directory or one of its
subdirectories.  If the home directory is a root directory, it is not
replaced with &lsquo;<samp class="samp">~</samp>&rsquo;, because this does not make the result shorter
on many systems.
</p>
<p>You can use this function for directory names and for file names,
because it recognizes abbreviations even as part of the name.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="File-Name-Expansion.html">Functions that Expand Filenames</a>, Previous: <a href="Relative-File-Names.html">Absolute and Relative File Names</a>, Up: <a href="File-Names.html">File Names</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
