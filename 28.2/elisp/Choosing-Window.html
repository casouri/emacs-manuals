<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 28.2.

Copyright Â© 1990-1996, 1998-2022 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Choosing Window (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Choosing Window (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Choosing Window (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Displaying-Buffers.html" rel="up" title="Displaying Buffers">
<link href="Buffer-Display-Action-Functions.html" rel="next" title="Buffer Display Action Functions">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Choosing-Window">
<div class="nav-panel">
<p>
Next: <a href="Buffer-Display-Action-Functions.html" accesskey="n" rel="next">Action Functions for Buffer Display</a>, Up: <a href="Displaying-Buffers.html" accesskey="u" rel="up">Displaying a Buffer in a Suitable Window</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Choosing-a-Window-for-Displaying-a-Buffer"><span>29.13.1 Choosing a Window for Displaying a Buffer<a class="copiable-link" href="#Choosing-a-Window-for-Displaying-a-Buffer"> &para;</a></span></h4>

<p>The command <code class="code">display-buffer</code> flexibly chooses a window for
display, and displays a specified buffer in that window.  It can be
called interactively, via the key binding <kbd class="kbd">C-x 4 C-o</kbd>.  It is also
used as a subroutine by many functions and commands, including
<code class="code">switch-to-buffer</code> and <code class="code">pop-to-buffer</code> (see <a class="pxref" href="Switching-Buffers.html">Switching to a Buffer in a Window</a>).
</p>
<a class="index-entry-id" id="index-buffer-display-display-action"></a>
<a class="index-entry-id" id="index-display-action"></a>
<p>This command performs several complex steps to find a window to
display in.  These steps are described by means of <em class="dfn">display
actions</em>, which have the form <code class="code">(<var class="var">functions</var> . <var class="var">alist</var>)</code>.
Here, <var class="var">functions</var> is either a single function or a list of
functions, referred to as &ldquo;action functions&rdquo; (see <a class="pxref" href="Buffer-Display-Action-Functions.html">Action Functions for Buffer Display</a>); and <var class="var">alist</var> is an association list, referred
to as &ldquo;action alist&rdquo; (see <a class="pxref" href="Buffer-Display-Action-Alists.html">Action Alists for Buffer Display</a>).
See <a class="xref" href="The-Zen-of-Buffer-Display.html">The Zen of Buffer Display</a>, for samples of display actions.
</p>
<p>An action function accepts two arguments: the buffer to display and
an action alist.  It attempts to display the buffer in some window,
picking or creating a window according to its own criteria.  If
successful, it returns the window; otherwise, it returns <code class="code">nil</code>.
</p>
<p><code class="code">display-buffer</code> works by combining display actions from
several sources, and calling the action functions in turn, until one
of them manages to display the buffer and returns a non-<code class="code">nil</code>
value.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-display_002dbuffer"><span class="category-def">Command: </span><span><strong class="def-name">display-buffer</strong> <var class="def-var-arguments">buffer-or-name &amp;optional action frame</var><a class="copiable-link" href="#index-display_002dbuffer"> &para;</a></span></dt>
<dd><p>This command makes <var class="var">buffer-or-name</var> appear in some window, without
selecting the window or making the buffer current.  The argument
<var class="var">buffer-or-name</var> must be a buffer or the name of an existing
buffer.  The return value is the window chosen to display the buffer,
or <code class="code">nil</code> if no suitable window was found.
</p>
<p>The optional argument <var class="var">action</var>, if non-<code class="code">nil</code>, should normally
be a display action (described above).  <code class="code">display-buffer</code> builds a
list of action functions and an action alist, by consolidating display
actions from the following sources (in order of their precedence,
from highest to lowest):
</p>
<ul class="itemize mark-bullet">
<li>The variable <code class="code">display-buffer-overriding-action</code>.

</li><li>The user option <code class="code">display-buffer-alist</code>.

</li><li>The <var class="var">action</var> argument.

</li><li>The user option <code class="code">display-buffer-base-action</code>.

</li><li>The constant <code class="code">display-buffer-fallback-action</code>.
</li></ul>

<p>In practice this means that <code class="code">display-buffer</code> builds a list of all
action functions specified by these display actions.  The first
element of this list is the first action function specified by
<code class="code">display-buffer-overriding-action</code>, if any.  Its last element is
<code class="code">display-buffer-pop-up-frame</code>&mdash;the last action function
specified by <code class="code">display-buffer-fallback-action</code>.  Duplicates are
not removed from this list&mdash;hence one and the same action function
may be called multiple times during one call of <code class="code">display-buffer</code>.
</p>
<p><code class="code">display-buffer</code> calls the action functions specified by this
list in turn, passing the buffer as the first argument and the
combined action alist as the second argument, until one of the
functions returns non-<code class="code">nil</code>.  See <a class="xref" href="Precedence-of-Action-Functions.html">Precedence of Action Functions</a>, for examples how display actions specified by different
sources are processed by <code class="code">display-buffer</code>.
</p>
<p>Note that the second argument is always the list of <em class="emph">all</em> action
alist entries specified by the sources named above.  Hence, the first
element of that list is the first action alist entry specified by
<code class="code">display-buffer-overriding-action</code>, if any.  Its last element is
the last alist entry of <code class="code">display-buffer-base-action</code>, if any (the
action alist of <code class="code">display-buffer-fallback-action</code> is empty).
</p>
<p>Note also, that the combined action alist may contain duplicate
entries and entries for the same key with different values.  As a
rule, action functions always use the first association of a key they
find.  Hence, the association an action function uses is not
necessarily the association provided by the display action that
specified that action function,
</p>
<p>The argument <var class="var">action</var> can also have a non-<code class="code">nil</code>, non-list
value.  This has the special meaning that the buffer should be
displayed in a window other than the selected one, even if the
selected window is already displaying it.  If called interactively
with a prefix argument, <var class="var">action</var> is <code class="code">t</code>.  Lisp programs
should always supply a list value.
</p>
<p>The optional argument <var class="var">frame</var>, if non-<code class="code">nil</code>, specifies which
frames to check when deciding whether the buffer is already displayed.
It is equivalent to adding an element <code class="code">(reusable-frames&nbsp;.&nbsp;<var class="var">frame</var>)</code><!-- /@w --> to the action alist of <var class="var">action</var> (see <a class="pxref" href="Buffer-Display-Action-Alists.html">Action Alists for Buffer Display</a>).  The <var class="var">frame</var> argument is provided for
compatibility reasons, Lisp programs should not use it.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-display_002dbuffer_002doverriding_002daction"><span class="category-def">Variable: </span><span><strong class="def-name">display-buffer-overriding-action</strong><a class="copiable-link" href="#index-display_002dbuffer_002doverriding_002daction"> &para;</a></span></dt>
<dd><p>The value of this variable should be a display action, which is
treated with the highest priority by <code class="code">display-buffer</code>.  The
default value is an empty display action, i.e., <code class="code">(nil&nbsp;.&nbsp;nil)</code><!-- /@w -->.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-display_002dbuffer_002dalist"><span class="category-def">User Option: </span><span><strong class="def-name">display-buffer-alist</strong><a class="copiable-link" href="#index-display_002dbuffer_002dalist"> &para;</a></span></dt>
<dd><p>The value of this option is an alist mapping conditions to display
actions.  Each condition may be either a regular expression matching a
buffer name or a function that takes two arguments: a buffer name and
the <var class="var">action</var> argument passed to <code class="code">display-buffer</code>.  If either
the name of the buffer passed to <code class="code">display-buffer</code> matches a
regular expression in this alist, or the function specified by a
condition returns non-<code class="code">nil</code>, then <code class="code">display-buffer</code> uses the
corresponding display action to display the buffer.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-display_002dbuffer_002dbase_002daction"><span class="category-def">User Option: </span><span><strong class="def-name">display-buffer-base-action</strong><a class="copiable-link" href="#index-display_002dbuffer_002dbase_002daction"> &para;</a></span></dt>
<dd><p>The value of this option should be a display action.  This option can
be used to define a standard display action for calls to
<code class="code">display-buffer</code>.
</p></dd></dl>

<dl class="first-defvr">
<dt class="defvr" id="index-display_002dbuffer_002dfallback_002daction"><span class="category-def">Constant: </span><span><strong class="def-name">display-buffer-fallback-action</strong><a class="copiable-link" href="#index-display_002dbuffer_002dfallback_002daction"> &para;</a></span></dt>
<dd><p>This display action specifies the fallback behavior for
<code class="code">display-buffer</code> if no other display actions are given.
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Buffer-Display-Action-Functions.html">Action Functions for Buffer Display</a>, Up: <a href="Displaying-Buffers.html">Displaying a Buffer in a Suitable Window</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
