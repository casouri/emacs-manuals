<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 28.2.

Copyright Â© 1990-1996, 1998-2022 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Terminal-Specific (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Terminal-Specific (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Terminal-Specific (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Starting-Up.html" rel="up" title="Starting Up">
<link href="Command_002dLine-Arguments.html" rel="next" title="Command-Line Arguments">
<link href="Init-File.html" rel="prev" title="Init File">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Terminal_002dSpecific">
<div class="nav-panel">
<p>
Next: <a href="Command_002dLine-Arguments.html" accesskey="n" rel="next">Command-Line Arguments</a>, Previous: <a href="Init-File.html" accesskey="p" rel="prev">The Init File</a>, Up: <a href="Starting-Up.html" accesskey="u" rel="up">Starting Up Emacs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Terminal_002dSpecific-Initialization"><span>41.1.3 Terminal-Specific Initialization<a class="copiable-link" href="#Terminal_002dSpecific-Initialization"> &para;</a></span></h4>
<a class="index-entry-id" id="index-terminal_002dspecific-initialization"></a>

<p>Each terminal type can have its own Lisp library that Emacs loads when
run on that type of terminal.  The library&rsquo;s name is constructed by
concatenating the value of the variable <code class="code">term-file-prefix</code> and the
terminal type (specified by the environment variable <code class="env">TERM</code>).
Normally, <code class="code">term-file-prefix</code> has the value <code class="code">&quot;term/&quot;</code>;
changing this is not recommended.  If there is an entry matching
<code class="env">TERM</code> in the <code class="code">term-file-aliases</code> association list,
Emacs uses the associated value in place of <code class="env">TERM</code>.
Emacs finds the file in the normal manner, by searching the
<code class="code">load-path</code> directories, and trying the &lsquo;<samp class="samp">.elc</samp>&rsquo; and
&lsquo;<samp class="samp">.el</samp>&rsquo; suffixes.
</p>
<a class="index-entry-id" id="index-Termcap"></a>
<p>The usual role of a terminal-specific library is to enable special
keys to send sequences that Emacs can recognize.  It may also need to
set or add to <code class="code">input-decode-map</code> if the Termcap or Terminfo entry
does not specify all the terminal&rsquo;s function keys.  See <a class="xref" href="Terminal-Input.html">Terminal Input</a>.
</p>
<p>When the name of the terminal type contains a hyphen or underscore,
and no library is found whose name is identical to the terminal&rsquo;s
name, Emacs strips from the terminal&rsquo;s name the last hyphen or
underscore and everything that follows
it, and tries again.  This process is repeated until Emacs finds a
matching library, or until there are no more hyphens or underscores in the name
(i.e., there is no terminal-specific library).  For example, if the
terminal name is &lsquo;<samp class="samp">xterm-256color</samp>&rsquo; and there is no
<samp class="file">term/xterm-256color.el</samp> library, Emacs tries to load
<samp class="file">term/xterm.el</samp>.  If necessary, the terminal library can evaluate
<code class="code">(getenv &quot;TERM&quot;)</code> to find the full name of the terminal type.
</p>
<p>Your init file can prevent the loading of the terminal-specific
library by setting the variable <code class="code">term-file-prefix</code> to <code class="code">nil</code>.
</p>
<p>You can also arrange to override some of the actions of the
terminal-specific library by using <code class="code">tty-setup-hook</code>.  This is
a normal hook that Emacs runs after initializing a new text terminal.
You could use this hook to define initializations for terminals that do not
have their own libraries.  See <a class="xref" href="Hooks.html">Hooks</a>.
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-term_002dfile_002dprefix"><span class="category-def">User Option: </span><span><strong class="def-name">term-file-prefix</strong><a class="copiable-link" href="#index-term_002dfile_002dprefix"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-TERM-environment-variable"></a>
<p>If the value of this variable is non-<code class="code">nil</code>, Emacs loads a
terminal-specific initialization file as follows:
</p>
<div class="example">
<pre class="example-preformatted">(load (concat term-file-prefix (getenv &quot;TERM&quot;)))
</pre></div>

<p>You may set the <code class="code">term-file-prefix</code> variable to <code class="code">nil</code> in your
init file if you do not wish to load the
terminal-initialization file.
</p>
<p>On MS-DOS, Emacs sets the <code class="env">TERM</code> environment variable to &lsquo;<samp class="samp">internal</samp>&rsquo;.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-term_002dfile_002daliases"><span class="category-def">User Option: </span><span><strong class="def-name">term-file-aliases</strong><a class="copiable-link" href="#index-term_002dfile_002daliases"> &para;</a></span></dt>
<dd><p>This variable is an association list mapping terminal types to
their aliases.  For example, an element of the form <code class="code">(&quot;vt102&quot;
. &quot;vt100&quot;)</code> means to treat a terminal of type &lsquo;<samp class="samp">vt102</samp>&rsquo; like one of
type &lsquo;<samp class="samp">vt100</samp>&rsquo;.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-tty_002dsetup_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">tty-setup-hook</strong><a class="copiable-link" href="#index-tty_002dsetup_002dhook"> &para;</a></span></dt>
<dd><p>This variable is a normal hook that Emacs runs after initializing a
new text terminal.  (This applies when Emacs starts up in non-windowed
mode, and when making a tty <code class="command">emacsclient</code> connection.)  The
hook runs after loading your init file (if applicable) and the
terminal-specific Lisp file, so you can use it to adjust the
definitions made by that file.
</p>
<p>For a related feature, see <a class="pxref" href="Init-File.html">window-setup-hook</a>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Command_002dLine-Arguments.html">Command-Line Arguments</a>, Previous: <a href="Init-File.html">The Init File</a>, Up: <a href="Starting-Up.html">Starting Up Emacs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
