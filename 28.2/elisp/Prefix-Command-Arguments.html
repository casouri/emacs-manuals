<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 28.2.

Copyright Â© 1990-1996, 1998-2022 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Prefix Command Arguments (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Prefix Command Arguments (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Prefix Command Arguments (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Command-Loop.html" rel="up" title="Command Loop">
<link href="Recursive-Editing.html" rel="next" title="Recursive Editing">
<link href="Quitting.html" rel="prev" title="Quitting">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Prefix-Command-Arguments">
<div class="nav-panel">
<p>
Next: <a href="Recursive-Editing.html" accesskey="n" rel="next">Recursive Editing</a>, Previous: <a href="Quitting.html" accesskey="p" rel="prev">Quitting</a>, Up: <a href="Command-Loop.html" accesskey="u" rel="up">Command Loop</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Prefix-Command-Arguments-1"><span>22.12 Prefix Command Arguments<a class="copiable-link" href="#Prefix-Command-Arguments-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-prefix-argument"></a>
<a class="index-entry-id" id="index-raw-prefix-argument"></a>
<a class="index-entry-id" id="index-numeric-prefix-argument"></a>

<p>Most Emacs commands can use a <em class="dfn">prefix argument</em>, a number
specified before the command itself.  (Don&rsquo;t confuse prefix arguments
with prefix keys.)  The prefix argument is at all times represented by a
value, which may be <code class="code">nil</code>, meaning there is currently no prefix
argument.  Each command may use the prefix argument or ignore it.
</p>
<p>There are two representations of the prefix argument: <em class="dfn">raw</em> and
<em class="dfn">numeric</em>.  The editor command loop uses the raw representation
internally, and so do the Lisp variables that store the information, but
commands can request either representation.
</p>
<p>Here are the possible values of a raw prefix argument:
</p>
<ul class="itemize mark-bullet">
<li><code class="code">nil</code>, meaning there is no prefix argument.  Its numeric value is
1, but numerous commands make a distinction between <code class="code">nil</code> and the
integer 1.

</li><li>An integer, which stands for itself.

</li><li>A list of one element, which is an integer.  This form of prefix
argument results from one or a succession of <kbd class="kbd">C-u</kbd>s with no
digits.  The numeric value is the integer in the list, but some
commands make a distinction between such a list and an integer alone.

</li><li>The symbol <code class="code">-</code>.  This indicates that <kbd class="kbd">M--</kbd> or <kbd class="kbd">C-u -</kbd> was
typed, without following digits.  The equivalent numeric value is
&minus;1, but some commands make a distinction between the integer
&minus;1 and the symbol <code class="code">-</code>.
</li></ul>

<p>We illustrate these possibilities by calling the following function with
various prefixes:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(defun display-prefix (arg)
  &quot;Display the value of the raw prefix arg.&quot;
  (interactive &quot;P&quot;)
  (message &quot;%s&quot; arg))
</pre></div></div>

<p>Here are the results of calling <code class="code">display-prefix</code> with various
raw prefix arguments:
</p>
<div class="example">
<pre class="example-preformatted">        M-x display-prefix  -| nil

C-u     M-x display-prefix  -| (4)

C-u C-u M-x display-prefix  -| (16)

C-u 3   M-x display-prefix  -| 3

M-3     M-x display-prefix  -| 3      ; <span class="r">(Same as <code class="code">C-u 3</code>.)</span>

C-u -   M-x display-prefix  -| -

M--     M-x display-prefix  -| -      ; <span class="r">(Same as <code class="code">C-u -</code>.)</span>

C-u - 7 M-x display-prefix  -| -7

M-- 7   M-x display-prefix  -| -7     ; <span class="r">(Same as <code class="code">C-u -7</code>.)</span>
</pre></div>

<p>Emacs uses two variables to store the prefix argument:
<code class="code">prefix-arg</code> and <code class="code">current-prefix-arg</code>.  Commands such as
<code class="code">universal-argument</code> that set up prefix arguments for other
commands store them in <code class="code">prefix-arg</code>.  In contrast,
<code class="code">current-prefix-arg</code> conveys the prefix argument to the current
command, so setting it has no effect on the prefix arguments for future
commands.
</p>
<p>Normally, commands specify which representation to use for the prefix
argument, either numeric or raw, in the <code class="code">interactive</code> specification.
(See <a class="xref" href="Using-Interactive.html">Using <code class="code">interactive</code></a>.)  Alternatively, functions may look at the
value of the prefix argument directly in the variable
<code class="code">current-prefix-arg</code>, but this is less clean.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-prefix_002dnumeric_002dvalue"><span class="category-def">Function: </span><span><strong class="def-name">prefix-numeric-value</strong> <var class="def-var-arguments">arg</var><a class="copiable-link" href="#index-prefix_002dnumeric_002dvalue"> &para;</a></span></dt>
<dd><p>This function returns the numeric meaning of a valid raw prefix argument
value, <var class="var">arg</var>.  The argument may be a symbol, a number, or a list.
If it is <code class="code">nil</code>, the value 1 is returned; if it is <code class="code">-</code>, the
value &minus;1 is returned; if it is a number, that number is returned;
if it is a list, the <small class="sc">CAR</small> of that list (which should be a number) is
returned.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-current_002dprefix_002darg"><span class="category-def">Variable: </span><span><strong class="def-name">current-prefix-arg</strong><a class="copiable-link" href="#index-current_002dprefix_002darg"> &para;</a></span></dt>
<dd><p>This variable holds the raw prefix argument for the <em class="emph">current</em>
command.  Commands may examine it directly, but the usual method for
accessing it is with <code class="code">(interactive &quot;P&quot;)</code>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-prefix_002darg"><span class="category-def">Variable: </span><span><strong class="def-name">prefix-arg</strong><a class="copiable-link" href="#index-prefix_002darg"> &para;</a></span></dt>
<dd><p>The value of this variable is the raw prefix argument for the
<em class="emph">next</em> editing command.  Commands such as <code class="code">universal-argument</code>
that specify prefix arguments for the following command work by setting
this variable.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-last_002dprefix_002darg"><span class="category-def">Variable: </span><span><strong class="def-name">last-prefix-arg</strong><a class="copiable-link" href="#index-last_002dprefix_002darg"> &para;</a></span></dt>
<dd><p>The raw prefix argument value used by the previous command.
</p></dd></dl>

<p>The following commands exist to set up prefix arguments for the
following command.  Do not call them for any other reason.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-universal_002dargument"><span class="category-def">Command: </span><span><strong class="def-name">universal-argument</strong><a class="copiable-link" href="#index-universal_002dargument"> &para;</a></span></dt>
<dd><p>This command reads input and specifies a prefix argument for the
following command.  Don&rsquo;t call this command yourself unless you know
what you are doing.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-digit_002dargument"><span class="category-def">Command: </span><span><strong class="def-name">digit-argument</strong> <var class="def-var-arguments">arg</var><a class="copiable-link" href="#index-digit_002dargument"> &para;</a></span></dt>
<dd><p>This command adds to the prefix argument for the following command.  The
argument <var class="var">arg</var> is the raw prefix argument as it was before this
command; it is used to compute the updated prefix argument.  Don&rsquo;t call
this command yourself unless you know what you are doing.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-negative_002dargument"><span class="category-def">Command: </span><span><strong class="def-name">negative-argument</strong> <var class="def-var-arguments">arg</var><a class="copiable-link" href="#index-negative_002dargument"> &para;</a></span></dt>
<dd><p>This command adds to the numeric argument for the next command.  The
argument <var class="var">arg</var> is the raw prefix argument as it was before this
command; its value is negated to form the new prefix argument.  Don&rsquo;t
call this command yourself unless you know what you are doing.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Recursive-Editing.html">Recursive Editing</a>, Previous: <a href="Quitting.html">Quitting</a>, Up: <a href="Command-Loop.html">Command Loop</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
