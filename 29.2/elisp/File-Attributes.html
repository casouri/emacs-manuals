<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.2.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>File Attributes (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="File Attributes (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="File Attributes (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Information-about-Files.html" rel="up" title="Information about Files">
<link href="Extended-Attributes.html" rel="next" title="Extended Attributes">
<link href="Truenames.html" rel="prev" title="Truenames">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="File-Attributes">
<div class="nav-panel">
<p>
Next: <a href="Extended-Attributes.html" accesskey="n" rel="next">Extended File Attributes</a>, Previous: <a href="Truenames.html" accesskey="p" rel="prev">Truenames</a>, Up: <a href="Information-about-Files.html" accesskey="u" rel="up">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="File-Attributes-1"><span>26.6.4 File Attributes<a class="copiable-link" href="#File-Attributes-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-file-attributes"></a>

<p>This section describes the functions for getting detailed
information about a file, including the owner and group numbers, the
number of names, the inode number, the size, and the times of access
and modification.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dnewer_002dthan_002dfile_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-newer-than-file-p</strong> <var class="def-var-arguments">filename1 filename2</var><a class="copiable-link" href="#index-file_002dnewer_002dthan_002dfile_002dp"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-file-age"></a>
<a class="index-entry-id" id="index-file-modification-time"></a>
<p>This function returns <code class="code">t</code> if the file <var class="var">filename1</var> is
newer than file <var class="var">filename2</var>.  If <var class="var">filename1</var> does not
exist, it returns <code class="code">nil</code>.  If <var class="var">filename1</var> does exist, but
<var class="var">filename2</var> does not, it returns <code class="code">t</code>.
</p>
<p>In the following example, assume that the file <samp class="file">aug-19</samp> was written
on the 19th, <samp class="file">aug-20</samp> was written on the 20th, and the file
<samp class="file">no-file</samp> doesn&rsquo;t exist at all.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-newer-than-file-p &quot;aug-19&quot; &quot;aug-20&quot;)
     &rArr; nil
</pre></div><div class="group"><pre class="example-preformatted">(file-newer-than-file-p &quot;aug-20&quot; &quot;aug-19&quot;)
     &rArr; t
</pre></div><div class="group"><pre class="example-preformatted">(file-newer-than-file-p &quot;aug-19&quot; &quot;no-file&quot;)
     &rArr; t
</pre></div><div class="group"><pre class="example-preformatted">(file-newer-than-file-p &quot;no-file&quot; &quot;aug-19&quot;)
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dhas_002dchanged_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-has-changed-p</strong> <var class="def-var-arguments">filename tag</var><a class="copiable-link" href="#index-file_002dhas_002dchanged_002dp"> &para;</a></span></dt>
<dd><p>This function returns non-<code class="code">nil</code> if the time stamp of
<var class="var">filename</var> has changed since the last call.  When called for the
first time for some <var class="var">filename</var>, it records the last modification
time and size of the file, and returns non-<code class="code">nil</code> when
<var class="var">filename</var> exists.  Thereafter, when called for the same
<var class="var">filename</var>, it compares the current time stamp and size with the
recorded ones, and returns non-<code class="code">nil</code> only if either the time
stamp or the size (or both) are different.  This is useful when a Lisp
program wants to re-read a file whenever it changes.  With an optional
argument <var class="var">tag</var>, which must be a symbol, the size and modification
time comparisons are limited to calls with the same tag.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dattributes"><span class="category-def">Function: </span><span><strong class="def-name">file-attributes</strong> <var class="def-var-arguments">filename &amp;optional id-format</var><a class="copiable-link" href="#index-file_002dattributes"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-file_002dattributes"></a><p>This function returns a list of attributes of file <var class="var">filename</var>.  If
the specified file does not exist, it returns <code class="code">nil</code>.
This function does not follow symbolic links.
The optional parameter <var class="var">id-format</var> specifies the preferred format
of attributes <abbr class="acronym">UID</abbr> and <abbr class="acronym">GID</abbr> (see below)&mdash;the
valid values are <code class="code">'string</code> and <code class="code">'integer</code>.  The latter is
the default, but we plan to change that, so you should specify a
non-<code class="code">nil</code> value for <var class="var">id-format</var> if you use the returned
<abbr class="acronym">UID</abbr> or <abbr class="acronym">GID</abbr>.
</p>
<p>On GNU platforms when operating on a local file, this function is
atomic: if the filesystem is simultaneously being changed by some
other process, this function returns the file&rsquo;s attributes either
before or after the change.  Otherwise this function is not atomic,
and might return <code class="code">nil</code> if it detects the race condition, or might
return a hodgepodge of the previous and current file attributes.
</p>
<p>Accessor functions are provided to access the elements in this list.
The accessors are mentioned along with the descriptions of the
elements below.
</p>
<p>The elements of the list, in order, are:
</p>
<ol class="enumerate" start="0">
<li> <code class="code">t</code> for a directory, a string for a symbolic link (the name
linked to), or <code class="code">nil</code> for a text file
(<code class="code">file-attribute-type</code>).

</li><li> The number of names the file has (<code class="code">file-attribute-link-number</code>).
Alternate names, also known as hard links, can be created by using the
<code class="code">add-name-to-file</code> function (see <a class="pxref" href="Changing-Files.html">Changing File Names and Attributes</a>).

</li><li> The file&rsquo;s <abbr class="acronym">UID</abbr>, normally as a string
(<code class="code">file-attribute-user-id</code>).  However, if it does not correspond
to a named user, the value is an integer.

</li><li> The file&rsquo;s <abbr class="acronym">GID</abbr>, likewise (<code class="code">file-attribute-group-id</code>).

</li><li> The time of last access as a Lisp timestamp
(<code class="code">file-attribute-access-time</code>).  The timestamp is in the
style of <code class="code">current-time</code> (see <a class="pxref" href="Time-of-Day.html">Time of Day</a>) and is truncated
to that of the filesystem&rsquo;s timestamp resolution; for example, on some
FAT-based filesystems, only the date of last access is recorded, so
this time will always hold the midnight of the day of the last access.

</li><li> <a class="index-entry-id" id="index-modification-time-of-file"></a>
The time of last modification as a Lisp timestamp
(<code class="code">file-attribute-modification-time</code>).  This is the last time when
the file&rsquo;s contents were modified.

</li><li> The time of last status change as a Lisp timestamp
(<code class="code">file-attribute-status-change-time</code>).  This is the time of the
last change to the file&rsquo;s access mode bits, its owner and group, and
other information recorded in the filesystem for the file, beyond the
file&rsquo;s contents.

</li><li> The size of the file in bytes (<code class="code">file-attribute-size</code>).

</li><li> The file&rsquo;s modes, as a string of ten letters or dashes, as in
&lsquo;<samp class="samp">ls -l</samp>&rsquo; (<code class="code">file-attribute-modes</code>).

</li><li> An unspecified value, present for backward compatibility.

</li><li> The file&rsquo;s inode number (<code class="code">file-attribute-inode-number</code>),
a nonnegative integer.

</li><li> The filesystem&rsquo;s identifier of the device that the file is on
(<code class="code">file-attribute-device-number</code>), an integer or a cons cell of
two integers.  The latter is sometimes used by remote files, in order
to distinguish remote filesystems from local ones.
</li></ol>

<p>The file&rsquo;s inode and device together give enough information
to distinguish any two files on the system&mdash;no two files can have the
same values for both of these attributes.  This tuple that uniquely
identifies the file is returned by <code class="code">file-attribute-file-identifier</code>.
</p>
<p>For example, here are the file attributes for <samp class="file">files.texi</samp>:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-attributes &quot;files.texi&quot; 'string)
     &rArr;  (nil 1 &quot;lh&quot; &quot;users&quot;
          (20614 64019 50040 152000)
          (20000 23 0 0)
          (20614 64555 902289 872000)
          122295 &quot;-rw-rw-rw-&quot;
          t 6473924464520138
          1014478468)
</pre></div></div>

<p>and here is how the result is interpreted:
</p>
<dl class="table">
<dt><code class="code">nil</code></dt>
<dd><p>is neither a directory nor a symbolic link.
</p>
</dd>
<dt><code class="code">1</code></dt>
<dd><p>has only one name (the name <samp class="file">files.texi</samp> in the current default
directory).
</p>
</dd>
<dt><code class="code">&quot;lh&quot;</code></dt>
<dd><p>is owned by the user with name &lsquo;<samp class="samp">lh</samp>&rsquo;.
</p>
</dd>
<dt><code class="code">&quot;users&quot;</code></dt>
<dd><p>is in the group with name &lsquo;<samp class="samp">users</samp>&rsquo;.
</p>
</dd>
<dt><code class="code">(20614 64019 50040 152000)</code></dt>
<dd><p>was last accessed on October 23, 2012, at 20:12:03.050040152 UTC.
(This timestamp is <code class="code">(1351023123050040152 . 1000000000)</code>
if <code class="code">current-time-list</code> is <code class="code">nil</code>.)
</p>
</dd>
<dt><code class="code">(20000 23 0 0)</code></dt>
<dd><p>was last modified on July 15, 2001, at 08:53:43.000000000 UTC.
(This timestamp is <code class="code">(1310720023000000000 . 1000000000)</code>
if <code class="code">current-time-list</code> is <code class="code">nil</code>.)
</p>
</dd>
<dt><code class="code">(20614 64555 902289 872000)</code></dt>
<dd><p>last had its status changed on October 23, 2012, at 20:20:59.902289872 UTC.
(This timestamp is <code class="code">(1351023659902289872 . 1000000000)</code>
if <code class="code">current-time-list</code> is <code class="code">nil</code>.)
</p>
</dd>
<dt><code class="code">122295</code></dt>
<dd><p>is 122295 bytes long.  (It may not contain 122295 characters, though,
if some of the bytes belong to multibyte sequences, and also if the
end-of-line format is CR-LF.)
</p>
</dd>
<dt><code class="code">&quot;-rw-rw-rw-&quot;</code></dt>
<dd><p>has a mode of read and write access for the owner, group, and world.
</p>
</dd>
<dt><code class="code">t</code></dt>
<dd><p>is merely a placeholder; it carries no information.
</p>
</dd>
<dt><code class="code">6473924464520138</code></dt>
<dd><p>has an inode number of 6473924464520138.
</p>
</dd>
<dt><code class="code">1014478468</code></dt>
<dd><p>is on the file-system device whose number is 1014478468.
</p></dd>
</dl>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dnlinks"><span class="category-def">Function: </span><span><strong class="def-name">file-nlinks</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dnlinks"> &para;</a></span></dt>
<dd><p>This function returns the number of names (i.e., hard links) that
file <var class="var">filename</var> has.  If the file does not exist, this function
returns <code class="code">nil</code>.  Note that symbolic links have no effect on this
function, because they are not considered to be names of the files
they link to.  This function does not follow symbolic links.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">$ ls -l foo*
-rw-rw-rw- 2 rms rms 4 Aug 19 01:27 foo
-rw-rw-rw- 2 rms rms 4 Aug 19 01:27 foo1
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(file-nlinks &quot;foo&quot;)
     &rArr; 2
</pre></div><div class="group"><pre class="example-preformatted">(file-nlinks &quot;doesnt-exist&quot;)
     &rArr; nil
</pre></div></div>
</dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Extended-Attributes.html">Extended File Attributes</a>, Previous: <a href="Truenames.html">Truenames</a>, Up: <a href="Information-about-Files.html">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
