<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.2.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>System Environment (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="System Environment (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="System Environment (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="System-Interface.html" rel="up" title="System Interface">
<link href="User-Identification.html" rel="next" title="User Identification">
<link href="Getting-Out.html" rel="prev" title="Getting Out">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="System-Environment">
<div class="nav-panel">
<p>
Next: <a href="User-Identification.html" accesskey="n" rel="next">User Identification</a>, Previous: <a href="Getting-Out.html" accesskey="p" rel="prev">Getting Out of Emacs</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">Operating System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Operating-System-Environment"><span>42.3 Operating System Environment<a class="copiable-link" href="#Operating-System-Environment"> &para;</a></span></h3>
<a class="index-entry-id" id="index-operating-system-environment"></a>

<p>Emacs provides access to variables in the operating system environment
through various functions.  These variables include the name of the
system, the user&rsquo;s <abbr class="acronym">UID</abbr>, and so on.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-system_002dconfiguration"><span class="category-def">Variable: </span><span><strong class="def-name">system-configuration</strong><a class="copiable-link" href="#index-system_002dconfiguration"> &para;</a></span></dt>
<dd><p>This variable holds the standard GNU configuration name for the
hardware/software configuration of your system, as a string.  For
example, a typical value for a 64-bit GNU/Linux system is
&lsquo;<samp class="samp">&quot;x86_64-unknown-linux-gnu&quot;</samp>&rsquo;.
</p></dd></dl>

<a class="index-entry-id" id="index-system-type-and-name"></a>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-system_002dtype"><span class="category-def">Variable: </span><span><strong class="def-name">system-type</strong><a class="copiable-link" href="#index-system_002dtype"> &para;</a></span></dt>
<dd><p>The value of this variable is a symbol indicating the type of operating
system Emacs is running on.  The possible values are:
</p>
<dl class="table">
<dt><code class="code">aix</code></dt>
<dd><p>IBM&rsquo;s AIX.
</p>
</dd>
<dt><code class="code">berkeley-unix</code></dt>
<dd><p>Berkeley BSD and its variants.
</p>
</dd>
<dt><code class="code">cygwin</code></dt>
<dd><p>Cygwin, a POSIX layer on top of MS-Windows.
</p>
</dd>
<dt><code class="code">darwin</code></dt>
<dd><p>Darwin (macOS).
</p>
</dd>
<dt><code class="code">gnu</code></dt>
<dd><p>The GNU system (using the GNU kernel, which consists of the HURD and Mach).
</p>
</dd>
<dt><code class="code">gnu/linux</code></dt>
<dd><p>A GNU/Linux system&mdash;that is, a variant GNU system, using the Linux
kernel.  (These systems are the ones people often call &ldquo;Linux&rdquo;, but
actually Linux is just the kernel, not the whole system.)
</p>
</dd>
<dt><code class="code">gnu/kfreebsd</code></dt>
<dd><p>A GNU (glibc-based) system with a FreeBSD kernel.
</p>
</dd>
<dt><code class="code">haiku</code></dt>
<dd><p>The Haiku operating system, a derivative of the Be Operating System.
</p>
</dd>
<dt><code class="code">hpux</code></dt>
<dd><p>Hewlett-Packard HPUX operating system.
</p>
</dd>
<dt><code class="code">nacl</code></dt>
<dd><p>Google Native Client (<abbr class="acronym">NaCl</abbr>) sandboxing system.
</p>
</dd>
<dt><code class="code">ms-dos</code></dt>
<dd><p>Microsoft&rsquo;s DOS.  Emacs compiled with DJGPP for MS-DOS binds
<code class="code">system-type</code> to <code class="code">ms-dos</code> even when you run it on MS-Windows.
</p>
</dd>
<dt><code class="code">usg-unix-v</code></dt>
<dd><p>AT&amp;T Unix System V.
</p>
</dd>
<dt><code class="code">windows-nt</code></dt>
<dd><p>Microsoft Windows NT, 9X and later.  The value of <code class="code">system-type</code>
is always <code class="code">windows-nt</code>, e.g., even on Windows 10.
</p>
</dd>
</dl>

<p>We do not wish to add new symbols to make finer distinctions unless it
is absolutely necessary!  In fact, we hope to eliminate some of these
alternatives in the future.  If you need to make a finer distinction
than <code class="code">system-type</code> allows for, you can test
<code class="code">system-configuration</code>, e.g., against a regexp.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-system_002dname"><span class="category-def">Function: </span><span><strong class="def-name">system-name</strong><a class="copiable-link" href="#index-system_002dname"> &para;</a></span></dt>
<dd><p>This function returns the name of the machine you are running on, as a
string.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-mail_002dhost_002daddress"><span class="category-def">User Option: </span><span><strong class="def-name">mail-host-address</strong><a class="copiable-link" href="#index-mail_002dhost_002daddress"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, it is used instead of
<code class="code">system-name</code> for purposes of generating email addresses.  For
example, it is used when constructing the default value of
<code class="code">user-mail-address</code>.  See <a class="xref" href="User-Identification.html">User Identification</a>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-getenv"><span class="category-def">Command: </span><span><strong class="def-name">getenv</strong> <var class="def-var-arguments">var &amp;optional frame</var><a class="copiable-link" href="#index-getenv"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-environment-variable-access"></a>
<p>This function returns the value of the environment variable <var class="var">var</var>,
as a string.  <var class="var">var</var> should be a string.  If <var class="var">var</var> is undefined
in the environment, <code class="code">getenv</code> returns <code class="code">nil</code>.  It returns
&lsquo;<samp class="samp">&quot;&quot;</samp>&rsquo; if <var class="var">var</var> is set but null.  Within Emacs, a list of environment
variables and their values is kept in the variable <code class="code">process-environment</code>.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(getenv &quot;USER&quot;)
     &rArr; &quot;lewis&quot;
</pre></div></div>

<p>The shell command <code class="code">printenv</code> prints all or part of the environment:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">bash$ printenv
PATH=/usr/local/bin:/usr/bin:/bin
USER=lewis
</pre></div><div class="group"><pre class="example-preformatted">TERM=xterm
SHELL=/bin/bash
HOME=/home/lewis
</pre></div><pre class="example-preformatted">...
</pre></div>
</dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-setenv"><span class="category-def">Command: </span><span><strong class="def-name">setenv</strong> <var class="def-var-arguments">variable &amp;optional value substitute</var><a class="copiable-link" href="#index-setenv"> &para;</a></span></dt>
<dd><p>This command sets the value of the environment variable named
<var class="var">variable</var> to <var class="var">value</var>.  <var class="var">variable</var> should be a string.
Internally, Emacs Lisp can handle any string.  However, normally
<var class="var">variable</var> should be a valid shell identifier, that is, a sequence
of letters, digits and underscores, starting with a letter or
underscore.  Otherwise, errors may occur if subprocesses of Emacs try
to access the value of <var class="var">variable</var>.  If <var class="var">value</var> is omitted or
<code class="code">nil</code> (or, interactively, with a prefix argument), <code class="code">setenv</code>
removes <var class="var">variable</var> from the environment.  Otherwise, <var class="var">value</var>
should be a string.
</p>
<p>If the optional argument <var class="var">substitute</var> is non-<code class="code">nil</code>, Emacs
calls the function <code class="code">substitute-env-vars</code> to expand any
environment variables in <var class="var">value</var>.
</p>
<p><code class="code">setenv</code> works by modifying <code class="code">process-environment</code>; binding
that variable with <code class="code">let</code> is also reasonable practice.
</p>
<p><code class="code">setenv</code> returns the new value of <var class="var">variable</var>, or <code class="code">nil</code>
if it removed <var class="var">variable</var> from the environment.
</p></dd></dl>

<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-with_002denvironment_002dvariables"><span class="category-def">Macro: </span><span><strong class="def-name">with-environment-variables</strong> <var class="def-var-arguments">variables body&hellip;</var><a class="copiable-link" href="#index-with_002denvironment_002dvariables"> &para;</a></span></dt>
<dd><p>This macro sets the environment variables according to <var class="var">variables</var>
temporarily when executing <var class="var">body</var>.  The previous values are
restored when the form finishes.  The argument <var class="var">variables</var> should
be a list of pairs of strings of the form
<code class="code">(<var class="var">var</var>&nbsp;<var class="var">value</var>)</code><!-- /@w -->, where <var class="var">var</var> is the name of the
environment variable and <var class="var">value</var> is that variable&rsquo;s value.
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(with-environment-variables ((&quot;LANG&quot; &quot;C&quot;)
                             (&quot;LANGUAGE&quot; &quot;en_US:en&quot;))
  (call-process &quot;ls&quot; nil t))
</pre></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-process_002denvironment"><span class="category-def">Variable: </span><span><strong class="def-name">process-environment</strong><a class="copiable-link" href="#index-process_002denvironment"> &para;</a></span></dt>
<dd><p>This variable is a list of strings, each describing one environment
variable.  The functions <code class="code">getenv</code> and <code class="code">setenv</code> work by means
of this variable.
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">process-environment
&rArr; (&quot;PATH=/usr/local/bin:/usr/bin:/bin&quot;
    &quot;USER=lewis&quot;
</pre></div><div class="group"><pre class="example-preformatted">    &quot;TERM=xterm&quot;
    &quot;SHELL=/bin/bash&quot;
    &quot;HOME=/home/lewis&quot;
    ...)
</pre></div></div>

<p>If <code class="code">process-environment</code> contains multiple elements that
specify the same environment variable, the first of these elements
specifies the variable, and the others are ignored.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-initial_002denvironment"><span class="category-def">Variable: </span><span><strong class="def-name">initial-environment</strong><a class="copiable-link" href="#index-initial_002denvironment"> &para;</a></span></dt>
<dd><p>This variable holds the list of environment variables Emacs inherited
from its parent process when Emacs started.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-path_002dseparator-1"><span class="category-def">Variable: </span><span><strong class="def-name">path-separator</strong><a class="copiable-link" href="#index-path_002dseparator-1"> &para;</a></span></dt>
<dd><p>This variable holds a string that says which character separates
directories in a search path (as found in an environment variable).  Its
value is <code class="code">&quot;:&quot;</code> for Unix and GNU systems, and <code class="code">&quot;;&quot;</code> for MS systems.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-path_002dseparator"><span class="category-def">Function: </span><span><strong class="def-name">path-separator</strong><a class="copiable-link" href="#index-path_002dseparator"> &para;</a></span></dt>
<dd><p>This function returns the connection-local value of variable
<code class="code">path-separator</code>.  That is <code class="code">&quot;;&quot;</code> for MS systems and a local
<code class="code">default-directory</code>, and <code class="code">&quot;:&quot;</code> for Unix and GNU systems, or
a remote <code class="code">default-directory</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-parse_002dcolon_002dpath"><span class="category-def">Function: </span><span><strong class="def-name">parse-colon-path</strong> <var class="def-var-arguments">path</var><a class="copiable-link" href="#index-parse_002dcolon_002dpath"> &para;</a></span></dt>
<dd><p>This function takes a search path string such as the value of
the <code class="env">PATH</code> environment variable, and splits it at the separators,
returning a list of directories.  <code class="code">nil</code> in this list means
the current directory.  Although the function&rsquo;s name says
&ldquo;colon&rdquo;, it actually uses the value of variable <code class="code">path-separator</code>.
</p>
<div class="example">
<pre class="example-preformatted">(parse-colon-path &quot;:/foo:/bar&quot;)
     &rArr; (nil &quot;/foo/&quot; &quot;/bar/&quot;)
</pre></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-invocation_002dname"><span class="category-def">Variable: </span><span><strong class="def-name">invocation-name</strong><a class="copiable-link" href="#index-invocation_002dname"> &para;</a></span></dt>
<dd><p>This variable holds the program name under which Emacs was invoked.  The
value is a string, and does not include a directory name.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-invocation_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">invocation-directory</strong><a class="copiable-link" href="#index-invocation_002ddirectory"> &para;</a></span></dt>
<dd><p>This variable holds the directory in which the Emacs executable was
located when it was run, or <code class="code">nil</code> if that directory cannot be
determined.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-installation_002ddirectory"><span class="category-def">Variable: </span><span><strong class="def-name">installation-directory</strong><a class="copiable-link" href="#index-installation_002ddirectory"> &para;</a></span></dt>
<dd><p>If non-<code class="code">nil</code>, this is a directory within which to look for the
<samp class="file">lib-src</samp> and <samp class="file">etc</samp> subdirectories.  In an installed Emacs,
it is normally <code class="code">nil</code>.  It is non-<code class="code">nil</code>
when Emacs can&rsquo;t find those directories in their standard installed
locations, but can find them in a directory related somehow to the one
containing the Emacs executable (i.e., <code class="code">invocation-directory</code>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-load_002daverage"><span class="category-def">Function: </span><span><strong class="def-name">load-average</strong> <var class="def-var-arguments">&amp;optional use-float</var><a class="copiable-link" href="#index-load_002daverage"> &para;</a></span></dt>
<dd><p>This function returns the current 1-minute, 5-minute, and 15-minute
system load averages, in a list.  The load average indicates the
number of processes trying to run on the system.
</p>
<p>By default, the values are integers that are 100 times the system load
averages, but if <var class="var">use-float</var> is non-<code class="code">nil</code>, then they are
returned as floating-point numbers without multiplying by 100.
</p>
<p>If it is impossible to obtain the load average, this function signals
an error.  On some platforms, access to load averages requires
installing Emacs as setuid or setgid so that it can read kernel
information, and that usually isn&rsquo;t advisable.
</p>
<p>If the 1-minute load average is available, but the 5- or 15-minute
averages are not, this function returns a shortened list containing
the available averages.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(load-average)
     &rArr; (169 48 36)
</pre></div><div class="group"><pre class="example-preformatted">(load-average t)
     &rArr; (1.69 0.48 0.36)
</pre></div></div>

<p>The shell command <code class="code">uptime</code> returns similar information.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-emacs_002dpid"><span class="category-def">Function: </span><span><strong class="def-name">emacs-pid</strong><a class="copiable-link" href="#index-emacs_002dpid"> &para;</a></span></dt>
<dd><p>This function returns the process <abbr class="acronym">ID</abbr> of the Emacs process,
as an integer.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-tty_002derase_002dchar"><span class="category-def">Variable: </span><span><strong class="def-name">tty-erase-char</strong><a class="copiable-link" href="#index-tty_002derase_002dchar"> &para;</a></span></dt>
<dd><p>This variable holds the erase character that was selected
in the system&rsquo;s terminal driver, before Emacs was started.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-null_002ddevice-1"><span class="category-def">Variable: </span><span><strong class="def-name">null-device</strong><a class="copiable-link" href="#index-null_002ddevice-1"> &para;</a></span></dt>
<dd><p>This variable holds the system null device.  Its value is
<code class="code">&quot;/dev/null&quot;</code> for Unix and GNU systems, and <code class="code">&quot;NUL&quot;</code> for MS
systems.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-null_002ddevice"><span class="category-def">Function: </span><span><strong class="def-name">null-device</strong><a class="copiable-link" href="#index-null_002ddevice"> &para;</a></span></dt>
<dd><p>This function returns the connection-local value of variable
<code class="code">null-device</code>.  That is <code class="code">&quot;NUL&quot;</code> for MS systems and a local
<code class="code">default-directory</code>, and <code class="code">&quot;/dev/null&quot;</code> for Unix and GNU
systems, or a remote <code class="code">default-directory</code>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="User-Identification.html">User Identification</a>, Previous: <a href="Getting-Out.html">Getting Out of Emacs</a>, Up: <a href="System-Interface.html">Operating System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
