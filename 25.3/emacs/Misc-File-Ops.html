<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.3.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Misc File Ops (GNU Emacs Manual)</title>

<meta name="description" content="Misc File Ops (GNU Emacs Manual)">
<meta name="keywords" content="Misc File Ops (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Files.html" rel="up" title="Files">
<link href="Compressed-Files.html" rel="next" title="Compressed Files">
<link href="Diff-Mode.html" rel="prev" title="Diff Mode">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Misc-File-Ops">
<div class="nav-panel">
<p>
Next: <a href="Compressed-Files.html" accesskey="n" rel="next">Accessing Compressed Files</a>, Previous: <a href="Diff-Mode.html" accesskey="p" rel="prev">Diff Mode</a>, Up: <a href="Files.html" accesskey="u" rel="up">File Handling</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Miscellaneous-File-Operations"><span>18.11 Miscellaneous File Operations<a class="copiable-link" href="#Miscellaneous-File-Operations"> &para;</a></span></h3>

<p>Emacs has commands for performing many other operations on files.
All operate on one file; they do not accept wildcard file names.
</p>
<a class="index-entry-id" id="index-delete_002dfile"></a>
<a class="index-entry-id" id="index-deletion-_0028of-files_0029"></a>
<p><kbd class="kbd">M-x delete-file</kbd> prompts for a file and deletes it.  If you are
deleting many files in one directory, it may be more convenient to use
Dired rather than <code class="code">delete-file</code>.  See <a class="xref" href="Dired-Deletion.html">Deleting Files with Dired</a>.
</p>
<a class="index-entry-id" id="index-trash"></a>
<a class="index-entry-id" id="index-recycle-bin"></a>
<p><kbd class="kbd">M-x move-file-to-trash</kbd> moves a file into the system
<em class="dfn">Trash</em> (or <em class="dfn">Recycle Bin</em>).  This is a facility available on
most operating systems; files that are moved into the Trash can be
brought back later if you change your mind.
</p>
<a class="index-entry-id" id="index-delete_002dby_002dmoving_002dto_002dtrash"></a>
<p>By default, Emacs deletion commands do <em class="emph">not</em> use the Trash.  To
use the Trash (when it is available) for common deletion commands,
change the variable <code class="code">delete-by-moving-to-trash</code> to <code class="code">t</code>.
This affects the commands <kbd class="kbd">M-x delete-file</kbd> and <kbd class="kbd">M-x
delete-directory</kbd> (see <a class="pxref" href="Directories.html">File Directories</a>), as well as the deletion
commands in Dired (see <a class="pxref" href="Dired-Deletion.html">Deleting Files with Dired</a>).  Supplying a prefix
argument to <kbd class="kbd">M-x delete-file</kbd> or <kbd class="kbd">M-x delete-directory</kbd> makes
them delete outright, instead of using the Trash, regardless of
<code class="code">delete-by-moving-to-trash</code>.
</p>
<p>If a file is under version control (see <a class="pxref" href="Version-Control.html">Version Control</a>), you
should delete it using <kbd class="kbd">M-x vc-delete-file</kbd> instead of <kbd class="kbd">M-x
delete-file</kbd>.  See <a class="xref" href="VC-Delete_002fRename.html">Deleting and Renaming Version-Controlled Files</a>.
</p>
<a class="index-entry-id" id="index-copy_002dfile"></a>
<a class="index-entry-id" id="index-copying-files"></a>
<p><kbd class="kbd">M-x copy-file</kbd> reads the file <var class="var">old</var> and writes a new file
named <var class="var">new</var> with the same contents.
</p>
<a class="index-entry-id" id="index-copy_002ddirectory"></a>
<p><kbd class="kbd">M-x copy-directory</kbd> copies directories, similar to the
<code class="command">cp -r</code> shell command.  It prompts for a directory <var class="var">old</var>
and a destination <var class="var">new</var>.  If <var class="var">new</var> is an existing directory,
it creates a copy of the <var class="var">old</var> directory and puts it in <var class="var">new</var>.
If <var class="var">new</var> is not an existing directory, it copies all the contents
of <var class="var">old</var> into a new directory named <var class="var">new</var>.
</p>
<a class="index-entry-id" id="index-renaming-files"></a>
<a class="index-entry-id" id="index-rename_002dfile"></a>
<p><kbd class="kbd">M-x rename-file</kbd> reads two file names <var class="var">old</var> and <var class="var">new</var>
using the minibuffer, then renames file <var class="var">old</var> as <var class="var">new</var>.  If
the file name <var class="var">new</var> already exists, you must confirm with
<kbd class="kbd">yes</kbd> or renaming is not done; this is because renaming causes the
old meaning of the name <var class="var">new</var> to be lost.  If <var class="var">old</var> and
<var class="var">new</var> are on different file systems, the file <var class="var">old</var> is copied
and deleted.  If the argument <var class="var">new</var> is just a directory name, the
real new name is in that directory, with the same non-directory
component as <var class="var">old</var>.  For example, <kbd class="kbd">M-x rename-file <kbd class="key">RET</kbd>
~/foo <kbd class="key">RET</kbd> /tmp <kbd class="key">RET</kbd></kbd> renames <samp class="file">~/foo</samp> to
<samp class="file">/tmp/foo</samp>.  The same rule applies to all the remaining commands
in this section.  All of them ask for confirmation when the new file
name already exists, too.
</p>
<p>If a file is under version control (see <a class="pxref" href="Version-Control.html">Version Control</a>), you
should rename it using <kbd class="kbd">M-x vc-rename-file</kbd> instead of <kbd class="kbd">M-x
rename-file</kbd>.  See <a class="xref" href="VC-Delete_002fRename.html">Deleting and Renaming Version-Controlled Files</a>.
</p>
<a class="index-entry-id" id="index-add_002dname_002dto_002dfile"></a>
<a class="index-entry-id" id="index-hard-links-_0028creation_0029"></a>
<p><kbd class="kbd">M-x add-name-to-file</kbd> adds an additional name to an existing
file without removing its old name.  The new name is created as a
hard link to the existing file.  The new name must belong on the
same file system that the file is on.  On MS-Windows, this command
works only if the file resides in an NTFS file system.  On MS-DOS, it
works by copying the file.
</p>
<a class="index-entry-id" id="index-make_002dsymbolic_002dlink"></a>
<a class="index-entry-id" id="index-symbolic-links-_0028creation_0029"></a>
<p><kbd class="kbd">M-x make-symbolic-link</kbd> reads two file names <var class="var">target</var> and
<var class="var">linkname</var>, then creates a symbolic link named <var class="var">linkname</var>,
which points at <var class="var">target</var>.  The effect is that future attempts to
open file <var class="var">linkname</var> will refer to whatever file is named
<var class="var">target</var> at the time the opening is done, or will get an error if
the name <var class="var">target</var> is nonexistent at that time.  This command does
not expand the argument <var class="var">target</var>, so that it allows you to specify
a relative name as the target of the link.  On MS-Windows, this
command works only on MS Windows Vista and later.
</p>
<a class="index-entry-id" id="index-C_002dx-i"></a>
<a class="index-entry-id" id="index-insert_002dfile"></a>
<p><kbd class="kbd">M-x insert-file</kbd> (also <kbd class="kbd">C-x i</kbd>) inserts a copy of the
contents of the specified file into the current buffer at point,
leaving point unchanged before the contents.  The position after the
inserted contents is added to the mark ring, without activating the
mark (see <a class="pxref" href="Mark-Ring.html">The Mark Ring</a>).
</p>
<a class="index-entry-id" id="index-insert_002dfile_002dliterally"></a>
<p><kbd class="kbd">M-x insert-file-literally</kbd> is like <kbd class="kbd">M-x insert-file</kbd>,
except the file is inserted literally: it is treated as a sequence
of <abbr class="acronym">ASCII</abbr> characters with no special encoding or conversion,
similar to the <kbd class="kbd">M-x find-file-literally</kbd> command
(see <a class="pxref" href="Visiting.html">Visiting Files</a>).
</p>
<a class="index-entry-id" id="index-write_002dregion"></a>
<p><kbd class="kbd">M-x write-region</kbd> is the inverse of <kbd class="kbd">M-x insert-file</kbd>; it
copies the contents of the region into the specified file.  <kbd class="kbd">M-x
append-to-file</kbd> adds the text of the region to the end of the
specified file.  See <a class="xref" href="Accumulating-Text.html">Accumulating Text</a>.  The variable
<code class="code">write-region-inhibit-fsync</code> applies to these commands, as well
as saving files; see <a class="ref" href="Customize-Save.html">Customizing Saving of Files</a>.
</p>
<a class="index-entry-id" id="index-set_002dfile_002dmodes"></a>
<a class="index-entry-id" id="index-file-modes"></a>
<a class="index-entry-id" id="index-file-permissions"></a>
<p><kbd class="kbd">M-x set-file-modes</kbd> reads a file name followed by a <em class="dfn">file
mode</em>, and applies that file mode to the specified file.  File modes,
also called <em class="dfn">file permissions</em>, determine whether a file can be
read, written to, or executed, and by whom.  This command reads file
modes using the same symbolic or octal format accepted by the
<code class="command">chmod</code> command; for instance, &lsquo;<samp class="samp">u+x</samp>&rsquo; means to add
execution permission for the user who owns the file.  It has no effect
on operating systems that do not support file modes.  <code class="code">chmod</code> is a
convenience alias for this function.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Compressed-Files.html">Accessing Compressed Files</a>, Previous: <a href="Diff-Mode.html">Diff Mode</a>, Up: <a href="Files.html">File Handling</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
