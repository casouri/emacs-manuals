<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.3.

Copyright Â© 1990-1996, 1998-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Selective Display (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Selective Display (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Selective Display (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Display.html" rel="up" title="Display">
<link href="Temporary-Displays.html" rel="next" title="Temporary Displays">
<link href="Invisible-Text.html" rel="prev" title="Invisible Text">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Selective-Display">
<div class="nav-panel">
<p>
Next: <a href="Temporary-Displays.html" accesskey="n" rel="next">Temporary Displays</a>, Previous: <a href="Invisible-Text.html" accesskey="p" rel="prev">Invisible Text</a>, Up: <a href="Display.html" accesskey="u" rel="up">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Selective-Display-1"><span>37.7 Selective Display<a class="copiable-link" href="#Selective-Display-1"> &para;</a></span></h3>

<p><em class="dfn">Selective display</em> refers to a pair of related features for
hiding certain lines on the screen.
</p>
<a class="index-entry-id" id="index-explicit-selective-display"></a>
<p>The first variant, explicit selective display, was designed for use in a Lisp
program: it controls which lines are hidden by altering the text.  This kind of
hiding is now obsolete; instead you can get the same effect with the
<code class="code">invisible</code> property (see <a class="pxref" href="Invisible-Text.html">Invisible Text</a>).
</p>
<p>In the second variant, the choice of lines to hide is made
automatically based on indentation.  This variant is designed to be a
user-level feature.
</p>
<p>The way you control explicit selective display is by replacing a
newline (control-j) with a carriage return (control-m).  The text that
was formerly a line following that newline is now hidden.  Strictly
speaking, it is temporarily no longer a line at all, since only
newlines can separate lines; it is now part of the previous line.
</p>
<p>Selective display does not directly affect editing commands.  For
example, <kbd class="kbd">C-f</kbd> (<code class="code">forward-char</code>) moves point unhesitatingly
into hidden text.  However, the replacement of newline characters with
carriage return characters affects some editing commands.  For
example, <code class="code">next-line</code> skips hidden lines, since it searches only
for newlines.  Modes that use selective display can also define
commands that take account of the newlines, or that control which
parts of the text are hidden.
</p>
<p>When you write a selectively displayed buffer into a file, all the
control-m&rsquo;s are output as newlines.  This means that when you next read
in the file, it looks OK, with nothing hidden.  The selective display
effect is seen only within Emacs.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-selective_002ddisplay"><span class="category-def">Variable: </span><span><strong class="def-name">selective-display</strong><a class="copiable-link" href="#index-selective_002ddisplay"> &para;</a></span></dt>
<dd><p>This buffer-local variable enables selective display.  This means that
lines, or portions of lines, may be made hidden.
</p>
<ul class="itemize mark-bullet">
<li>If the value of <code class="code">selective-display</code> is <code class="code">t</code>, then the character
control-m marks the start of hidden text; the control-m, and the rest
of the line following it, are not displayed.  This is explicit selective
display.

</li><li>If the value of <code class="code">selective-display</code> is a positive integer, then
lines that start with more than that many columns of indentation are not
displayed.
</li></ul>

<p>When some portion of a buffer is hidden, the vertical movement
commands operate as if that portion did not exist, allowing a single
<code class="code">next-line</code> command to skip any number of hidden lines.
However, character movement commands (such as <code class="code">forward-char</code>) do
not skip the hidden portion, and it is possible (if tricky) to insert
or delete text in an hidden portion.
</p>
<p>In the examples below, we show the <em class="emph">display appearance</em> of the
buffer <code class="code">foo</code>, which changes with the value of
<code class="code">selective-display</code>.  The <em class="emph">contents</em> of the buffer do not
change.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(setq selective-display nil)
     &rArr; nil

---------- Buffer: foo ----------
1 on this column
 2on this column
  3n this column
  3n this column
 2on this column
1 on this column
---------- Buffer: foo ----------
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(setq selective-display 2)
     &rArr; 2

---------- Buffer: foo ----------
1 on this column
 2on this column
 2on this column
1 on this column
---------- Buffer: foo ----------
</pre></div></div>
</dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-selective_002ddisplay_002dellipses"><span class="category-def">User Option: </span><span><strong class="def-name">selective-display-ellipses</strong><a class="copiable-link" href="#index-selective_002ddisplay_002dellipses"> &para;</a></span></dt>
<dd><p>If this buffer-local variable is non-<code class="code">nil</code>, then Emacs displays
&lsquo;<samp class="samp">&hellip;</samp>&rsquo; at the end of a line that is followed by hidden text.
This example is a continuation of the previous one.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(setq selective-display-ellipses t)
     &rArr; t

---------- Buffer: foo ----------
1 on this column
 2on this column ...
 2on this column
1 on this column
---------- Buffer: foo ----------
</pre></div></div>

<p>You can use a display table to substitute other text for the ellipsis
(&lsquo;<samp class="samp">&hellip;</samp>&rsquo;).  See <a class="xref" href="Display-Tables.html">Display Tables</a>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Temporary-Displays.html">Temporary Displays</a>, Previous: <a href="Invisible-Text.html">Invisible Text</a>, Up: <a href="Display.html">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
