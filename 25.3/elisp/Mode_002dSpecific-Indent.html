<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 25.3.

Copyright Â© 1990-1996, 1998-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Mode-Specific Indent (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Mode-Specific Indent (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Mode-Specific Indent (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Indentation.html" rel="up" title="Indentation">
<link href="Region-Indent.html" rel="next" title="Region Indent">
<link href="Primitive-Indent.html" rel="prev" title="Primitive Indent">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Mode_002dSpecific-Indent">
<div class="nav-panel">
<p>
Next: <a href="Region-Indent.html" accesskey="n" rel="next">Indenting an Entire Region</a>, Previous: <a href="Primitive-Indent.html" accesskey="p" rel="prev">Indentation Primitives</a>, Up: <a href="Indentation.html" accesskey="u" rel="up">Indentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Indentation-Controlled-by-Major-Mode"><span>31.17.2 Indentation Controlled by Major Mode<a class="copiable-link" href="#Indentation-Controlled-by-Major-Mode"> &para;</a></span></h4>

<p>An important function of each major mode is to customize the <kbd class="key">TAB</kbd>
key to indent properly for the language being edited.  This section
describes the mechanism of the <kbd class="key">TAB</kbd> key and how to control it.
The functions in this section return unpredictable values.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-indent_002dfor_002dtab_002dcommand"><span class="category-def">Command: </span><span><strong class="def-name">indent-for-tab-command</strong> <var class="def-var-arguments">&amp;optional rigid</var><a class="copiable-link" href="#index-indent_002dfor_002dtab_002dcommand"> &para;</a></span></dt>
<dd><p>This is the command bound to <kbd class="key">TAB</kbd> in most editing modes.  Its
usual action is to indent the current line, but it can alternatively
insert a tab character or indent a region.
</p>
<p>Here is what it does:
</p>
<ul class="itemize mark-bullet">
<li>First, it checks whether Transient Mark mode is enabled and the region
is active.  If so, it called <code class="code">indent-region</code> to indent all the
text in the region (see <a class="pxref" href="Region-Indent.html">Indenting an Entire Region</a>).

</li><li>Otherwise, if the indentation function in <code class="code">indent-line-function</code>
is <code class="code">indent-to-left-margin</code> (a trivial command that inserts a tab
character), or if the variable <code class="code">tab-always-indent</code> specifies that
a tab character ought to be inserted (see below), then it inserts a
tab character.

</li><li>Otherwise, it indents the current line; this is done by calling the
function in <code class="code">indent-line-function</code>.  If the line is already
indented, and the value of <code class="code">tab-always-indent</code> is <code class="code">complete</code>
(see below), it tries completing the text at point.
</li></ul>

<p>If <var class="var">rigid</var> is non-<code class="code">nil</code> (interactively, with a prefix
argument), then after this command indents a line or inserts a tab, it
also rigidly indents the entire balanced expression which starts at
the beginning of the current line, in order to reflect the new
indentation.  This argument is ignored if the command indents the
region.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-indent_002dline_002dfunction"><span class="category-def">Variable: </span><span><strong class="def-name">indent-line-function</strong><a class="copiable-link" href="#index-indent_002dline_002dfunction"> &para;</a></span></dt>
<dd><p>This variable&rsquo;s value is the function to be used by
<code class="code">indent-for-tab-command</code>, and various other indentation commands,
to indent the current line.  It is usually assigned by the major mode;
for instance, Lisp mode sets it to <code class="code">lisp-indent-line</code>, C mode
sets it to <code class="code">c-indent-line</code>, and so on.  The default value is
<code class="code">indent-relative</code>.  See <a class="xref" href="Auto_002dIndentation.html">Automatic Indentation of code</a>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-indent_002daccording_002dto_002dmode"><span class="category-def">Command: </span><span><strong class="def-name">indent-according-to-mode</strong><a class="copiable-link" href="#index-indent_002daccording_002dto_002dmode"> &para;</a></span></dt>
<dd><p>This command calls the function in <code class="code">indent-line-function</code> to
indent the current line in a way appropriate for the current major mode.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-newline_002dand_002dindent"><span class="category-def">Command: </span><span><strong class="def-name">newline-and-indent</strong><a class="copiable-link" href="#index-newline_002dand_002dindent"> &para;</a></span></dt>
<dd><p>This function inserts a newline, then indents the new line (the one
following the newline just inserted) according to the major mode.  It
does indentation by calling <code class="code">indent-according-to-mode</code>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-reindent_002dthen_002dnewline_002dand_002dindent"><span class="category-def">Command: </span><span><strong class="def-name">reindent-then-newline-and-indent</strong><a class="copiable-link" href="#index-reindent_002dthen_002dnewline_002dand_002dindent"> &para;</a></span></dt>
<dd><p>This command reindents the current line, inserts a newline at point,
and then indents the new line (the one following the newline just
inserted).  It does indentation on both lines by calling
<code class="code">indent-according-to-mode</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-tab_002dalways_002dindent"><span class="category-def">User Option: </span><span><strong class="def-name">tab-always-indent</strong><a class="copiable-link" href="#index-tab_002dalways_002dindent"> &para;</a></span></dt>
<dd><p>This variable can be used to customize the behavior of the <kbd class="key">TAB</kbd>
(<code class="code">indent-for-tab-command</code>) command.  If the value is <code class="code">t</code>
(the default), the command normally just indents the current line.  If
the value is <code class="code">nil</code>, the command indents the current line only if
point is at the left margin or in the line&rsquo;s indentation; otherwise,
it inserts a tab character.  If the value is <code class="code">complete</code>, the
command first tries to indent the current line, and if the line was
already indented, it calls <code class="code">completion-at-point</code> to complete the
text at point (see <a class="pxref" href="Completion-in-Buffers.html">Completion in Ordinary Buffers</a>).
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Region-Indent.html">Indenting an Entire Region</a>, Previous: <a href="Primitive-Indent.html">Indentation Primitives</a>, Up: <a href="Indentation.html">Indentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
