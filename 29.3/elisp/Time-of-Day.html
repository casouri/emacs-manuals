<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.3.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Time of Day (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Time of Day (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Time of Day (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="System-Interface.html" rel="up" title="System Interface">
<link href="Time-Zone-Rules.html" rel="next" title="Time Zone Rules">
<link href="User-Identification.html" rel="prev" title="User Identification">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Time-of-Day">
<div class="nav-panel">
<p>
Next: <a href="Time-Zone-Rules.html" accesskey="n" rel="next">Time Zone Rules</a>, Previous: <a href="User-Identification.html" accesskey="p" rel="prev">User Identification</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">Operating System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Time-of-Day-1"><span>42.5 Time of Day<a class="copiable-link" href="#Time-of-Day-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-time-of-day"></a>

<p>This section explains how to determine the current time and time
zone.
</p>
<a class="index-entry-id" id="index-Lisp-timestamp"></a>
<a class="index-entry-id" id="index-timestamp_002c-Lisp"></a>
<a class="index-entry-id" id="index-Coordinated-Universal-Time"></a>
<a class="index-entry-id" id="index-Universal-Time"></a>
<a class="index-entry-id" id="index-UTC"></a>
<a class="index-entry-id" id="index-leap-seconds"></a>
<p>Many functions like <code class="code">current-time</code> and <code class="code">file-attributes</code>
return <em class="dfn">Lisp timestamp</em> values that count seconds, and that can
represent absolute time by counting seconds since the <em class="dfn">epoch</em> of
1970-01-01 00:00:00 UTC (Coordinated Universal Time).  Typically these
counts ignore leap seconds; however, GNU and some other operating
systems can be configured to count leap seconds.
</p>
<p>Although traditionally Lisp timestamps were integer pairs, their
form has evolved and programs ordinarily should not depend on the
current default form.  If your program needs a particular timestamp
form, you can use the <code class="code">time-convert</code> function to convert it to the
needed form.  See <a class="xref" href="Time-Conversion.html">Time Conversion</a>.
</p>
<a class="index-entry-id" id="index-epoch"></a>
<p>There are currently three forms of Lisp timestamps, each of
which represents a number of seconds:
</p>
<ul class="itemize mark-bullet">
<li>An integer.  Although this is the simplest form, it cannot represent
subsecond timestamps.

</li><li>A pair of integers <code class="code">(<var class="var">ticks</var> . <var class="var">hz</var>)</code>, where <var class="var">hz</var> is
positive.  This represents <var class="var">ticks</var>/<var class="var">hz</var> seconds, which is the
same time as plain <var class="var">ticks</var> if <var class="var">hz</var> is 1.  A common value for
<var class="var">hz</var> is 1000000000, for a nanosecond-resolution
clock.

</li><li>A list of four integers <code class="code">(<var class="var">high</var> <var class="var">low</var> <var class="var">micro</var>
<var class="var">pico</var>)</code>, where 0&le;<var class="var">low</var>&lt;65536,
0&le;<var class="var">micro</var>&lt;1000000, and 0&le;<var class="var">pico</var>&lt;1000000.
This represents the number of seconds using the formula:
<var class="var">high</var> * 2**16 + <var class="var">low</var> + <var class="var">micro</var> * 10**&minus;6 +
<var class="var">pico</var> * 10**&minus;12.
If <code class="code">current-time-list</code> is <code class="code">t</code>,
some functions may default to returning two- or
three-element lists, with omitted <var class="var">micro</var> and <var class="var">pico</var>
components defaulting to zero.
On all current machines <var class="var">pico</var> is a multiple of 1000, but this
may change as higher-resolution clocks become available.
</li></ul>

<a class="index-entry-id" id="index-time-value"></a>
<p>Function arguments, e.g., the <var class="var">time</var> argument to
<code class="code">format-time-string</code>, accept a more-general <em class="dfn">time value</em>
format, which can be a Lisp timestamp, <code class="code">nil</code> for the current
time, a finite floating-point number for seconds, or a list
<code class="code">(<var class="var">high</var> <var class="var">low</var> <var class="var">micro</var>)</code> or <code class="code">(<var class="var">high</var>
<var class="var">low</var>)</code> that is a truncated list timestamp with missing elements
taken to be zero.
</p>
<a class="index-entry-id" id="index-Specified-time-is-not-representable"></a>
<p>Time values can be converted to and from calendrical and other forms.
Some of these conversions rely on operating system functions that
limit the range of possible time values, and signal an error such as
&lsquo;<samp class="samp">&quot;Specified time is not representable&quot;</samp>&rsquo; if the
limits are exceeded.  For instance, a system might not support
timestamps before the epoch, or years far in the future.
You can convert a time value into
a human-readable string using <code class="code">format-time-string</code>, into a Lisp
timestamp using <code class="code">time-convert</code>, and into other forms using
<code class="code">decode-time</code> and <code class="code">float-time</code>.  These functions are
described in the following sections.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-current_002dtime_002dstring"><span class="category-def">Function: </span><span><strong class="def-name">current-time-string</strong> <var class="def-var-arguments">&amp;optional time zone</var><a class="copiable-link" href="#index-current_002dtime_002dstring"> &para;</a></span></dt>
<dd><p>This function returns the current time and date as a human-readable
string.  The format does not vary for the initial part of the string,
which contains the day of week, month, day of month, and time of day
in that order: the number of characters used for these fields is
always the same, although (unless you require English weekday or
month abbreviations regardless of locale) it is typically more
convenient to use <code class="code">format-time-string</code> than to extract
fields from the output of <code class="code">current-time-string</code>,
as the year might not have exactly four digits, and additional
information may some day be added at the end.
</p>
<p>The argument <var class="var">time</var>, if given, specifies a time to format,
instead of the current time.  The optional argument <var class="var">zone</var>
defaults to the current time zone rule.  See <a class="xref" href="Time-Zone-Rules.html">Time Zone Rules</a>.
The operating system limits the range of time and zone values.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(current-time-string)
     &rArr; &quot;Fri Nov &nbsp;1 15:59:49 2019&quot;
</pre></div></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-current_002dtime_002dlist"><span class="category-def">Variable: </span><span><strong class="def-name">current-time-list</strong><a class="copiable-link" href="#index-current_002dtime_002dlist"> &para;</a></span></dt>
<dd><p>This boolean variable is a transition aid.  If <code class="code">t</code>,
<code class="code">current-time</code> and related functions return timestamps in list
form, typically <code class="code">(<var class="var">high</var> <var class="var">low</var> <var class="var">micro</var> <var class="var">pico</var>)</code>;
otherwise, they use <code class="code">(<var class="var">ticks</var> . <var class="var">hz</var>)</code> form.  Currently
this variable defaults to <code class="code">t</code>, for behavior compatible with
previous Emacs versions.  Developers are encouraged to test
timestamp-related code with this variable set to <code class="code">nil</code>, as it
will default to <code class="code">nil</code> in a future Emacs version, and will be
removed in some version after that.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-current_002dtime"><span class="category-def">Function: </span><span><strong class="def-name">current-time</strong><a class="copiable-link" href="#index-current_002dtime"> &para;</a></span></dt>
<dd><p>This function returns the current time as a Lisp timestamp.
If <code class="code">current-time-list</code> is <code class="code">nil</code>,
the timestamp has the form <code class="code">(<var class="var">ticks</var> . <var class="var">hz</var>)</code> where
<var class="var">ticks</var> counts clock ticks and <var class="var">hz</var> is the clock ticks per second.
Otherwise, the timestamp has the list form
<code class="code">(<var class="var">high</var> <var class="var">low</var> <var class="var">usec</var> <var class="var">psec</var>)</code>.
You can use <code class="code">(time-convert nil t)</code> or <code class="code">(time-convert nil 'list)</code>
to obtain a particular form regardless of the value of
<code class="code">current-time-list</code>.  See <a class="xref" href="Time-Conversion.html">Time Conversion</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-float_002dtime"><span class="category-def">Function: </span><span><strong class="def-name">float-time</strong> <var class="def-var-arguments">&amp;optional time</var><a class="copiable-link" href="#index-float_002dtime"> &para;</a></span></dt>
<dd><p>This function returns the current time as a floating-point number of
seconds since the epoch.  The optional argument <var class="var">time</var>, if
given, specifies a time to convert instead of the current time.
</p>
<p><em class="emph">Warning</em>: Since the result is floating point, it may not be
exact.  Do not use this function if precise time stamps are required.
For example, on typical systems <code class="code">(float-time '(1 . 10))</code> displays
as &lsquo;<samp class="samp">0.1</samp>&rsquo; but is slightly greater than 1/10.
</p>
<p><code class="code">time-to-seconds</code> is an alias for this function.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-current_002dcpu_002dtime"><span class="category-def">Function: </span><span><strong class="def-name">current-cpu-time</strong><a class="copiable-link" href="#index-current_002dcpu_002dtime"> &para;</a></span></dt>
<dd><p>Return the current <abbr class="acronym">CPU</abbr> time along with its resolution.  The
return value is a pair <code class="code">(CPU-TICKS . TICKS-PER-SEC)</code>.  The
<var class="var">CPU-TICKS</var> counter can wrap around, so values cannot be
meaningfully compared if too much time has passed between them.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Time-Zone-Rules.html">Time Zone Rules</a>, Previous: <a href="User-Identification.html">User Identification</a>, Up: <a href="System-Interface.html">Operating System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
