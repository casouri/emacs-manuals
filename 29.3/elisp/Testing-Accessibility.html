<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 29.3.

Copyright Â© 1990-1996, 1998-2024 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Testing Accessibility (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Testing Accessibility (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Testing Accessibility (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Information-about-Files.html" rel="up" title="Information about Files">
<link href="Kinds-of-Files.html" rel="next" title="Kinds of Files">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Testing-Accessibility">
<div class="nav-panel">
<p>
Next: <a href="Kinds-of-Files.html" accesskey="n" rel="next">Distinguishing Kinds of Files</a>, Up: <a href="Information-about-Files.html" accesskey="u" rel="up">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Testing-Accessibility-1"><span>26.6.1 Testing Accessibility<a class="copiable-link" href="#Testing-Accessibility-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-accessibility-of-a-file"></a>
<a class="index-entry-id" id="index-file-accessibility"></a>

<p>These functions test for permission to access a file for reading,
writing, or execution.  Unless explicitly stated otherwise, they
follow symbolic links.  See <a class="xref" href="Kinds-of-Files.html">Distinguishing Kinds of Files</a>.
</p>
<p>On some operating systems, more complex sets of access permissions
can be specified, via mechanisms such as Access Control Lists (ACLs).
See <a class="xref" href="Extended-Attributes.html">Extended File Attributes</a>, for how to query and set those
permissions.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dexists_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-exists-p</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dexists_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if a file named <var class="var">filename</var> appears
to exist.  This does not mean you can necessarily read the file, only
that you can probably find out its attributes.  (On GNU and other POSIX-like
systems, this is true if the file exists and you have execute
permission on the containing directories, regardless of the
permissions of the file itself.)
</p>
<p>If the file does not exist, or if there was trouble determining
whether the file exists, this function returns <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-empty-file-name_002c-and-file_002dexists_002dp"></a>
<p>Since a file name that is an empty string is interpreted relative to
the current buffer&rsquo;s default directory (see <a class="pxref" href="Relative-File-Names.html">Absolute and Relative File Names</a>),
calling <code class="code">file-exists-p</code> with an argument that is an empty string
will report about the buffer&rsquo;s default directory.
</p>
<a class="index-entry-id" id="index-dangling-symlinks_002c-testing-for-existence"></a>
<p>Directories are files, so <code class="code">file-exists-p</code> can return <code class="code">t</code>
when given a directory.  However, because <code class="code">file-exists-p</code> follows
symbolic links, it returns <code class="code">t</code> for a symbolic link name only if
the target of the link exists; if your Lisp program needs to consider
<em class="dfn">dangling symlinks</em> whose target doesn&rsquo;t exist as existing files,
use <code class="code">file-attributes</code> (see <a class="pxref" href="File-Attributes.html">File Attributes</a>) instead of
<code class="code">file-exists-p</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dreadable_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-readable-p</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dreadable_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if a file named <var class="var">filename</var> exists
and you can read it.  It returns <code class="code">nil</code> otherwise.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dexecutable_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-executable-p</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dexecutable_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if a file named <var class="var">filename</var> exists
and you can execute it.  It returns <code class="code">nil</code> otherwise.  On GNU and
other POSIX-like systems, if the file is a directory, execute
permission means you can check the existence and attributes of files
inside the directory, and open those files if their modes permit.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dwritable_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-writable-p</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dwritable_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if the file <var class="var">filename</var> can be written
or created by you, and <code class="code">nil</code> otherwise.  A file is writable if the
file exists and you can write it.  It is creatable if it does not exist,
but its parent directory does exist and you can write in that
directory.
</p>
<p>In the example below, <samp class="file">foo</samp> is not writable because the parent
directory does not exist, even though the user could create such a
directory.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-writable-p &quot;~/no-such-dir/foo&quot;)
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002daccessible_002ddirectory_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-accessible-directory-p</strong> <var class="def-var-arguments">dirname</var><a class="copiable-link" href="#index-file_002daccessible_002ddirectory_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if you have permission to open existing
files in the directory whose name as a file is <var class="var">dirname</var>;
otherwise (e.g., if there is no such directory), it returns <code class="code">nil</code>.
The value of <var class="var">dirname</var> may be either a directory name (such as
<samp class="file">/foo/</samp>) or the file name of a file which is a directory
(such as <samp class="file">/foo</samp>, without the final slash).
</p>
<p>For example, from the following we deduce that any attempt to read a
file in <samp class="file">/foo/</samp> will give an error:
</p>
<div class="example">
<pre class="example-preformatted">(file-accessible-directory-p &quot;/foo&quot;)
     &rArr; nil
</pre></div>
</dd></dl>

<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-with_002dexisting_002ddirectory"><span class="category-def">Macro: </span><span><strong class="def-name">with-existing-directory</strong> <var class="def-var-arguments">body&hellip;</var><a class="copiable-link" href="#index-with_002dexisting_002ddirectory"> &para;</a></span></dt>
<dd><p>This macro ensures that <code class="code">default-directory</code> is bound to an
existing directory before executing <var class="var">body</var>.  If
<code class="code">default-directory</code> already exists, that&rsquo;s preferred, and
otherwise some other directory is used.  This macro can be useful, for
instance, when calling an external command that requires that it&rsquo;s
running in a directory that exists.  The chosen directory is not
guaranteed to be writable.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-access_002dfile"><span class="category-def">Function: </span><span><strong class="def-name">access-file</strong> <var class="def-var-arguments">filename string</var><a class="copiable-link" href="#index-access_002dfile"> &para;</a></span></dt>
<dd><p>If you can read <var class="var">filename</var> this function returns <code class="code">nil</code>;
otherwise it signals an error
using <var class="var">string</var> as the error message text.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002downership_002dpreserved_002dp"><span class="category-def">Function: </span><span><strong class="def-name">file-ownership-preserved-p</strong> <var class="def-var-arguments">filename &amp;optional group</var><a class="copiable-link" href="#index-file_002downership_002dpreserved_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if deleting the file <var class="var">filename</var> and
then creating it anew would keep the file&rsquo;s owner unchanged.  It also
returns <code class="code">t</code> for nonexistent files.
</p>
<p>If the optional argument <var class="var">group</var> is non-<code class="code">nil</code>, this function
also checks that the file&rsquo;s group would be unchanged.
</p>
<p>This function does not follow symbolic links.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dmodes"><span class="category-def">Function: </span><span><strong class="def-name">file-modes</strong> <var class="def-var-arguments">filename &amp;optional flag</var><a class="copiable-link" href="#index-file_002dmodes"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-mode-bits"></a>
<a class="index-entry-id" id="index-file-permissions"></a>
<a class="index-entry-id" id="index-permissions_002c-file"></a>
<a class="index-entry-id" id="index-file-modes"></a>
<p>This function returns the <em class="dfn">mode bits</em> of <var class="var">filename</var>&mdash;an
integer summarizing its read, write, and execution permissions.
This function follows symbolic links.  If the file does not exist, the
return value is <code class="code">nil</code>.
</p>
<p>See <a data-manual="coreutils" href="https://www.gnu.org/software/coreutils/manual/html_node/File-permissions.html#File-permissions">File permissions</a> in <cite class="cite">The <small class="sc">GNU</small> <code class="code">Coreutils</code>
Manual</cite>, for a description of mode bits.  For example, if the
low-order bit is 1, the file is executable by all users; if the
second-lowest-order bit is 1, the file is writable by all users; etc.
The highest possible value is 4095 (7777 octal), meaning that everyone
has read, write, and execute permission, the <abbr class="acronym">SUID</abbr> bit is set
for both others and group, and the sticky bit is set.
</p>
<p>By default this function follows symbolic links.  However, if the
optional argument <var class="var">flag</var> is the symbol <code class="code">nofollow</code>, this
function does not follow <var class="var">filename</var> if it is a symbolic link;
this can help prevent inadvertently obtaining the mode bits of a file
somewhere else, and is more consistent with <code class="code">file-attributes</code>
(see <a class="pxref" href="File-Attributes.html">File Attributes</a>).
</p>
<p>See <a class="xref" href="Changing-Files.html">Changing File Names and Attributes</a>, for the <code class="code">set-file-modes</code> function, which
can be used to set these permissions.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-modes &quot;~/junk/diffs&quot; 'nofollow)
     &rArr; 492               ; <span class="r">Decimal integer.</span>
</pre></div><div class="group"><pre class="example-preformatted">(format &quot;%o&quot; 492)
     &rArr; &quot;754&quot;             ; <span class="r">Convert to octal.</span>
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(set-file-modes &quot;~/junk/diffs&quot; #o666 'nofollow)
     &rArr; nil
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">$ ls -l diffs
-rw-rw-rw- 1 lewis lewis 3063 Oct 30 16:00 diffs
</pre></div></div>

<a class="index-entry-id" id="index-MS_002dDOS-and-file-modes"></a>
<a class="index-entry-id" id="index-file-modes-and-MS_002dDOS"></a>
<p><strong class="strong">MS-DOS note:</strong> On MS-DOS, there is no such thing as an
executable file mode bit.  So <code class="code">file-modes</code> considers a file
executable if its name ends in one of the standard executable
extensions, such as <samp class="file">.com</samp>, <samp class="file">.bat</samp>, <samp class="file">.exe</samp>, and some
others.  Files that begin with the POSIX-standard &lsquo;<samp class="samp">#!</samp>&rsquo; signature,
such as shell and Perl scripts, are also considered executable.
Directories are also reported as executable, for compatibility with
POSIX.  These conventions are also followed by <code class="code">file-attributes</code>
(see <a class="pxref" href="File-Attributes.html">File Attributes</a>).
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Kinds-of-Files.html">Distinguishing Kinds of Files</a>, Up: <a href="Information-about-Files.html">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
