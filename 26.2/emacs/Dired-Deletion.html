<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 26.2.

Copyright © 1985-1987, 1993-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Dired Deletion (GNU Emacs Manual)</title>

<meta name="description" content="Dired Deletion (GNU Emacs Manual)">
<meta name="keywords" content="Dired Deletion (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Dired.html" rel="up" title="Dired">
<link href="Flagging-Many-Files.html" rel="next" title="Flagging Many Files">
<link href="Dired-Navigation.html" rel="prev" title="Dired Navigation">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<span id="Dired-Deletion"></span><div class="header">
<p>
Next: <a href="Flagging-Many-Files.html" accesskey="n" rel="next">Flagging Many Files</a>, Previous: <a href="Dired-Navigation.html" accesskey="p" rel="prev">Dired Navigation</a>, Up: <a href="Dired.html" accesskey="u" rel="up">Dired</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Deleting-Files-with-Dired"></span><h3 class="section">30.3 Deleting Files with Dired</h3>
<span id="index-flagging-files-_0028in-Dired_0029"></span>
<span id="index-deleting-files-_0028in-Dired_0029"></span>

<p>One of the most frequent uses of Dired is to first <em>flag</em> files for
deletion, then delete the files that were flagged.
</p>
<dl compact="compact">
<dt><kbd>d</kbd></dt>
<dd><p>Flag this file for deletion (<code>dired-flag-file-deletion</code>).
</p></dd>
<dt><kbd>u</kbd></dt>
<dd><p>Remove the deletion flag (<code>dired-unmark</code>).
</p></dd>
<dt><kbd><span class="key">DEL</span></kbd></dt>
<dd><p>Move point to previous line and remove the deletion flag on that line
(<code>dired-unmark-backward</code>).
</p></dd>
<dt><kbd>x</kbd></dt>
<dd><p>Delete files flagged for deletion (<code>dired-do-flagged-delete</code>).
</p></dd>
</dl>

<span id="index-d-_0028Dired_0029"></span>
<span id="index-dired_002dflag_002dfile_002ddeletion"></span>
<p>You can flag a file for deletion by moving to the line describing
the file and typing <kbd>d</kbd> (<code>dired-flag-file-deletion</code>).  The
deletion flag is visible as a &lsquo;<samp>D</samp>&rsquo; at the beginning of the line.
This command moves point to the next line, so that repeated <kbd>d</kbd>
commands flag successive files.  A numeric prefix argument serves as a
repeat count; a negative count means to flag preceding files.
</p>
<p>If the region is active, the <kbd>d</kbd> command flags all files in the
region for deletion; in this case, the command does not move point,
and ignores any prefix argument.
</p>
<span id="index-u-_0028Dired-deletion_0029"></span>
<span id="index-DEL-_0028Dired_0029"></span>
<p>The reason for flagging files for deletion, rather than deleting
files immediately, is to reduce the danger of deleting a file
accidentally.  Until you direct Dired to delete the flagged files, you
can remove deletion flags using the commands <kbd>u</kbd> and <tt class="key">DEL</tt>.
<kbd>u</kbd> (<code>dired-unmark</code>) works just like <kbd>d</kbd>, but removes
flags rather than making flags.  <tt class="key">DEL</tt>
(<code>dired-unmark-backward</code>) moves upward, removing flags; it is
like <kbd>u</kbd> with argument −1.  A numeric prefix argument to
either command serves as a repeat count, with a negative count meaning
to unflag in the opposite direction.  If the region is active, these
commands instead unflag all files in the region, without moving point.
</p>
<span id="index-x-_0028Dired_0029"></span>
<span id="index-dired_002ddo_002dflagged_002ddelete"></span>
<p>To delete flagged files, type <kbd>x</kbd>
(<code>dired-do-flagged-delete</code>).  This command displays a list of all
the file names flagged for deletion, and requests confirmation with
<kbd>yes</kbd>.  If you confirm, Dired deletes the flagged files, then
deletes their lines from the text of the Dired buffer.  The Dired
buffer, with somewhat fewer lines, remains selected.
</p>
<p>If you answer <kbd>no</kbd> or quit with <kbd>C-g</kbd> when asked to confirm, you
return immediately to Dired, with the deletion flags still present in
the buffer, and no files actually deleted.
</p>
<span id="index-recursive-deletion"></span>
<span id="index-dired_002drecursive_002ddeletes"></span>
<p>You can delete empty directories just like other files, but normally
Dired cannot delete directories that are nonempty.  However, if the
variable <code>dired-recursive-deletes</code> is non-<code>nil</code>, then Dired
is allowed to delete nonempty directories including all their
contents.  That can be somewhat risky.  If the value of the variable
is <code>always</code>, Dired will delete nonempty directories recursively,
which is even more risky.
</p>
<p>Even if you have set <code>dired-recursive-deletes</code> to <code>nil</code>, you
might want sometimes to delete directories recursively without being
asked for confirmation for all of them.  For example, you may want
that when you have marked many directories for deletion and you are
very sure that all of them can safely be deleted.  For every nonempty
directory you are asked for confirmation to delete, if you answer
<code>all</code>, then all the remaining directories will be deleted without
any further questions.
</p>
<span id="index-delete_002dby_002dmoving_002dto_002dtrash_002c-and-Dired"></span>
<p>If you change the variable <code>delete-by-moving-to-trash</code> to
<code>t</code>, the above deletion commands will move the affected files or
directories into the operating system&rsquo;s Trash, instead of deleting
them outright.  See <a href="Misc-File-Ops.html">Misc File Ops</a>.
</p>
<p>An alternative way of deleting files is to mark them with <kbd>m</kbd>
and delete with <kbd>D</kbd>, see <a href="Operating-on-Files.html">Operating on Files</a>.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Flagging-Many-Files.html" accesskey="n" rel="next">Flagging Many Files</a>, Previous: <a href="Dired-Navigation.html" accesskey="p" rel="prev">Dired Navigation</a>, Up: <a href="Dired.html" accesskey="u" rel="up">Dired</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
