<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 28.0.50.

Copyright Â© 1985-1987, 1993-2020 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Windows Fonts (GNU Emacs Manual)</title>

<meta name="description" content="Windows Fonts (GNU Emacs Manual)">
<meta name="keywords" content="Windows Fonts (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Microsoft-Windows.html#Microsoft-Windows" rel="up" title="Microsoft Windows">
<link href="Windows-Misc.html#Windows-Misc" rel="next" title="Windows Misc">
<link href="Windows-Printing.html#Windows-Printing" rel="prev" title="Windows Printing">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="/manual.css">


</head>

<body lang="en">
<a name="Windows-Fonts"></a>
<div class="header">
<p>
Next: <a href="Windows-Misc.html#Windows-Misc" accesskey="n" rel="next">Windows Misc</a>, Previous: <a href="Windows-Printing.html#Windows-Printing" accesskey="p" rel="prev">Windows Printing</a>, Up: <a href="Microsoft-Windows.html#Microsoft-Windows" accesskey="u" rel="up">Microsoft Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Specifying-Fonts-on-MS_002dWindows"></a>
<h3 class="section">G.10 Specifying Fonts on MS-Windows</h3>
<a name="index-font-specification-_0028MS-Windows_0029"></a>

<p>Starting with Emacs 23, fonts are specified by their name, size
and optional properties.  The format for specifying fonts comes from the
fontconfig library used in modern Free desktops:
</p>
<div class="example">
<pre class="example">  [Family[-PointSize]][:Option1=Value1[:Option2=Value2[...]]]
</pre></div>

<p>The old XLFD based format is also supported for backwards compatibility.
</p>
<a name="index-font-backend-selection-_0028MS_002dWindows_0029"></a>
<p>Emacs on MS-Windows supports a number of font backends.  Currently,
the <code>gdi</code>, <code>uniscribe</code>, and <code>harfbuzz</code> backends are
available.  The <code>gdi</code> font backend is available on all versions
of Windows, and supports all fonts that are natively supported by
Windows.  The <code>uniscribe</code> font backend is available on Windows
2000 and later, and supports TrueType and OpenType fonts.  The
<code>harfbuzz</code> font backend is available if Emacs was built with
HarfBuzz support, and if the HarfBuzz DLL is installed on your system;
like <code>uniscribe</code>, this backend supports only TrueType and
OpenType fonts.  Some languages requiring complex layout can only be
properly supported by the Uniscribe or HarfBuzz backends.  By default,
two backends are enabled for each frame: <code>gdi</code> and either
<code>harfbuzz</code> or <code>uniscribe</code>, depending on which one is
available (if both are available, only <code>harfbuzz</code> is enabled by
default).  The <code>harfbuzz</code> and <code>uniscribe</code> backends take
priority over <code>gdi</code> when Emacs looks for a suitable font.  To
override that and use the GDI backend even if Uniscribe is available,
invoke Emacs with the <kbd>-xrm Emacs.fontBackend:gdi</kbd> command-line
argument, or add a <code>Emacs.fontBackend</code> resource with the value
<code>gdi</code> in the Registry under either the
&lsquo;<samp>HKEY_CURRENT_USER\SOFTWARE\GNU\Emacs</samp>&rsquo; or the
&lsquo;<samp>HKEY_LOCAL_MACHINE\SOFTWARE\GNU\Emacs</samp>&rsquo; key (see <a href="Resources.html#Resources">Resources</a>).
Similarly, to use the Uniscribe backend even if HarfBuzz is available,
use <kbd>-xrm Emacs.fontBackend:uniscribe</kbd> on the command line that
invokes Emacs.  You can also request all the 3 backends via the
<code>font-backend</code> frame parameter, but be warned that in that case
font searches for characters for which no fonts are available on the
system will take longer.
</p>
<p>Alternatively, you could specify a font backend for a frame via the
<code>font-backend</code> frame parameter, using
<code>modify-frame-parameters</code> (see <a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Parameter-Access.html#Parameter-Access">Parameter Access</a> in <cite>The
Emacs Lisp Reference Manual</cite>).  You can also request specific font
backend(s) for all your frames via <code>default-frame-alist</code> and
<code>initial-frame-alist</code> (see <a href="Frame-Parameters.html#Frame-Parameters">Frame Parameters</a>).  Note that the
value of the <code>font-backend</code> parameter should be a list of
symbols, as in <code>(uniscribe)</code> or <code>(harfbuzz&nbsp;uniscribe&nbsp;gdi)</code><!-- /@w -->.
</p>
<a name="index-font-properties-_0028MS-Windows_0029"></a>
<p>Optional font properties supported on MS-Windows are:
</p>
<dl compact="compact">
<dd>
<a name="index-font_002dweight_002dtable-_0028MS_002dWindows_0029"></a>
</dd>
<dt><code>weight</code></dt>
<dd><p>Specifies the weight of the font.  Special values <code>light</code>,
<code>medium</code>, <code>demibold</code>, <code>bold</code>, and <code>black</code> can be specified
without <code>weight=</code> (e.g., <kbd>Courier New-12:bold</kbd>).  Otherwise,
the weight should be a numeric value between 100 and 900, or one of the
named weights in <code>font-weight-table</code>.  If unspecified, a regular font
is assumed.
</p>
<a name="index-font_002dslant_002dtable-_0028MS_002dWindows_0029"></a>
</dd>
<dt><code>slant</code></dt>
<dd><p>Specifies whether the font is italic.  Special values
<code>roman</code>, <code>italic</code> and <code>oblique</code> can be specified
without <code>slant=</code> (e.g., <kbd>Courier New-12:italic</kbd>).
Otherwise, the slant should be a numeric value, or one of the named
slants in <code>font-slant-table</code>.  On Windows, any slant above 150 is
treated as italics, and anything below as roman.
</p>
</dd>
<dt><code>family</code></dt>
<dd><p>Specifies the font family, but normally this will be specified
at the start of the font name.
</p>
</dd>
<dt><code>pixelsize</code></dt>
<dd><p>Specifies the font size in pixels.  This can be used instead
of the point size specified after the family name.
</p>
</dd>
<dt><code>adstyle</code></dt>
<dd><p>Specifies additional style information for the font.
On MS-Windows, the values <code>mono</code>, <code>sans</code>, <code>serif</code>,
<code>script</code> and <code>decorative</code> are recognized.  These are most useful
as a fallback with the font family left unspecified.
</p>
<a name="index-w32_002dcharset_002dinfo_002dalist"></a>
</dd>
<dt><code>registry</code></dt>
<dd><p>Specifies the character set registry that the font is
expected to cover.  Most TrueType and OpenType fonts will be Unicode fonts
that cover several national character sets, but you can narrow down the
selection of fonts to those that support a particular character set by
using a specific registry from <code>w32-charset-info-alist</code> here.
</p>
</dd>
<dt><code>spacing</code></dt>
<dd><p>Specifies how the font is spaced.  The <code>p</code> spacing specifies
a proportional font, and <code>m</code> or <code>c</code> specify a monospaced font.
</p>
</dd>
<dt><code>foundry</code></dt>
<dd><p>Not used on Windows, but for informational purposes and to
prevent problems with code that expects it to be set, is set internally to
<code>raster</code> for bitmapped fonts, <code>outline</code> for scalable fonts,
or <code>unknown</code> if the type cannot be determined as one of those.
</p>
<a name="index-font-scripts-_0028MS-Windows_0029"></a>
<a name="index-font-Unicode-subranges-_0028MS-Windows_0029"></a>
</dd>
<dt><code>script</code></dt>
<dd><p>Specifies a Unicode subrange the font should support.
</p>
<p>All the scripts known to Emacs (which generally means all the scripts
defined by the latest Unicode Standard) are recognized on MS-Windows.
However, <code>GDI</code> fonts support only a subset of the known scripts:
<code>greek</code>, <code>hangul</code>, <code>kana</code>, <code>kanbun</code>,
<code>bopomofo</code>, <code>tibetan</code>, <code>yi</code>, <code>mongolian</code>,
<code>hebrew</code>, <code>arabic</code>, and <code>thai</code>.
</p>
<a name="index-font-antialiasing-_0028MS-Windows_0029"></a>
<a name="index-Cleartype"></a>
</dd>
<dt><code>antialias</code></dt>
<dd><p>Specifies the antialiasing method.  The value <code>none</code> means no
antialiasing, <code>standard</code> means use standard antialiasing,
<code>subpixel</code> means use subpixel antialiasing (known as
<em>Cleartype</em> on Windows), and <code>natural</code> means use subpixel
antialiasing with adjusted spacing between letters.  If unspecified,
the font will use the system default antialiasing.
</p></dd>
</dl>

<a name="index-font-lookup_002c-MS_002dWindows"></a>
<a name="index-w32_002dfind_002dnon_002dUSB_002dfonts"></a>
<p>The method used by Emacs on MS-Windows to look for fonts suitable for
displaying a given non-<small>ASCII</small> character might fail for some rare
scripts, specifically those added by Unicode relatively recently, even
if you have fonts installed on your system that support those scripts.
That is because these scripts have no Unicode Subrange Bits (USBs)
defined for them in the information used by Emacs on MS-Windows to
look for fonts.  You can use the <code>w32-find-non-USB-fonts</code>
function to overcome these problems.  It needs to be run once at the
beginning of the Emacs session, and again if you install new fonts.
You can add the following line to your init file to have this function
run every time you start Emacs:
</p>
<div class="lisp">
<pre class="lisp">(w32-find-non-USB-fonts)
</pre></div>

<p><a name="index-w32_002dnon_002dUSB_002dfonts"></a>
Alternatively, you can run this function manually via <kbd>M-:</kbd>
(see <a href="Lisp-Eval.html#Lisp-Eval">Lisp Eval</a>) at any time.  On a system that has many fonts
installed, running <code>w32-find-non-USB-fonts</code> might take a couple
of seconds; if you consider that to be too long to be run during
startup, and if you install new fonts only rarely, run this function
once via <kbd>M-:</kbd>, and then assign the value it returns, if
non-<code>nil</code>, to the variable <code>w32-non-USB-fonts</code> in your init
file.  (If the function returns <code>nil</code>, you have no fonts
installed that can display characters from the scripts which need this
facility.)
</p>
<a name="index-w32_002duse_002dw32_002dfont_002ddialog"></a>
<a name="index-w32_002dfixed_002dfont_002dalist"></a>
<p>The variable <code>w32-use-w32-font-dialog</code> controls the way fonts can
be selected via <kbd>S-mouse-1</kbd> (<code>mouse-appearance-menu</code>).  If
the value is <code>t</code>, the default, Emacs uses the standard Windows
font selection dialog.  If the value is <code>nil</code>, Emacs instead pops
a menu of a fixed set of fonts.  The fonts to appear in the menu are
determined by <code>w32-fixed-font-alist</code>.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Windows-Misc.html#Windows-Misc" accesskey="n" rel="next">Windows Misc</a>, Previous: <a href="Windows-Printing.html#Windows-Printing" accesskey="p" rel="prev">Windows Printing</a>, Up: <a href="Microsoft-Windows.html#Microsoft-Windows" accesskey="u" rel="up">Microsoft Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
