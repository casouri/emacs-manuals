<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 31.0.50.

Copyright Â© 1985-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Matching (GNU Emacs Manual)</title>

<meta name="description" content="Matching (GNU Emacs Manual)">
<meta name="keywords" content="Matching (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Parentheses.html" rel="up" title="Parentheses">
<link href="Moving-by-Parens.html" rel="prev" title="Moving by Parens">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Matching">
<div class="nav-panel">
<p>
Previous: <a href="Moving-by-Parens.html" accesskey="p" rel="prev">Moving in the Parenthesis Structure</a>, Up: <a href="Parentheses.html" accesskey="u" rel="up">Commands for Editing with Parentheses</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Matching-Parentheses"><span>28.4.3 Matching Parentheses<a class="copiable-link" href="#Matching-Parentheses"> &para;</a></span></h4>
<a class="index-entry-id" id="index-matching_002c-parentheses-and-other-paired-delimiters"></a>
<a class="index-entry-id" id="index-parentheses_002c-displaying-matches"></a>

<p>Emacs has a number of <em class="dfn">parenthesis matching</em> features, which make
it easy to see how and whether parentheses (or other paired delimiters)
match up.
</p>
<p>Whenever you type a self-inserting character that is a closing
delimiter, Emacs briefly indicates the location of the matching
opening delimiter, provided that is on the screen.  If it is not on
the screen, Emacs displays some of the text near it in the echo area.
Either way, you can tell which grouping you are closing off.  If the
opening delimiter and closing delimiter are mismatched&mdash;such as in
&lsquo;<samp class="samp">[x)</samp>&rsquo;&mdash;a warning message is displayed in the echo area.
</p>
<a class="index-entry-id" id="index-blink_002dmatching_002dparen"></a>
<a class="index-entry-id" id="index-blink_002dmatching_002dparen_002ddistance"></a>
<a class="index-entry-id" id="index-blink_002dmatching_002ddelay"></a>
<p>Three variables control the display of matching parentheses:
</p>
<ul class="itemize mark-bullet">
<li><code class="code">blink-matching-paren</code> turns the feature on or off: <code class="code">nil</code>
disables it, but the default is <code class="code">t</code> to enable it.  Set it to
<code class="code">jump</code> to make indication work by momentarily moving the cursor
to the matching opening delimiter.  Set it to <code class="code">jump-offscreen</code> to
make the cursor jump, even if the opening delimiter is off screen.

</li><li><code class="code">blink-matching-delay</code> says how many seconds to keep indicating
the matching opening delimiter.  This may be an integer or
floating-point number; the default is 1.

</li><li><code class="code">blink-matching-paren-distance</code> specifies how many characters
back to search to find the matching opening delimiter.  If the match
is not found in that distance, Emacs stops scanning and nothing is
displayed.  The default is 102400.
</li></ul>

<a class="index-entry-id" id="index-Show-Paren-mode"></a>
<a class="index-entry-id" id="index-highlighting-matching-parentheses"></a>
<a class="index-entry-id" id="index-show_002dparen_002dmode"></a>
<a class="index-entry-id" id="index-show_002dparen_002dlocal_002dmode"></a>
<p>Show Paren mode is a minor mode that provides a more powerful kind
of automatic matching.  Whenever point is before an opening delimiter
or after a closing delimiter, the delimiter, its matching delimiter,
and optionally the text between them are highlighted.  To toggle Show
Paren mode globally, type <kbd class="kbd">M-x show-paren-mode</kbd>.  To toggle it
only in the current buffer, type <kbd class="kbd">M-x show-paren-local-mode</kbd>.
</p>
<a class="index-entry-id" id="index-show_002dparen_002dpredicate"></a>
<p>By default, this mode is switched on in all buffers that are meant
for editing, but is not enabled in buffers that show data.  This is
controlled by the <code class="code">show-paren-predicate</code> user option.
</p>
<p>To customize the mode, type <kbd class="kbd">M-x&nbsp;customize-group&nbsp;<kbd class="key">RET</kbd>&nbsp;paren-showing</kbd><!-- /@w -->.  The customizable options which control the operation
of this mode include:
</p>
<ul class="itemize mark-bullet">
<li><a class="index-entry-id" id="index-show_002dparen_002dhighlight_002dopenparen"></a>
<code class="code">show-paren-highlight-openparen</code> controls whether to highlight
an open paren when point is just before it, and hence its position
is marked by the cursor anyway.  The default is non-<code class="code">nil</code> (yes).

</li><li><a class="index-entry-id" id="index-show_002dparen_002dstyle"></a>
<code class="code">show-paren-style</code> controls whether just the two parens, or also
the text between them get highlighted.  The valid options here are
<code class="code">parenthesis</code> (show the matching paren), <code class="code">expression</code>
(highlight the entire expression enclosed by the parens), and
<code class="code">mixed</code> (highlight the matching paren if it is visible in the
window, the expression otherwise).

</li><li><a class="index-entry-id" id="index-show_002dparen_002dwhen_002dpoint_002dinside_002dparen"></a>
<code class="code">show-paren-when-point-inside-paren</code>, when non-<code class="code">nil</code>, causes
highlighting also when point is inside of the parentheses.  The
default is <code class="code">nil</code>.

</li><li><a class="index-entry-id" id="index-show_002dparen_002dwhen_002dpoint_002din_002dperiphery"></a>
<code class="code">show-paren-when-point-in-periphery</code>, when non-<code class="code">nil</code>, causes
highlighting also when point is in whitespace at the beginning of a
line and there is a paren at the first or last non-whitespace position
on the line, or when point is at the end of a line and there is a
paren at the last non-whitespace position on the line.

</li><li><a class="index-entry-id" id="index-show_002dparen_002dcontext_002dwhen_002doffscreen"></a>
<code class="code">show-paren-context-when-offscreen</code>, when non-<code class="code">nil</code>, shows
some context in the echo area when point is in a closing delimiter and
the opening delimiter is offscreen.  The context is usually the line
that contains the opening delimiter, except if the opening delimiter
is on its own line, in which case the context includes the previous
nonblank line.

</li><li><a class="index-entry-id" id="index-show_002dparen_002dnot_002din_002dcomments_002dor_002dstrings"></a>
If the value of <code class="code">show-paren-not-in-comments-or-strings</code> is
<code class="code">all</code>, delimiters inside comments and strings will not be
highlighted.  Otherwise, if the value is set to <code class="code">on-mismatch</code>, the
mismatched delimiters inside comments will not be highlighted.  The
default is <code class="code">nil</code>, so delimiters inside comments and strings are
always highlighted.
</li></ul>

<a class="index-entry-id" id="index-Electric-Pair-mode"></a>
<a class="index-entry-id" id="index-inserting-matching-parentheses"></a>
<a class="index-entry-id" id="index-electric_002dpair_002dmode"></a>
<p>Electric Pair mode is a minor mode that provides a way to easily
insert pairs of matching delimiters: parentheses, braces, brackets,
quotes, etc. (what counts as matching delimiters depends on the major
mode).  To toggle Electric Pair mode globally, type <kbd class="kbd">M-x&nbsp;electric-pair-mode</kbd><!-- /@w -->.  To toggle it only in the current buffer, type
<kbd class="kbd">M-x&nbsp;electric-pair-local-mode</kbd><!-- /@w -->.
</p>
<p>When this mode is enabled, typing an opening delimiter inserts both
that character and, immediately following it, the matching closing
delimiter, leaving point between the two.  This makes it unnecessary to
type a matching closing delimiter in most cases.  If you type one
nonetheless, Emacs simply inserts that character, unless point is
immediately before a closing delimiter of the same type; in that case,
point moves to immediately after the closing delimiter and no additional
closing delimiter is inserted.  Thus, typing the sequence &lt;opening
delimiter&gt;, &lt;matching closing delimiter&gt; is a perhaps more convenient
alternative to the sequence &lt;opening delimiter&gt;, <kbd class="kbd">C-f</kbd>.
</p>
<p>With an active region (see <a class="pxref" href="Mark.html">The Mark and the Region</a>), Electric Pair mode operates
differently: inserting either an opening or a closing delimiter encloses
the characters in the region within the resulting pair of matching
delimiters, leaving point after the delimiter you typed (this
facilitates continuing to type either before the text following the
opening delimiter or after the closing delimiter).
</p>
<p>If you provide a prefix argument when inserting an opening
delimiter&mdash;and if the region is active, also when inserting a closing
delimiter&mdash;this results in the insertion of as many nested pairs of
matching delimiters as the numeric value of that prefix argument.
</p>
<p>There are several user options for modifying the behavior of Electric
Pair mode:
</p>
<ul class="itemize mark-bullet">
<li><a class="index-entry-id" id="index-electric_002dpair_002dpreserve_002dbalance"></a>
<code class="code">electric-pair-preserve-balance</code>, when non-<code class="code">nil</code> (the
default), makes typing a delimiter preserve the balance between opening
and closing delimiters.  Thus, if you type an opening delimiter and
there is an unpaired matching closing delimiter later in the buffer,
then only the opening delimiter gets inserted (and not a matching
closing delimiter immediately following it); likewise, if there is an
unpaired opening delimiter, then typing a matching closing delimiter
later in the buffer inserts this character even when the following
character is another matching closing delimiter.

<p>When set to <code class="code">nil</code>, typing an opening delimiter inserts only this
character, but only when point is either immediately before or
immediately after a matching opening delimiter, or immediately before a
letter or digit; in all other positions inserting an opening delimiter
automatically inserts a matching closing delimiter immediately following
it, even if there is an unpaired matching closing delimiter later in the
buffer.  And typing a closing delimiter immediately before another
closing delimiter of the same type does not insert that character but
moves point as described above, even when there is an unpaired matching
opening delimiter earlier in the buffer.
</p>
<p>If there is an active region, this variable has no effect.
</p>
</li><li><a class="index-entry-id" id="index-electric_002dpair_002ddelete_002dadjacent_002dpairs"></a>
<code class="code">electric-pair-delete-adjacent-pairs</code>, when non-<code class="code">nil</code> (the
default), makes deleting an opening delimiter by typing the <kbd class="key">DEL</kbd>
key (which is normally the <kbd class="key">BACKSPACE</kbd> key; see <a class="pxref" href="DEL-Does-Not-Delete.html">If <kbd class="key">DEL</kbd> Fails to Delete</a>) automatically also delete an immediately following matching
closing delimiter (but not if there are any characters&mdash;including just
whitespace&mdash;between the paired delimiters).  When set to <code class="code">nil</code>,
typing <kbd class="key">BACKSPACE</kbd> deletes only the opening delimiter.  (Typing
<kbd class="key">BACKSPACE</kbd> to delete a closing delimiter always deletes only this
character.)

</li><li><a class="index-entry-id" id="index-electric_002dpair_002dopen_002dnewline_002dbetween_002dpairs"></a>
When <code class="code">electric-pair-open-newline-between-pairs</code> is non-<code class="code">nil</code>
(the default) and point is between an opening delimiter and an
immediately following matching closing delimiter, then typing a newline
automatically inserts an extra newline after point (possibly indenting
the empty line point is on, depending on the major mode).  When set to
<code class="code">nil</code>, typing a newline inserts only one newline before point, as
usual.

</li><li><a class="index-entry-id" id="index-electric_002dpair_002dskip_002dwhitespace"></a>
When <code class="code">electric-pair-skip-whitespace</code> has its default non-<code class="code">nil</code>
value and point is separated from a closing delimiter only by
whitespace, then typing a closing delimiter of the same type does not
insert that character but instead moves point to immediately after the
already present closing delimiter.  You can also set this option to
additionally delete any whitespace that point moves over.  When set to
<code class="code">nil</code>, typing a closing delimiter simply inserts that character
(even when this makes the following closing delimiter of the same type
unbalanced).
</li></ul>

</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Moving-by-Parens.html">Moving in the Parenthesis Structure</a>, Up: <a href="Parentheses.html">Commands for Editing with Parentheses</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
