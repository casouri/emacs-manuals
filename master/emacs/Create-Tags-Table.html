<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 31.0.50.

Copyright Â© 1985-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Create Tags Table (GNU Emacs Manual)</title>

<meta name="description" content="Create Tags Table (GNU Emacs Manual)">
<meta name="keywords" content="Create Tags Table (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Tags-Tables.html" rel="up" title="Tags Tables">
<link href="Etags-Regexps.html" rel="next" title="Etags Regexps">
<link href="Tag-Syntax.html" rel="prev" title="Tag Syntax">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Create-Tags-Table">
<div class="nav-panel">
<p>
Next: <a href="Etags-Regexps.html" accesskey="n" rel="next">Etags Regexps</a>, Previous: <a href="Tag-Syntax.html" accesskey="p" rel="prev">Source File Tag Syntax</a>, Up: <a href="Tags-Tables.html" accesskey="u" rel="up">Tags Tables</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Creating-Tags-Tables"><span>30.4.2.2 Creating Tags Tables<a class="copiable-link" href="#Creating-Tags-Tables"> &para;</a></span></h4>
<a class="index-entry-id" id="index-etags-program"></a>

<p>The <code class="command">etags</code> program is used to create a tags table file.  It knows
the syntax of several languages, as described in
<a class="ref" href="Tag-Syntax.html">Source File Tag Syntax</a>.
Here is how to run <code class="command">etags</code>:
</p>
<div class="example">
<pre class="example-preformatted">etags <var class="var">inputfiles</var>...
</pre></div>

<p>The <code class="command">etags</code> program reads the specified files, and writes a tags
table named <samp class="file">TAGS</samp> in the current working directory.  You can
optionally specify a different file name for the tags table by using the
&lsquo;<samp class="samp">--output=<var class="var">file</var></samp>&rsquo; option; specifying <samp class="file">-</samp> as a file name
prints the tags table to standard output.  You can also append the
newly created tags table to an existing file by using the &lsquo;<samp class="samp">--append</samp>&rsquo;
option.
</p>
<p>If the specified files don&rsquo;t exist, <code class="command">etags</code> looks for
compressed versions of them and uncompresses them to read them.  Under
MS-DOS, <code class="command">etags</code> also looks for file names like <samp class="file">mycode.cgz</samp>
if it is given &lsquo;<samp class="samp">mycode.c</samp>&rsquo; on the command line and <samp class="file">mycode.c</samp>
does not exist.
</p>
<p>If the tags table becomes outdated due to changes in the files
described in it, you can update it by running the <code class="command">etags</code>
program again.  If the tags table does not record a tag, or records it
for the wrong file, then Emacs will not be able to find that
definition until you update the tags table.  But if the position
recorded in the tags table becomes a little bit wrong (due to other
editing), Emacs will still be able to find the right position, with a
slight delay.
</p>
<p>Thus, there is no need to update the tags table after each edit.
You should update a tags table when you define new tags that you want
to have listed, or when you move tag definitions from one file to
another, or when changes become substantial.
</p>
<p>You can make a tags table <em class="dfn">include</em> another tags table, by
passing the &lsquo;<samp class="samp">--include=<var class="var">file</var></samp>&rsquo; option to <code class="command">etags</code>.  It
then covers all the files covered by the included tags file, as well
as its own.
</p>
<p>If you specify the source files with relative file names when you run
<code class="command">etags</code>, the tags file will contain file names relative to the
directory where the tags file was initially written.  This way, you can
move an entire directory tree containing both the tags file and the
source files, and the tags file will still refer correctly to the source
files.  If the tags file is <samp class="file">-</samp> or is in the <samp class="file">/dev</samp> directory,
however, the file names are
made relative to the current working directory.  This is useful, for
example, when writing the tags to the standard output.
</p>
<p>When using a relative file name, it should not be a symbolic link
pointing to a tags file in a different directory, because this would
generally render the file names invalid.
</p>
<p>If you specify absolute file names as arguments to <code class="command">etags</code>, then
the tags file will contain absolute file names.  This way, the tags file
will still refer to the same files even if you move it, as long as the
source files remain in the same place.  Absolute file names start with
&lsquo;<samp class="samp">/</samp>&rsquo;, or with &lsquo;<samp class="samp"><var class="var">device</var>:/</samp>&rsquo; on MS-DOS and MS-Windows.
</p>
<p>When you want to make a tags table from a great number of files,
you may have problems listing them on the command line, because some
systems have a limit on its length.  You can circumvent this limit by
telling <code class="command">etags</code> to read the file names from its standard
input, by typing a dash in place of the file names, like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">find . -name &quot;*.[chCH]&quot; -print | etags -
</pre></div>

<p><code class="command">etags</code> recognizes the language used in an input file based on
its file name and contents.  It first tries to match the file&rsquo;s name and
extension to the ones commonly used with certain languages.  Some
languages have interpreters with known names (e.g., <code class="command">perl</code> for
Perl or <code class="command">pl</code> for Prolog), so <code class="command">etags</code> next looks for an
interpreter specification of the form &lsquo;<samp class="samp">#!<var class="var">interp</var></samp>&rsquo; on the first
line of an input file, and matches that against known interpreters.  If
none of that works, or if you want to override the automatic detection of
the language, you can specify the language explicitly with the
&lsquo;<samp class="samp">--language=<var class="var">name</var></samp>&rsquo; option.  You can intermix these options with
file names; each one applies to the file names that follow it.  Specify
&lsquo;<samp class="samp">--language=auto</samp>&rsquo; to tell <code class="command">etags</code> to resume guessing the
language from the file names and file contents.  Specify
&lsquo;<samp class="samp">--language=none</samp>&rsquo; to turn off language-specific processing entirely;
then <code class="command">etags</code> recognizes tags by regexp matching alone
(see <a class="pxref" href="Etags-Regexps.html">Etags Regexps</a>).  This comes in handy when an input file uses a
language not yet supported by <code class="command">etags</code>, and you want to avoid
having <code class="command">etags</code> fall back on Fortran and C as the default
languages.
</p>
<p>You can also prevent <code class="command">etags</code> from falling back on Fortran and
C if you specify the &lsquo;<samp class="samp">--no-fallback-lang</samp>&rsquo; option.  The option
&lsquo;<samp class="samp">--fallback-lang</samp>&rsquo; countermands that.
</p>
<p>The option &lsquo;<samp class="samp">--parse-stdin=<var class="var">file</var></samp>&rsquo; is mostly useful when
calling <code class="command">etags</code> from programs.  It can be used (only once) in
place of a file name on the command line.  <code class="command">etags</code> will read from
standard input and mark the produced tags as belonging to the file
<var class="var">file</var>.
</p>
<p>For C and C++, if the source files don&rsquo;t observe the GNU Coding
Standards&rsquo; convention if having braces (&lsquo;<samp class="samp">{</samp>&rsquo; and &lsquo;<samp class="samp">}</samp>&rsquo;) in
column zero only for top-level definitions, like functions and
<code class="code">struct</code> definitions, we advise that you use the
&lsquo;<samp class="samp">--ignore-indentation</samp>&rsquo; option, to prevent <code class="command">etags</code> from
incorrectly interpreting closing braces in column zero.
</p>
<p>&lsquo;<samp class="samp">etags --help</samp>&rsquo; outputs the list of the languages <code class="command">etags</code>
knows, and the file name rules for guessing the language.  It also prints
a list of all the available <code class="command">etags</code> options, together with a short
explanation.  If followed by one or more &lsquo;<samp class="samp">--language=<var class="var">lang</var></samp>&rsquo;
options, it outputs detailed information about how tags are generated for
<var class="var">lang</var>.
</p>
<p>By default, <code class="command">etags</code> includes in the tags table it produces all
the files it scans, including files where it found no tags at all.
Specify &lsquo;<samp class="samp">--no-empty-file-entries</samp>&rsquo; to prevent that; then files with
no tags will not be mentioned in the tags table.  However, note that
commands which process files mentioned in the tags table, such as
<code class="code">tags-search</code> (see <a class="pxref" href="Identifier-Search.html">Searching and Replacing with Identifiers</a>), will process files which
were thus omitted from the tags table.  The option
&lsquo;<samp class="samp">--empty-file-entries</samp>&rsquo; countermands that.
</p>
<a class="index-entry-id" id="index-etags_002dregen_002dmode"></a>
<p>Instead of creating and updating the tags table by manually invoking
<code class="command">etags</code>, you can ask Emacs to do it for you automatically.
The global minor mode <code class="code">etags-regen-mode</code>, if enabled, generates
tags tables automatically as needed, and takes care of updating them
when you edit any of the source files that contribute tags.  This mode
uses the current project configuration (see <a class="pxref" href="Projects.html">Working with Projects</a>) to determine
which files to submit to <code class="command">etags</code> for regenerating the tags
table for the project.  You can customize how this minor mode works
using the following user options:
</p>
<dl class="vtable">
<dt><a id="index-etags_002dregen_002dprogram"></a><span><code class="code">etags-regen-program</code><a class="copiable-link" href="#index-etags_002dregen_002dprogram"> &para;</a></span></dt>
<dd><p>The program to regenerate tags table; defaults to <code class="command">etags</code>.
</p>
</dd>
<dt><a id="index-etags_002dregen_002dprogram_002doptions"></a><span><code class="code">etags-regen-program-options</code><a class="copiable-link" href="#index-etags_002dregen_002dprogram_002doptions"> &para;</a></span></dt>
<dd><p>Command-line options to pass to the program which regenerates tags
tables.
</p>
</dd>
<dt><a id="index-etags_002dregen_002dignores"></a><span><code class="code">etags-regen-ignores</code><a class="copiable-link" href="#index-etags_002dregen_002dignores"> &para;</a></span></dt>
<dd><p>List of glob patterns which specify files to ignore when regenerating
tags tables.
</p></dd>
</dl>

<a class="index-entry-id" id="index-tags_002dreset_002dtags_002dtables"></a>
<p>If you select a tags table manually, with <kbd class="kbd">M-x visit-tags-table</kbd>
(see <a class="pxref" href="Select-Tags-Table.html">Selecting a Tags Table</a>), <code class="code">etags-regen-mode</code> effectively
disables itself: it will no longer automatically create and update
tags tables, assuming that you prefer managing your tags tables
manually.  You can cancel this effect of using <code class="code">visit-tags-table</code>
by invoking the command <code class="code">tags-reset-tags-tables</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Etags-Regexps.html">Etags Regexps</a>, Previous: <a href="Tag-Syntax.html">Source File Tag Syntax</a>, Up: <a href="Tags-Tables.html">Tags Tables</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
