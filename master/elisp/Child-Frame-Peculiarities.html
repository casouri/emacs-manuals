<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 31.0.50.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Child Frame Peculiarities (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Child Frame Peculiarities (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Child Frame Peculiarities (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Child-Frames.html" rel="up" title="Child Frames">
<link href="Child-Frame-Properties.html" rel="prev" title="Child Frame Properties">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Child-Frame-Peculiarities">
<div class="nav-panel">
<p>
Previous: <a href="Child-Frame-Properties.html" accesskey="p" rel="prev">Child Frame Properties</a>, Up: <a href="Child-Frames.html" accesskey="u" rel="up">Child Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Child-Frame-Peculiarities-1"><span>30.14.3 Child Frame Peculiarities<a class="copiable-link" href="#Child-Frame-Peculiarities-1"> &para;</a></span></h4>

<p>The behavior of child frames deviates from that of normal frames in a
number of peculiar ways.  Here we sketch a few of them:
</p>
<ul class="itemize mark-bullet">
<li>The semantics of maximizing and iconifying child frames is highly
window-system dependent.  As a rule, applications should never invoke
these operations on child frames.  By default, invoking
<code class="code">iconify-frame</code> on a child frame will try to iconify the top-level
frame corresponding to that child frame instead.  To obtain a different
behavior, users may customize the option <code class="code">iconify-child-frame</code>
described below.

</li><li>Raising, lowering and restacking child frames (see <a class="pxref" href="Raising-and-Lowering.html">Raising, Lowering and Restacking Frames</a>) or changing the <code class="code">z-group</code> (see <a class="pxref" href="Position-Parameters.html">Position Parameters</a>)
of a child frame changes only the stacking order of child frames with
the same parent.  Restacking has not been implemented on text terminals.

</li><li>Many window-systems are not able to change the opacity (see <a class="pxref" href="Font-and-Color-Parameters.html">Font and Color Parameters</a>) of child frames.

</li><li>Transferring focus from a child frame to an ancestor that is not its
parent by clicking with the mouse in a visible part of that ancestor&rsquo;s
window may fail with some window-systems.  You may have to click into
the direct parent&rsquo;s window-system window first.

</li><li>Window managers might not bother to extend their focus follows mouse
policy to child frames.  Customizing <code class="code">mouse-autoselect-window</code> can
help in this regard (see <a class="pxref" href="Mouse-Window-Auto_002dselection.html">Mouse Window Auto-selection</a>).

</li><li>Dropping (see <a class="pxref" href="Drag-and-Drop.html">Drag and Drop</a>) on child frames is not guaranteed to
work on all window-systems.  Some will drop the object on the parent
frame or on some ancestor instead.
</li></ul>

<p>Customizing the following option can be useful to tweak the behavior of
<code class="code">iconify-frame</code> for child frames.
</p>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-iconify_002dchild_002dframe"><span class="category-def">User Option: </span><span><strong class="def-name">iconify-child-frame</strong><a class="copiable-link" href="#index-iconify_002dchild_002dframe"> &para;</a></span></dt>
<dd><p>This option tells Emacs how to proceed when it is asked to iconify a
child frame.  If it is <code class="code">nil</code>, <code class="code">iconify-frame</code> will do nothing
when invoked on a child frame.  If it is <code class="code">iconify-top-level</code>, Emacs
will try to iconify the root frame of this child frame instead.  If it
is <code class="code">make-invisible</code>, Emacs will try to make this child frame
invisible instead of iconifying it.
</p>
<p>Any other value means to try iconifying the child frame.  Since such an
attempt may not be honored by all window managers and can even lead to
making the child frame unresponsive to user actions, the default is to
iconify the root frame instead.
</p>
<p>On a text terminal the only feasible values are <code class="code">nil</code> and
<code class="code">make-invisible</code>.
</p></dd></dl>

<p>On text terminals exist a few restrictions with respect to reparenting:
One is that a top frame (see <a class="pxref" href="Frames.html">Frames</a>) cannot be directly made a child
frame&mdash;you first have to make another root frame the new top frame of
its terminal.  If, on the other hand, you want a child frame to become
the new top frame of its terminal, you have to make it a root frame
first.
</p>
<p>Also, the surrogate minibuffer window of any frame on a text terminal
must reside on a frame with the same root frame.  Reparenting will throw
an error whenever it violates this restriction.  It also means that it&rsquo;s
more tricky to make a minibuffer-less frame whose minibuffer window
resides on a minibuffer-only child frame.  On a GUI, Emacs proceeds as
follows when a user has specified the value <code class="code">child-frame</code> for the
<code class="code">minibuffer</code> parameter in <code class="code">initial-frame-alist</code>
(see <a class="pxref" href="Initial-Parameters.html">Initial Frame Parameters</a>):
</p>
<ol class="enumerate">
<li> Create a minibuffer-only frame.

</li><li> Create a minibuffer-less frame with its <code class="code">minibuffer</code> parameter set
to the window of the minibuffer-only frame.

</li><li> Make the minibuffer-less frame the parent frame of the minibuffer-only
frame.

</li><li> Delete the originally selected frame.
</li></ol>

<p>On a text terminal you have to perform these operations manually as
sketched in the following snippet:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(let* ((selected (selected-frame))
       (mini-only
        (make-frame
         `((parent-frame . ,selected)
           (minibuffer . only)
           (left . 1) (top . -1) (width . 20) (height . 1))))
       (mini-less
        (make-frame
         (append `((parent-frame . ,selected)
                   (minibuffer . ,(minibuffer-window mini-only)))))))
  (set-frame-parameter mini-only 'parent-frame mini-less)
  (set-frame-parameter mini-less 'parent-frame nil)
  (select-frame mini-less)
  (delete-frame selected))
</pre></div></div>

<p>This means that you first have to install the minibuffer-less and the
minibuffer-only frames both as child frames of the selected frame with
the <code class="code">minibuffer</code> parameter of the minibuffer-less frame set to the
minibuffer window of the minibuffer-only frame.  Then make the
minibuffer-only frame a child frame of the minibuffer-less frame and
make the minibuffer-less frame a new root frame.  Finally, select the
minibuffer-less frame and delete the originally selected frame.
</p>

</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Child-Frame-Properties.html">Child Frame Properties</a>, Up: <a href="Child-Frames.html">Child Frames</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
