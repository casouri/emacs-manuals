<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 31.0.50.

Copyright Â© 1990-1996, 1998-2026 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Click Events (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Click Events (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Click Events (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Input-Events.html" rel="up" title="Input Events">
<link href="Drag-Events.html" rel="next" title="Drag Events">
<link href="Mouse-Events.html" rel="prev" title="Mouse Events">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Click-Events">
<div class="nav-panel">
<p>
Next: <a href="Drag-Events.html" accesskey="n" rel="next">Drag Events</a>, Previous: <a href="Mouse-Events.html" accesskey="p" rel="prev">Mouse Events</a>, Up: <a href="Input-Events.html" accesskey="u" rel="up">Input Events</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Click-Events-1"><span>22.7.4 Click Events<a class="copiable-link" href="#Click-Events-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-click-event"></a>
<a class="index-entry-id" id="index-mouse-click-event"></a>
<a class="index-entry-id" id="index-mouse-wheel-event"></a>

<p>When the user presses a mouse button and releases it at the same
location, that generates a <em class="dfn">click</em> event.  Depending on how your
window-system reports mouse-wheel events, turning the mouse wheel can
generate either a mouse click or a mouse-wheel event.  All mouse event
share the same format:
</p>
<div class="example">
<pre class="example-preformatted">(<var class="var">event-type</var> <var class="var">position</var> <var class="var">click-count</var>)
</pre></div>

<dl class="table">
<dt><var class="var">event-type</var></dt>
<dd><p>This is a symbol that indicates which mouse button was used.  It is
one of the symbols <code class="code">mouse-1</code>, <code class="code">mouse-2</code>, &hellip;, where the
buttons are numbered left to right.  For mouse-wheel event, it can be
<code class="code">wheel-up</code> or <code class="code">wheel-down</code>.
</p>
<p>You can also use prefixes &lsquo;<samp class="samp">A-</samp>&rsquo;, &lsquo;<samp class="samp">C-</samp>&rsquo;, &lsquo;<samp class="samp">H-</samp>&rsquo;, &lsquo;<samp class="samp">M-</samp>&rsquo;,
&lsquo;<samp class="samp">S-</samp>&rsquo; and &lsquo;<samp class="samp">s-</samp>&rsquo; for modifiers alt, control, hyper, meta, shift
and super, just as you would with function keys.
</p>
<p>This symbol also serves as the event type of the event.  Key bindings
describe events by their types; thus, if there is a key binding for
<code class="code">mouse-1</code>, that binding would apply to all events whose
<var class="var">event-type</var> is <code class="code">mouse-1</code>.
</p>
</dd>
<dt><a id="index-mouse-position-list"></a><span><var class="var">position</var><a class="copiable-link" href="#index-mouse-position-list"> &para;</a></span></dt>
<dd><p>This is a <em class="dfn">mouse position list</em> specifying where the mouse event
occurred; see below for details.
</p>
</dd>
<dt><var class="var">click-count</var></dt>
<dd><p>This is the number of rapid repeated presses so far of the same mouse
button or the number of repeated turns of the wheel.  See <a class="xref" href="Repeat-Events.html">Repeat Events</a>.
</p></dd>
</dl>

<p>To access the contents of a mouse position list in the
<var class="var">position</var> slot of a mouse event, you should typically use the
functions documented in <a class="ref" href="Accessing-Mouse.html">Accessing Mouse Events</a>.
</p>
<p>The explicit format of the list depends on where the event occurred.
For clicks in the text area, mode line, header line, tab line, or in
the fringe or marginal areas, the mouse position list has the form
</p>
<div class="example">
<pre class="example-preformatted">(<var class="var">window</var> <var class="var">pos-or-area</var> (<var class="var">x</var> . <var class="var">y</var>) <var class="var">timestamp</var>
 <var class="var">object</var> <var class="var">text-pos</var> (<var class="var">col</var> . <var class="var">row</var>)
 <var class="var">image</var> (<var class="var">dx</var> . <var class="var">dy</var>) (<var class="var">width</var> . <var class="var">height</var>))
</pre></div>

<p>The meanings of these list elements are as follows:
</p>
<dl class="table">
<dt><var class="var">window</var></dt>
<dd><p>The window in which the mouse event occurred.
</p>
</dd>
<dt><var class="var">pos-or-area</var></dt>
<dd><p>The buffer position of the character clicked on in the text area; or,
if the event was outside the text area, the window area where it
occurred.  It is one of the symbols <code class="code">mode-line</code>,
<code class="code">header-line</code>, <code class="code">tab-line</code>, <code class="code">vertical-line</code>,
<code class="code">left-margin</code>, <code class="code">right-margin</code>, <code class="code">left-fringe</code>,
or <code class="code">right-fringe</code>.
</p>
<p>In one special case, <var class="var">pos-or-area</var> is a list containing a symbol
(one of the symbols listed above) instead of just the symbol.  This
happens after the imaginary prefix keys for the event are registered
by Emacs.  See <a class="xref" href="Key-Sequence-Input.html">Key Sequence Input</a>.
</p>
</dd>
<dt><var class="var">x</var>, <var class="var">y</var></dt>
<dd><p>The relative pixel coordinates of the event.  For events in the text
area of a window, the coordinate origin <code class="code">(0 . 0)</code> is taken to be
the top left corner of the text area.  See <a class="xref" href="Window-Sizes.html">Window Sizes</a>.  For
events in a mode line, header line or tab line, the coordinate origin
is the top left corner of the window itself.  For fringes, margins,
and the vertical border, <var class="var">x</var> does not have meaningful data.
For fringes and margins, <var class="var">y</var> is relative to the bottom edge of the
header line.  In all cases, the <var class="var">x</var> and <var class="var">y</var> coordinates
increase rightward and downward respectively.
</p>
</dd>
<dt><var class="var">timestamp</var></dt>
<dd><p>The time at which the event occurred, as an integer number of
milliseconds since a system-dependent initial time.
</p>
</dd>
<dt><var class="var">object</var></dt>
<dd><p>Either <code class="code">nil</code>, which means the event occurred on buffer text, or a
cons cell of the form (<var class="var">string</var>&nbsp;.&nbsp;<var class="var">string-pos</var>)<!-- /@w --> if there
is a string from a text property or an overlay at the event position.
</p>
<dl class="table">
<dt><var class="var">string</var></dt>
<dd><p>The string which was clicked on, including any properties.
</p>
</dd>
<dt><var class="var">string-pos</var></dt>
<dd><p>The position in the string where the click occurred.
</p></dd>
</dl>

</dd>
<dt><var class="var">text-pos</var></dt>
<dd><p>For clicks on a marginal area or on a fringe, this is the buffer
position of the first visible character in the corresponding line in
the window.  For clicks on the mode line, the header line or the tab
line, this is <code class="code">nil</code>.  For other events, it is the buffer position
closest to the click.
</p>
</dd>
<dt><var class="var">col</var>, <var class="var">row</var></dt>
<dd><p>These are the actual column and row coordinate numbers of the glyph
under the <var class="var">x</var>, <var class="var">y</var> position.  If <var class="var">x</var> lies beyond the last
column of actual text on its line, <var class="var">col</var> is reported by adding
fictional extra columns that have the default character width.
Row 0 is taken to be the header line if the window has one, or Row 1
if the window also has the tab line, or the topmost row of
the text area otherwise.  Column 0 is taken to be the leftmost
column of the text area for clicks on a window text area, or the
leftmost mode line or header line column for clicks there.  For clicks
on fringes or vertical borders, these have no meaningful data.  For
clicks on margins, <var class="var">col</var> is measured from the left edge of the
margin area and <var class="var">row</var> is measured from the top of the margin area.
</p>
</dd>
<dt><var class="var">image</var></dt>
<dd><p>If there is an image at the click location, this is the image object
as returned by <code class="code">find-image</code> (see <a class="pxref" href="Defining-Images.html">Defining Images</a>); otherwise
this is <code class="code">nil</code>.
</p>
</dd>
<dt><var class="var">dx</var>, <var class="var">dy</var></dt>
<dd><p>These are the pixel offsets of the click relative to the top left
corner of the <var class="var">object</var>&rsquo;s glyph that is the nearest one to the
click.  The relevant <var class="var">object</var>s can be either a buffer, or a string,
or an image, see above.  If <var class="var">object</var> is <code class="code">nil</code> or a string,
the coordinates are relative to the top left corner of the character
glyph clicked on.  Note that the offsets are always zero on text-mode
frames, when <var class="var">object</var> is <code class="code">nil</code>, since each glyph there is
considered to have exactly 1x1 pixel dimensions.
</p>
</dd>
<dt><var class="var">width</var>, <var class="var">height</var></dt>
<dd><p>If the click is on a character, either from buffer text or from
overlay or display string, these are the pixel width and height of
that character&rsquo;s glyph; otherwise they are dimensions of <var class="var">object</var>
clicked on.
</p></dd>
</dl>

<p>For clicks on a scroll bar, <var class="var">position</var> has this form:
</p>
<div class="example">
<pre class="example-preformatted">(<var class="var">window</var> <var class="var">area</var> (<var class="var">portion</var> . <var class="var">whole</var>) <var class="var">timestamp</var> <var class="var">part</var>)
</pre></div>

<dl class="table">
<dt><var class="var">window</var></dt>
<dd><p>The window whose scroll bar was clicked on.
</p>
</dd>
<dt><var class="var">area</var></dt>
<dd><p>This is the symbol <code class="code">vertical-scroll-bar</code>.
</p>
</dd>
<dt><var class="var">portion</var></dt>
<dd><p>The number of pixels from the top of the scroll bar to the click
position.  On some toolkits, including GTK+, Emacs cannot extract this
data, so the value is always <code class="code">0</code>.
</p>
</dd>
<dt><var class="var">whole</var></dt>
<dd><p>The total length, in pixels, of the scroll bar.  On some toolkits,
including GTK+, Emacs cannot extract this data, so the value is always
<code class="code">0</code>.
</p>
</dd>
<dt><var class="var">timestamp</var></dt>
<dd><p>The time at which the event occurred, in milliseconds.  On some
toolkits, including GTK+, Emacs cannot extract this data, so the value
is always <code class="code">0</code>.
</p>
</dd>
<dt><var class="var">part</var></dt>
<dd><p>The part of the scroll bar on which the click occurred.  It is one of
the symbols <code class="code">handle</code> (the scroll bar handle), <code class="code">above-handle</code>
(the area above the handle), <code class="code">below-handle</code> (the area below the
handle), <code class="code">up</code> (the up arrow at one end of the scroll bar), or
<code class="code">down</code> (the down arrow at one end of the scroll bar).
</p></dd>
</dl>

<p>For clicks on the frame&rsquo;s internal border (see <a class="pxref" href="Frame-Layout.html">Frame Layout</a>), the
frame&rsquo;s tool bar (see <a class="pxref" href="Tool-Bar.html">Tool bars</a>) or tab bar or menu bar,
<var class="var">position</var> has this form:
</p>
<div class="example">
<pre class="example-preformatted"> (<var class="var">frame</var> <var class="var">part</var> (<var class="var">X</var> . <var class="var">Y</var>) <var class="var">timestamp</var> <var class="var">object</var>)
</pre></div>

<dl class="table">
<dt><var class="var">frame</var></dt>
<dd><p>The frame whose internal border or tool bar or tab bar or menu bar was
clicked on.
</p>
</dd>
<dt><var class="var">part</var></dt>
<dd><p>The part of the frame which was clicked on.  This can be one
of the following:
</p>
<dl class="table">
<dt><a id="index-tool_002dbar-mouse-events"></a><span><code class="code">tool-bar</code><a class="copiable-link" href="#index-tool_002dbar-mouse-events"> &para;</a></span></dt>
<dd><p>The frame has a tool bar, and the event was in the tool-bar area.
</p>
</dd>
<dt><a id="index-tab_002dbar-mouse-events"></a><span><code class="code">tab-bar</code><a class="copiable-link" href="#index-tab_002dbar-mouse-events"> &para;</a></span></dt>
<dd><p>The frame has a tab bar, and the event was in the tab-bar area.
</p>
</dd>
<dt><a id="index-menu_002dbar-mouse-events"></a><span><code class="code">menu-bar</code><a class="copiable-link" href="#index-menu_002dbar-mouse-events"> &para;</a></span></dt>
<dd><p>The event was on the frame&rsquo;s menu bar area.  This kind of click event
can happen only on text-only frames or on X frames in a non-toolkit
build of Emacs.  (In toolkit builds of Emacs, menu-bar clicks are
handled by the toolkit, and are not visible to Emacs as click events.)
</p>
</dd>
<dt><code class="code">left-edge</code></dt>
<dt><code class="code">top-edge</code></dt>
<dt><code class="code">right-edge</code></dt>
<dt><code class="code">bottom-edge</code></dt>
<dd><p>The click was on the corresponding border at an offset of at least one
canonical character from the border&rsquo;s nearest corner.
</p>
</dd>
<dt><code class="code">top-left-corner</code></dt>
<dt><code class="code">top-right-corner</code></dt>
<dt><code class="code">bottom-right-corner</code></dt>
<dt><code class="code">bottom-left-corner</code></dt>
<dd><p>The click was on the corresponding corner of the internal border.
</p>
</dd>
<dt><code class="code">nil</code></dt>
<dd><p>The frame does not have an internal border, and the event was not on
the tab bar or the tool bar.  This usually happens on text-mode
frames.  This can also happen on GUI frames with internal border if
the frame doesn&rsquo;t have its <code class="code">drag-internal-border</code> parameter
(see <a class="pxref" href="Mouse-Dragging-Parameters.html">Mouse Dragging Parameters</a>) set to a non-<code class="code">nil</code> value.
</p></dd>
</dl>

</dd>
<dt><var class="var">object</var></dt>
<dd><p>This member is present only for clicks on the tab bar, and it is the
propertized string with information about the clicked button.
</p></dd>
</dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Drag-Events.html">Drag Events</a>, Previous: <a href="Mouse-Events.html">Mouse Events</a>, Up: <a href="Input-Events.html">Input Events</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
