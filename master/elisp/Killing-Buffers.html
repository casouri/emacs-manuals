<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 31.0.50.

Copyright Â© 1990-1996, 1998-2025 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Killing Buffers (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Killing Buffers (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Killing Buffers (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Buffers.html" rel="up" title="Buffers">
<link href="Indirect-Buffers.html" rel="next" title="Indirect Buffers">
<link href="Creating-Buffers.html" rel="prev" title="Creating Buffers">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Killing-Buffers">
<div class="nav-panel">
<p>
Next: <a href="Indirect-Buffers.html" accesskey="n" rel="next">Indirect Buffers</a>, Previous: <a href="Creating-Buffers.html" accesskey="p" rel="prev">Creating Buffers</a>, Up: <a href="Buffers.html" accesskey="u" rel="up">Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Killing-Buffers-1"><span>28.10 Killing Buffers<a class="copiable-link" href="#Killing-Buffers-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-killing-buffers"></a>
<a class="index-entry-id" id="index-buffers_002c-killing"></a>

<p><em class="dfn">Killing a buffer</em> makes its name unknown to Emacs and makes the
memory space it occupied available for other use.
</p>
<p>The buffer object for the buffer that has been killed remains in
existence as long as anything refers to it, but it is specially marked
so that you cannot make it current or display it.  Killed buffers retain
their identity, however; if you kill two distinct buffers, they remain
distinct according to <code class="code">eq</code> although both are dead.
</p>
<p>If you kill a buffer that is current or displayed in a window, Emacs
automatically selects or displays some other buffer instead.  This
means that killing a buffer can change the current buffer.  Therefore,
when you kill a buffer, you should also take the precautions
associated with changing the current buffer (unless you happen to know
that the buffer being killed isn&rsquo;t current).  See <a class="xref" href="Current-Buffer.html">The Current Buffer</a>.
</p>
<p>If you kill a buffer that is the base buffer of one or more indirect
buffers (see <a class="pxref" href="Indirect-Buffers.html">Indirect Buffers</a>),
the indirect buffers are automatically killed as well.
</p>
<a class="index-entry-id" id="index-live-buffer"></a>
<p>The <code class="code">buffer-name</code> of a buffer is <code class="code">nil</code> if, and only if,
the buffer is killed.  A buffer that has not been killed is called a
<em class="dfn">live</em> buffer.  To test whether a buffer is live or killed, use
the function <code class="code">buffer-live-p</code> (see below).
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-kill_002dbuffer"><span class="category-def">Command: </span><span><strong class="def-name">kill-buffer</strong> <var class="def-var-arguments">&amp;optional buffer-or-name</var><a class="copiable-link" href="#index-kill_002dbuffer"> &para;</a></span></dt>
<dd><p>This function kills the buffer <var class="var">buffer-or-name</var>, freeing all its
memory for other uses or to be returned to the operating system.  If
<var class="var">buffer-or-name</var> is <code class="code">nil</code> or omitted, it kills the current
buffer.
</p>
<p>Any processes that have this buffer as the <code class="code">process-buffer</code> are
sent the <code class="code">SIGHUP</code> (hangup) signal, which normally causes them
to terminate.  See <a class="xref" href="Signals-to-Processes.html">Sending Signals to Processes</a>.
</p>
<p>If the buffer is visiting a file and contains unsaved changes,
<code class="code">kill-buffer</code> asks the user to confirm before the buffer is killed.
It does this even if not called interactively.  To prevent the request
for confirmation, clear the modified flag before calling
<code class="code">kill-buffer</code>.  See <a class="xref" href="Buffer-Modification.html">Buffer Modification</a>.
</p>
<p>This function calls <code class="code">replace-buffer-in-windows</code> for cleaning up
all windows currently displaying the buffer to be killed.
</p>
<p>Killing a buffer that is already dead has no effect.
</p>
<p>This function returns <code class="code">t</code> if it actually killed the buffer.  It
returns <code class="code">nil</code> if the user refuses to confirm or if
<var class="var">buffer-or-name</var> was already dead.
</p>
<div class="example smallexample">
<pre class="example-preformatted">(kill-buffer &quot;foo.unchanged&quot;)
     &rArr; t
(kill-buffer &quot;foo.changed&quot;)

---------- Buffer: Minibuffer ----------
Buffer foo.changed modified; kill anyway? (yes or no) <kbd class="kbd">yes</kbd>
---------- Buffer: Minibuffer ----------

     &rArr; t
</pre></div>
</dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-kill_002dbuffer_002dquery_002dfunctions"><span class="category-def">Variable: </span><span><strong class="def-name">kill-buffer-query-functions</strong><a class="copiable-link" href="#index-kill_002dbuffer_002dquery_002dfunctions"> &para;</a></span></dt>
<dd><p>Before confirming unsaved changes, <code class="code">kill-buffer</code> calls the functions
in the list <code class="code">kill-buffer-query-functions</code>, in order of appearance,
with no arguments.  The buffer being killed is the current buffer when
they are called.  The idea of this feature is that these functions will
ask for confirmation from the user.  If any of them returns <code class="code">nil</code>,
<code class="code">kill-buffer</code> spares the buffer&rsquo;s life.
</p>
<p>This hook is not run for internal or temporary buffers created by
<code class="code">get-buffer-create</code> or <code class="code">generate-new-buffer</code> with a
non-<code class="code">nil</code> argument <var class="var">inhibit-buffer-hooks</var>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-kill_002dbuffer_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">kill-buffer-hook</strong><a class="copiable-link" href="#index-kill_002dbuffer_002dhook"> &para;</a></span></dt>
<dd><p>This is a normal hook run by <code class="code">kill-buffer</code> after asking all the
questions it is going to ask, just before actually killing the buffer.
The buffer to be killed is current when the hook functions run.
See <a class="xref" href="Hooks.html">Hooks</a>.  This variable is a permanent local, so its local binding
is not cleared by changing major modes.
</p>
<p>This hook is not run for internal or temporary buffers created by
<code class="code">get-buffer-create</code> or <code class="code">generate-new-buffer</code> with a
non-<code class="code">nil</code> argument <var class="var">inhibit-buffer-hooks</var>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-buffer_002doffer_002dsave"><span class="category-def">User Option: </span><span><strong class="def-name">buffer-offer-save</strong><a class="copiable-link" href="#index-buffer_002doffer_002dsave"> &para;</a></span></dt>
<dd><p>This variable, if non-<code class="code">nil</code> in a particular buffer, tells
<code class="code">save-buffers-kill-emacs</code> to offer to save that buffer, just as
it offers to save file-visiting buffers.  If <code class="code">save-some-buffers</code>
is called with the second optional argument set to <code class="code">t</code>, it will
also offer to save the buffer.  Lastly, if this variable is set to the
symbol <code class="code">always</code>, both <code class="code">save-buffers-kill-emacs</code> and
<code class="code">save-some-buffers</code> will always offer to save.  See <a class="xref" href="Saving-Buffers.html#Definition-of-save_002dsome_002dbuffers">Definition of save-some-buffers</a>.  The variable <code class="code">buffer-offer-save</code>
automatically becomes buffer-local when set for any reason.
See <a class="xref" href="Buffer_002dLocal-Variables.html">Buffer-Local Variables</a>.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-buffer_002dsave_002dwithout_002dquery"><span class="category-def">Variable: </span><span><strong class="def-name">buffer-save-without-query</strong><a class="copiable-link" href="#index-buffer_002dsave_002dwithout_002dquery"> &para;</a></span></dt>
<dd><p>This variable, if non-<code class="code">nil</code> in a particular buffer, tells
<code class="code">save-buffers-kill-emacs</code> and <code class="code">save-some-buffers</code> to save
this buffer (if it&rsquo;s modified) without asking the user.  The variable
automatically becomes buffer-local when set for any reason.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-buffer_002dlive_002dp"><span class="category-def">Function: </span><span><strong class="def-name">buffer-live-p</strong> <var class="def-var-arguments">object</var><a class="copiable-link" href="#index-buffer_002dlive_002dp"> &para;</a></span></dt>
<dd><p>This function returns <code class="code">t</code> if <var class="var">object</var> is a live buffer (a
buffer which has not been killed), <code class="code">nil</code> otherwise.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Indirect-Buffers.html">Indirect Buffers</a>, Previous: <a href="Creating-Buffers.html">Creating Buffers</a>, Up: <a href="Buffers.html">Buffers</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
