<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 31.0.50.

Copyright Â© 1990-1996, 1998-2026 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Sticky Properties (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Sticky Properties (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Sticky Properties (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Text-Properties.html" rel="up" title="Text Properties">
<link href="Lazy-Properties.html" rel="next" title="Lazy Properties">
<link href="Format-Properties.html" rel="prev" title="Format Properties">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Sticky-Properties">
<div class="nav-panel">
<p>
Next: <a href="Lazy-Properties.html" accesskey="n" rel="next">Lazy Computation of Text Properties</a>, Previous: <a href="Format-Properties.html" accesskey="p" rel="prev">Formatted Text Properties</a>, Up: <a href="Text-Properties.html" accesskey="u" rel="up">Text Properties</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Stickiness-of-Text-Properties"><span>33.19.6 Stickiness of Text Properties<a class="copiable-link" href="#Stickiness-of-Text-Properties"> &para;</a></span></h4>
<a class="index-entry-id" id="index-sticky-text-properties"></a>
<a class="index-entry-id" id="index-inheritance_002c-text-property"></a>

<p>Self-inserting characters, the ones that get inserted into a buffer
when the user types them (see <a class="pxref" href="Commands-for-Insertion.html">User-Level Insertion Commands</a>), normally
take on the same properties as the preceding character.  This is
called <em class="dfn">inheritance</em> of properties.
</p>
<p>By contrast, a Lisp program can do insertion with inheritance or without,
depending on the choice of insertion primitive.  The ordinary text
insertion functions, such as <code class="code">insert</code>, do not inherit any
properties.  They insert text with precisely the properties of the
string being inserted, and no others.  This is correct for programs
that copy text from one context to another&mdash;for example, into or out
of the kill ring.  To insert with inheritance, use the special
primitives described in this section.  Self-inserting characters
inherit properties because they work using these primitives.
</p>
<a class="index-entry-id" id="index-front_002dsticky-text-property"></a>
<a class="index-entry-id" id="index-rear_002dnonsticky-text-property"></a>
<p>When you do insertion with inheritance, <em class="emph">which</em> properties are
inherited, and from where, depends on which properties are <em class="dfn">sticky</em>.
Insertion after a character inherits those of its properties that are
<em class="dfn">rear-sticky</em>.  Insertion before a character inherits those of its
properties that are <em class="dfn">front-sticky</em>.  When both sides offer different
sticky values for the same property, the previous character&rsquo;s value
takes precedence.
</p>
<p>By default, a text property is rear-sticky but not front-sticky; thus,
the default is to inherit all the properties of the preceding character,
and nothing from the following character.
</p>
<p>You can control the stickiness of various text properties with two
specific text properties, <code class="code">front-sticky</code> and <code class="code">rear-nonsticky</code>,
and with the variable <code class="code">text-property-default-nonsticky</code>.  You can
use the variable to specify a different default for a given property.
You can use those two text properties to make any specific properties
sticky or nonsticky in any particular part of the text.
</p>
<p>If a character&rsquo;s <code class="code">front-sticky</code> property is <code class="code">t</code>, then all
its properties are front-sticky.  If the <code class="code">front-sticky</code> property is
a list, then the sticky properties of the character are those whose
names are in the list.  For example, if a character has a
<code class="code">front-sticky</code> property whose value is <code class="code">(face read-only)</code>,
then insertion before the character can inherit its <code class="code">face</code> property
and its <code class="code">read-only</code> property, but no others.
</p>
<p>The <code class="code">rear-nonsticky</code> property works the opposite way.  Most
properties are rear-sticky by default, so the <code class="code">rear-nonsticky</code>
property says which properties are <em class="emph">not</em> rear-sticky.  If a
character&rsquo;s <code class="code">rear-nonsticky</code> property is <code class="code">t</code>, then none of its
properties are rear-sticky.  If the <code class="code">rear-nonsticky</code> property is a
list, properties are rear-sticky <em class="emph">unless</em> their names are in the
list.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-text_002dproperty_002ddefault_002dnonsticky"><span class="category-def">Variable: </span><span><strong class="def-name">text-property-default-nonsticky</strong><a class="copiable-link" href="#index-text_002dproperty_002ddefault_002dnonsticky"> &para;</a></span></dt>
<dd><p>This buffer-local variable holds an alist which defines the default
rear-stickiness of various text properties in the buffer.  Each element
has the form <code class="code">(<var class="var">property</var> . <var class="var">nonstickiness</var>)</code>, and it
defines the stickiness of a particular text property, <var class="var">property</var>.
</p>
<p>If <var class="var">nonstickiness</var> is non-<code class="code">nil</code>, this means that the property
<var class="var">property</var> is rear-nonsticky by default.  Since all properties are
front-nonsticky by default, this makes <var class="var">property</var> nonsticky in both
directions by default.
</p>
<p>The text properties <code class="code">front-sticky</code> and <code class="code">rear-nonsticky</code>, when
used, take precedence over the default <var class="var">nonstickiness</var> specified in
<code class="code">text-property-default-nonsticky</code>.
</p></dd></dl>

<p>Here are the functions that insert text with inheritance of properties:
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-insert_002dand_002dinherit"><span class="category-def">Function: </span><span><strong class="def-name">insert-and-inherit</strong> <var class="def-var-arguments">&amp;rest strings</var><a class="copiable-link" href="#index-insert_002dand_002dinherit"> &para;</a></span></dt>
<dd><p>Insert the strings <var class="var">strings</var>, just like the function <code class="code">insert</code>,
but inherit any sticky properties from the adjoining text.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-insert_002dbefore_002dmarkers_002dand_002dinherit"><span class="category-def">Function: </span><span><strong class="def-name">insert-before-markers-and-inherit</strong> <var class="def-var-arguments">&amp;rest strings</var><a class="copiable-link" href="#index-insert_002dbefore_002dmarkers_002dand_002dinherit"> &para;</a></span></dt>
<dd><p>Insert the strings <var class="var">strings</var>, just like the function
<code class="code">insert-before-markers</code>, but inherit any sticky properties from the
adjoining text.
</p></dd></dl>

<p>See <a class="xref" href="Insertion.html">Inserting Text</a>, for the ordinary insertion functions which do not
inherit.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Lazy-Properties.html">Lazy Computation of Text Properties</a>, Previous: <a href="Format-Properties.html">Formatted Text Properties</a>, Up: <a href="Text-Properties.html">Text Properties</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
