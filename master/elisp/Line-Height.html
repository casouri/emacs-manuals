<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 31.0.50.

Copyright Â© 1990-1996, 1998-2026 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Line Height (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Line Height (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Line Height (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Display.html" rel="up" title="Display">
<link href="Faces.html" rel="next" title="Faces">
<link href="Size-of-Displayed-Text.html" rel="prev" title="Size of Displayed Text">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Line-Height">
<div class="nav-panel">
<p>
Next: <a href="Faces.html" accesskey="n" rel="next">Faces</a>, Previous: <a href="Size-of-Displayed-Text.html" accesskey="p" rel="prev">Size of Displayed Text</a>, Up: <a href="Display.html" accesskey="u" rel="up">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Line-Height-1"><span>42.11 Line Height<a class="copiable-link" href="#Line-Height-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-line-height-1"></a>
<a class="index-entry-id" id="index-height-of-a-line"></a>

<p>The total height of each display line consists of the height of the
contents of the line, plus optional additional vertical line spacing
above or below the display line.
</p>
<p>The height of the line contents is the maximum height of any character
or image on that display line, including the final newline if there is
one.  (A display line that is continued doesn&rsquo;t include a final
newline.)  That is the default line height, if you do nothing to specify
a greater height.  (In the most common case, this equals the height of
the corresponding frame&rsquo;s default font, see <a class="ref" href="Frame-Font.html">Frame Font</a>.)
</p>
<p>There are several ways to explicitly specify a larger line height,
either by specifying an absolute height for the display line, or by
specifying vertical space.  However, no matter what you specify, the
actual line height can never be less than the default.
</p>
<a class="index-entry-id" id="index-line_002dheight-_0028text-property_0029-1"></a>
<p>A newline can have a <code class="code">line-height</code> text or overlay property
that controls the total height of the display line ending in that
newline.  The property value can be one of several forms:
</p>
<dl class="table">
<dt><code class="code">t</code></dt>
<dd><p>If the property value is <code class="code">t</code>, the newline character has no
effect on the displayed height of the line&mdash;the visible contents
alone determine the height.  The <code class="code">line-spacing</code> property of the
newline, described below, is also ignored in this case.  This is
useful for tiling small images (or image slices) without adding blank
areas between the images.
</p>
</dd>
<dt><code class="code">(<var class="var">height</var> <var class="var">total</var>)</code></dt>
<dd><p>If the property value is a list of the form shown, that adds extra
space <em class="emph">below</em> the display line.  First Emacs uses <var class="var">height</var> as
a height spec to control extra space <em class="emph">above</em> the line; then it
adds enough space <em class="emph">below</em> the line to bring the total line height
up to <var class="var">total</var>.  In this case, any value of <code class="code">line-spacing</code>
property for the newline is ignored.
</p></dd>
</dl>

<a class="index-entry-id" id="index-height-spec"></a>
<p>Any other kind of property value is a height spec, which translates
into a number&mdash;the specified line height.  There are several ways to
write a height spec; here&rsquo;s how each of them translates into a number:
</p>
<dl class="table">
<dt><code class="code"><var class="var">integer</var></code></dt>
<dd><p>If the height spec is a positive integer, the height value is that integer.
</p></dd>
<dt><code class="code"><var class="var">float</var></code></dt>
<dd><p>If the height spec is a float, <var class="var">float</var>, the numeric height value
is <var class="var">float</var> times the frame&rsquo;s default line height.
</p></dd>
<dt><code class="code">(<var class="var">face</var> . <var class="var">ratio</var>)</code></dt>
<dd><p>If the height spec is a cons of the format shown, the numeric height
is <var class="var">ratio</var> times the height of face <var class="var">face</var>.  <var class="var">ratio</var> can
be any type of number, or <code class="code">nil</code> which means a ratio of 1.
If <var class="var">face</var> is <code class="code">t</code>, it refers to the current face.
</p></dd>
<dt><code class="code">(nil . <var class="var">ratio</var>)</code></dt>
<dd><p>If the height spec is a cons of the format shown, the numeric height
is <var class="var">ratio</var> times the height of the contents of the line.
</p></dd>
</dl>

<p>Thus, any valid height spec determines the height in pixels, one way
or another.  If the line contents&rsquo; height is less than that, Emacs
adds extra vertical space above the line to achieve the specified
total height.
</p>
<p>If you don&rsquo;t specify the <code class="code">line-height</code> property, the line&rsquo;s
height consists of the contents&rsquo; height plus the line spacing.
There are several ways to specify the line spacing for different
parts of Emacs text.
</p>
<p>On graphical terminals, you can specify the line spacing for all
lines in a frame, using the <code class="code">line-spacing</code> frame parameter
(see <a class="pxref" href="Layout-Parameters.html">Layout Parameters</a>).  However, if the default value of
<code class="code">line-spacing</code> is non-<code class="code">nil</code>, it overrides the
frame&rsquo;s <code class="code">line-spacing</code> parameter.  An integer specifies the
number of pixels put below lines.  A floating-point number specifies
the spacing relative to the frame&rsquo;s default line height.
</p>
<a class="index-entry-id" id="index-line_002dspacing"></a>
<p>You can specify the line spacing for all lines in a buffer via the
buffer-local <code class="code">line-spacing</code> variable.  An integer specifies
the number of pixels put below lines.  A floating-point number
specifies the spacing relative to the default frame line height.  This
overrides line spacings specified for the frame.
</p>
<a class="index-entry-id" id="index-line_002dspacing-_0028text-property_0029-1"></a>
<p>Finally, a newline can have a <code class="code">line-spacing</code> text or overlay
property that can enlarge the default frame line spacing and the
buffer local <code class="code">line-spacing</code> variable: if its value is larger than
the buffer or frame defaults, that larger value is used instead, for
the display line ending in that newline (unless the newline also has
the <code class="code">line-height</code> property whose value is one of the special
values which cause <code class="code">line-spacing</code> to be ignored, see above).
</p>
<p>One way or another, these mechanisms specify a Lisp value for the
spacing of each line.  The value is a height spec, and it translates
into a Lisp value as described above.  However, in this case the
numeric height value specifies the line spacing, rather than the line
height.
</p>
<p>On text terminals, the line spacing cannot be altered.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Faces.html">Faces</a>, Previous: <a href="Size-of-Displayed-Text.html">Size of Displayed Text</a>, Up: <a href="Display.html">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
