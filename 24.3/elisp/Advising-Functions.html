<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.3.

Copyright © 1990-1996, 1998-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Advising Functions (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Advising Functions (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Advising Functions (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="Debugging.html" rel="next" title="Debugging">
<link href="Byte-Compilation.html" rel="prev" title="Byte Compilation">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="chapter-level-extent" id="Advising-Functions">
<div class="nav-panel">
<p>
Next: <a href="Debugging.html" accesskey="n" rel="next">Debugging Lisp Programs</a>, Previous: <a href="Byte-Compilation.html" accesskey="p" rel="prev">Byte Compilation</a>, Up: <a href="index.html" accesskey="u" rel="up">Emacs Lisp</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h2 class="chapter" id="Advising-Emacs-Lisp-Functions"><span>17 Advising Emacs Lisp Functions<a class="copiable-link" href="#Advising-Emacs-Lisp-Functions"> &para;</a></span></h2>
<a class="index-entry-id" id="index-advising-functions"></a>

<p>The <em class="dfn">advice</em> feature lets you add to the existing definition of
a function, by <em class="dfn">advising the function</em>.  This is a cleaner method
for a library to customize functions defined within Emacs&mdash;cleaner
than redefining the whole function.
</p>
<a class="index-entry-id" id="index-piece-of-advice"></a>
<p>Each function can have multiple <em class="dfn">pieces of advice</em>, each of
which can be separately defined and then <em class="dfn">enabled</em> or
<em class="dfn">disabled</em>.  All the enabled pieces of advice for any given
function actually take effect when you <em class="dfn">activate advice</em> for that
function, or when you define or redefine the function.  Note that
enabling a piece of advice and activating advice for a function are
not the same thing.
</p>
<p>Advice is useful for altering the behavior of existing calls to an
existing function.  If you want the new behavior for new function
calls or new key bindings, you should define a new function or
command, and have it use the existing function as a subroutine.
</p>
<p>Advising a function can cause confusion in debugging, since people
who debug calls to the original function may not notice that it has
been modified with advice.  Therefore, if you have the possibility to
change the code of that function to run a hook, please solve the
problem that way.  Advice should be reserved for the cases where you
cannot get the function changed.  In particular, Emacs&rsquo;s own source
files should not put advice on functions in Emacs.  There are
currently a few exceptions to this convention, but we aim to correct
them.
</p>
<p>Unless you know what you are doing, do <em class="emph">not</em> advise a primitive
(see <a class="pxref" href="What-Is-a-Function.html">What Is a Function?</a>).  Some primitives are used by the advice
mechanism; advising them could cause an infinite recursion.  Also,
many primitives are called directly from C code.  Calls to the
primitive from Lisp code will take note of the advice, but calls from
C code will ignore the advice.
</p>

<ul class="mini-toc">
<li><a href="Simple-Advice.html" accesskey="1">A Simple Advice Example</a></li>
<li><a href="Defining-Advice.html" accesskey="2">Defining Advice</a></li>
<li><a href="Around_002dAdvice.html" accesskey="3">Around-Advice</a></li>
<li><a href="Computed-Advice.html" accesskey="4">Computed Advice</a></li>
<li><a href="Activation-of-Advice.html" accesskey="5">Activation of Advice</a></li>
<li><a href="Enabling-Advice.html" accesskey="6">Enabling and Disabling Advice</a></li>
<li><a href="Preactivation.html" accesskey="7">Preactivation</a></li>
<li><a href="Argument-Access-in-Advice.html" accesskey="8">Argument Access in Advice</a></li>
<li><a href="Combined-Definition.html" accesskey="9">The Combined Definition</a></li>
</ul>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Debugging.html">Debugging Lisp Programs</a>, Previous: <a href="Byte-Compilation.html">Byte Compilation</a>, Up: <a href="index.html">Emacs Lisp</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
