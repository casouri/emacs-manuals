<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.3.

Copyright © 1990-1996, 1998-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Forcing Redisplay (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Forcing Redisplay (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Forcing Redisplay (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Display.html" rel="up" title="Display">
<link href="Truncation.html" rel="next" title="Truncation">
<link href="Refresh-Screen.html" rel="prev" title="Refresh Screen">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Forcing-Redisplay">
<div class="nav-panel">
<p>
Next: <a href="Truncation.html" accesskey="n" rel="next">Truncation</a>, Previous: <a href="Refresh-Screen.html" accesskey="p" rel="prev">Refreshing the Screen</a>, Up: <a href="Display.html" accesskey="u" rel="up">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Forcing-Redisplay-1"><span>38.2 Forcing Redisplay<a class="copiable-link" href="#Forcing-Redisplay-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-forcing-redisplay"></a>

<p>Emacs normally tries to redisplay the screen whenever it waits for
input.  With the following function, you can request an immediate
attempt to redisplay, in the middle of Lisp code, without actually
waiting for input.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-redisplay"><span class="category-def">Function: </span><span><strong class="def-name">redisplay</strong> <var class="def-var-arguments">&amp;optional force</var><a class="copiable-link" href="#index-redisplay"> &para;</a></span></dt>
<dd><p>This function tries immediately to redisplay.  The optional argument
<var class="var">force</var>, if non-<code class="code">nil</code>, forces the redisplay to be performed,
instead of being preempted, even if input is pending and the variable
<code class="code">redisplay-dont-pause</code> is <code class="code">nil</code> (see below).  If
<code class="code">redisplay-dont-pause</code> is non-<code class="code">nil</code> (the default), this
function redisplays in any case, i.e., <var class="var">force</var> does nothing.
</p>
<p>The function returns <code class="code">t</code> if it actually tried to redisplay, and
<code class="code">nil</code> otherwise.  A value of <code class="code">t</code> does not mean that
redisplay proceeded to completion; it could have been preempted by
newly arriving input.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-redisplay_002ddont_002dpause"><span class="category-def">Variable: </span><span><strong class="def-name">redisplay-dont-pause</strong><a class="copiable-link" href="#index-redisplay_002ddont_002dpause"> &para;</a></span></dt>
<dd><p>If this variable is <code class="code">nil</code>, arriving input events preempt
redisplay; Emacs avoids starting a redisplay, and stops any redisplay
that is in progress, until the input has been processed.  In
particular, <code class="code">(redisplay)</code> returns <code class="code">nil</code> without actually
redisplaying, if there is pending input.
</p>
<p>The default value is <code class="code">t</code>, which means that pending input does not
preempt redisplay.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-redisplay_002dpreemption_002dperiod"><span class="category-def">Variable: </span><span><strong class="def-name">redisplay-preemption-period</strong><a class="copiable-link" href="#index-redisplay_002dpreemption_002dperiod"> &para;</a></span></dt>
<dd><p>If <code class="code">redisplay-dont-pause</code> is <code class="code">nil</code>, this variable specifies
how many seconds Emacs waits between checks for new input during
redisplay; if input arrives during this interval, redisplay stops and
the input is processed.  The default value is 0.1; if the value is
<code class="code">nil</code>, Emacs does not check for input during redisplay.
</p>
<p>This variable has no effect when <code class="code">redisplay-dont-pause</code> is
non-<code class="code">nil</code> (the default).
</p></dd></dl>

<p>Although <code class="code">redisplay</code> tries immediately to redisplay, it does
not change how Emacs decides which parts of its frame(s) to redisplay.
By contrast, the following function adds certain windows to the
pending redisplay work (as if their contents had completely changed),
but does not immediately try to perform redisplay.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-force_002dwindow_002dupdate"><span class="category-def">Function: </span><span><strong class="def-name">force-window-update</strong> <var class="def-var-arguments">&amp;optional object</var><a class="copiable-link" href="#index-force_002dwindow_002dupdate"> &para;</a></span></dt>
<dd><p>This function forces some or all windows to be updated the next time
Emacs does a redisplay.  If <var class="var">object</var> is a window, that window is
to be updated.  If <var class="var">object</var> is a buffer or buffer name, all
windows displaying that buffer are to be updated.  If <var class="var">object</var> is
<code class="code">nil</code> (or omitted), all windows are to be updated.
</p>
<p>This function does not do a redisplay immediately; Emacs does that as
it waits for input, or when the function <code class="code">redisplay</code> is called.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Truncation.html">Truncation</a>, Previous: <a href="Refresh-Screen.html">Refreshing the Screen</a>, Up: <a href="Display.html">Emacs Display</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
