<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.3.

Copyright © 1990-1996, 1998-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Defining Faces (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Defining Faces (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Defining Faces (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Faces.html" rel="up" title="Faces">
<link href="Attribute-Functions.html" rel="next" title="Attribute Functions">
<link href="Face-Attributes.html" rel="prev" title="Face Attributes">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Defining-Faces">
<div class="nav-panel">
<p>
Next: <a href="Attribute-Functions.html" accesskey="n" rel="next">Face Attribute Functions</a>, Previous: <a href="Face-Attributes.html" accesskey="p" rel="prev">Face Attributes</a>, Up: <a href="Faces.html" accesskey="u" rel="up">Faces</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Defining-Faces-1"><span>38.12.2 Defining Faces<a class="copiable-link" href="#Defining-Faces-1"> &para;</a></span></h4>

<p>The usual way to define a face is through the <code class="code">defface</code> macro.
This macro defines a face name, and associates that name with a set of
face attributes.  It also sets up the face so that the user can
customize it via the Customize interface (see <a class="pxref" href="Customization.html">Customization Settings</a>).
</p>
<dl class="first-deffn first-defmac-alias-first-deffn">
<dt class="deffn defmac-alias-deffn" id="index-defface"><span class="category-def">Macro: </span><span><strong class="def-name">defface</strong> <var class="def-var-arguments">face spec doc [keyword value]&hellip;</var><a class="copiable-link" href="#index-defface"> &para;</a></span></dt>
<dd><p>This macro declares <var class="var">face</var> as a customizable face whose default
attributes are given by <var class="var">spec</var>.  You should not quote the symbol
<var class="var">face</var>, and it should not end in &lsquo;<samp class="samp">-face</samp>&rsquo; (that would be
redundant).  The argument <var class="var">doc</var> is a documentation string for the
face.  The additional <var class="var">keyword</var> arguments have the same meanings
as in <code class="code">defgroup</code> and <code class="code">defcustom</code> (see <a class="pxref" href="Common-Keywords.html">Common Item Keywords</a>).
</p>
<p>When <code class="code">defface</code> executes, it defines the face according to
<var class="var">spec</var>, then uses any customizations that were read from the
init file (see <a class="pxref" href="Init-File.html">The Init File</a>) to override that specification.
</p>
<p>When you evaluate a <code class="code">defface</code> form with <kbd class="kbd">C-M-x</kbd> in Emacs
Lisp mode (<code class="code">eval-defun</code>), a special feature of <code class="code">eval-defun</code>
overrides any customizations of the face.  This way, the face reflects
exactly what the <code class="code">defface</code> says.
</p>
<a class="index-entry-id" id="index-face-specification"></a>
<p>The <var class="var">spec</var> argument is a <em class="dfn">face specification</em>, which states
how the face should appear on different kinds of terminals.  It should
be an alist whose elements each have the form
</p>
<div class="example">
<pre class="example-preformatted">(<var class="var">display</var> . <var class="var">plist</var>)
</pre></div>

<p><var class="var">display</var> specifies a class of terminals (see below).  <var class="var">plist</var>
is a property list of face attributes and their values, specifying how
the face appears on such terminals.  For backward compatibility, you
can also write an element as <code class="code">(<var class="var">display</var> <var class="var">plist</var>)</code>.
</p>
<p>The <var class="var">display</var> part of an element of <var class="var">spec</var> determines which
terminals the element matches.  If more than one element of <var class="var">spec</var>
matches a given terminal, the first element that matches is the one
used for that terminal.  There are three possibilities for
<var class="var">display</var>:
</p>
<dl class="table">
<dt><code class="code">default</code></dt>
<dd><p>This element of <var class="var">spec</var> doesn&rsquo;t match any terminal; instead, it
specifies defaults that apply to all terminals.  This element, if
used, must be the first element of <var class="var">spec</var>.  Each of the following
elements can override any or all of these defaults.
</p>
</dd>
<dt><code class="code">t</code></dt>
<dd><p>This element of <var class="var">spec</var> matches all terminals.  Therefore, any
subsequent elements of <var class="var">spec</var> are never used.  Normally <code class="code">t</code>
is used in the last (or only) element of <var class="var">spec</var>.
</p>
</dd>
<dt>a list</dt>
<dd><p>If <var class="var">display</var> is a list, each element should have the form
<code class="code">(<var class="var">characteristic</var> <var class="var">value</var>&hellip;)</code>.  Here
<var class="var">characteristic</var> specifies a way of classifying terminals, and the
<var class="var">value</var>s are possible classifications which <var class="var">display</var> should
apply to.  Here are the possible values of <var class="var">characteristic</var>:
</p>
<dl class="table">
<dt><code class="code">type</code></dt>
<dd><p>The kind of window system the terminal uses&mdash;either <code class="code">graphic</code>
(any graphics-capable display), <code class="code">x</code>, <code class="code">pc</code> (for the MS-DOS
console), <code class="code">w32</code> (for MS Windows 9X/NT/2K/XP), or <code class="code">tty</code> (a
non-graphics-capable display).  See <a class="xref" href="Window-Systems.html">window-system</a>.
</p>
</dd>
<dt><code class="code">class</code></dt>
<dd><p>What kinds of colors the terminal supports&mdash;either <code class="code">color</code>,
<code class="code">grayscale</code>, or <code class="code">mono</code>.
</p>
</dd>
<dt><code class="code">background</code></dt>
<dd><p>The kind of background&mdash;either <code class="code">light</code> or <code class="code">dark</code>.
</p>
</dd>
<dt><code class="code">min-colors</code></dt>
<dd><p>An integer that represents the minimum number of colors the terminal
should support.  This matches a terminal if its
<code class="code">display-color-cells</code> value is at least the specified integer.
</p>
</dd>
<dt><code class="code">supports</code></dt>
<dd><p>Whether or not the terminal can display the face attributes given in
<var class="var">value</var>&hellip; (see <a class="pxref" href="Face-Attributes.html">Face Attributes</a>).  See <a class="xref" href="Display-Feature-Testing.html#Display-Face-Attribute-Testing">Display Face Attribute Testing</a>, for more information on exactly how this testing
is done.
</p></dd>
</dl>

<p>If an element of <var class="var">display</var> specifies more than one <var class="var">value</var> for
a given <var class="var">characteristic</var>, any of those values is acceptable.  If
<var class="var">display</var> has more than one element, each element should specify a
different <var class="var">characteristic</var>; then <em class="emph">each</em> characteristic of the
terminal must match one of the <var class="var">value</var>s specified for it in
<var class="var">display</var>.
</p></dd>
</dl>
</dd></dl>

<p>Here&rsquo;s how the standard face <code class="code">highlight</code> is defined:
</p>
<div class="example">
<pre class="example-preformatted">(defface highlight
  '((((class color) (min-colors 88) (background light))
     :background &quot;darkseagreen2&quot;)
    (((class color) (min-colors 88) (background dark))
     :background &quot;darkolivegreen&quot;)
    (((class color) (min-colors 16) (background light))
     :background &quot;darkseagreen2&quot;)
    (((class color) (min-colors 16) (background dark))
     :background &quot;darkolivegreen&quot;)
    (((class color) (min-colors 8))
     :background &quot;green&quot; :foreground &quot;black&quot;)
    (t :inverse-video t))
  &quot;Basic face for highlighting.&quot;
  :group 'basic-faces)
</pre></div>

<p>Internally, Emacs stores the face&rsquo;s default specification in its
<code class="code">face-defface-spec</code> symbol property (see <a class="pxref" href="Symbol-Properties.html">Symbol Properties</a>).
The <code class="code">saved-face</code> property stores the face specification saved by
the user, using the customization buffer; the <code class="code">customized-face</code>
property stores the face specification customized for the current
session, but not saved; and the <code class="code">theme-face</code> property stores an
alist associating the active customization settings and Custom themes
with their specifications for that face.  The face&rsquo;s documentation
string is stored in the <code class="code">face-documentation</code> property.  But
normally you should not try to set any of these properties directly.
See <a class="xref" href="Applying-Customizations.html">Applying Customizations</a>, for the <code class="code">custom-set-faces</code>
function, which is used to apply customized face settings.
</p>
<p>People are sometimes tempted to create variables whose values
specify a face to use.  In the vast majority of cases, this is not
necessary; it is preferable to simply use faces directly.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Attribute-Functions.html">Face Attribute Functions</a>, Previous: <a href="Face-Attributes.html">Face Attributes</a>, Up: <a href="Faces.html">Faces</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
