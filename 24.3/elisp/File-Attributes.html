<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.3.

Copyright © 1990-1996, 1998-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>File Attributes (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="File Attributes (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="File Attributes (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Information-about-Files.html" rel="up" title="Information about Files">
<link href="Locating-Files.html" rel="next" title="Locating Files">
<link href="Truenames.html" rel="prev" title="Truenames">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="File-Attributes">
<div class="nav-panel">
<p>
Next: <a href="Locating-Files.html" accesskey="n" rel="next">How to Locate Files in Standard Places</a>, Previous: <a href="Truenames.html" accesskey="p" rel="prev">Truenames</a>, Up: <a href="Information-about-Files.html" accesskey="u" rel="up">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Other-Information-about-Files"><span>25.6.4 Other Information about Files<a class="copiable-link" href="#Other-Information-about-Files"> &para;</a></span></h4>

<p>This section describes the functions for getting detailed
information about a file, other than its contents.  This information
includes the mode bits that control access permissions, the owner and
group numbers, the number of names, the inode number, the size, and
the times of access and modification.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dmodes"><span class="category-def">Function: </span><span><strong class="def-name">file-modes</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dmodes"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-file-permissions"></a>
<a class="index-entry-id" id="index-permissions_002c-file"></a>
<a class="index-entry-id" id="index-file-attributes"></a>
<a class="index-entry-id" id="index-file-modes"></a>
<p>This function returns the <em class="dfn">mode bits</em> describing the <em class="dfn">file
permissions</em> of <var class="var">filename</var>, as an integer.  It recursively follows
symbolic links in <var class="var">filename</var> at all levels.  If <var class="var">filename</var>
does not exist, the return value is <code class="code">nil</code>.
</p>
<p>See <a data-manual="coreutils" href="https://www.gnu.org/software/coreutils/manual/html_node/File-Permissions.html#File-Permissions">File Permissions</a> in <cite class="cite">The <small class="sc">GNU</small> <code class="code">Coreutils</code>
Manual</cite>, for a description of mode bits.  If the low-order bit is 1,
then the file is executable by all users, if the second-lowest-order
bit is 1, then the file is writable by all users, etc.  The highest
value returnable is 4095 (7777 octal), meaning that everyone has read,
write, and execute permission, that the <abbr class="acronym">SUID</abbr> bit is set for
both others and group, and that the sticky bit is set.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-modes &quot;~/junk/diffs&quot;)
     &rArr; 492               ; <span class="r">Decimal integer.</span>
</pre></div><div class="group"><pre class="example-preformatted">(format &quot;%o&quot; 492)
     &rArr; &quot;754&quot;             ; <span class="r">Convert to octal.</span>
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(set-file-modes &quot;~/junk/diffs&quot; #o666)
     &rArr; nil
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">% ls -l diffs
  -rw-rw-rw-  1 lewis 0 3063 Oct 30 16:00 diffs
</pre></div></div>

<p>See <a class="xref" href="Changing-Files.html">Changing File Names and Attributes</a>, for functions that change file permissions,
such as <code class="code">set-file-modes</code>.
</p>
<a class="index-entry-id" id="index-MS_002dDOS-and-file-modes"></a>
<a class="index-entry-id" id="index-file-modes-and-MS_002dDOS"></a>
<p><strong class="strong">MS-DOS note:</strong> On MS-DOS, there is no such thing as an
&ldquo;executable&rdquo; file mode bit.  So <code class="code">file-modes</code> considers a file
executable if its name ends in one of the standard executable
extensions, such as <samp class="file">.com</samp>, <samp class="file">.bat</samp>, <samp class="file">.exe</samp>, and some
others.  Files that begin with the Unix-standard &lsquo;<samp class="samp">#!</samp>&rsquo; signature,
such as shell and Perl scripts, are also considered executable.
Directories are also reported as executable, for compatibility with
Unix.  These conventions are also followed by <code class="code">file-attributes</code>,
below.
</p></dd></dl>

<p>If the <var class="var">filename</var> argument to the next two functions is a
symbolic link, then these function do <em class="emph">not</em> replace it with its
target.  However, they both recursively follow symbolic links at all
levels of parent directories.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dnlinks"><span class="category-def">Function: </span><span><strong class="def-name">file-nlinks</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dnlinks"> &para;</a></span></dt>
<dd><p>This functions returns the number of names (i.e., hard links) that
file <var class="var">filename</var> has.  If the file does not exist, then this function
returns <code class="code">nil</code>.  Note that symbolic links have no effect on this
function, because they are not considered to be names of the files they
link to.
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">% ls -l foo*
-rw-rw-rw-  2 rms       4 Aug 19 01:27 foo
-rw-rw-rw-  2 rms       4 Aug 19 01:27 foo1
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">(file-nlinks &quot;foo&quot;)
     &rArr; 2
</pre></div><div class="group"><pre class="example-preformatted">(file-nlinks &quot;doesnt-exist&quot;)
     &rArr; nil
</pre></div></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dattributes"><span class="category-def">Function: </span><span><strong class="def-name">file-attributes</strong> <var class="def-var-arguments">filename &amp;optional id-format</var><a class="copiable-link" href="#index-file_002dattributes"> &para;</a></span></dt>
<dd><a class="anchor" id="Definition-of-file_002dattributes"></a><p>This function returns a list of attributes of file <var class="var">filename</var>.  If
the specified file cannot be opened, it returns <code class="code">nil</code>.
The optional parameter <var class="var">id-format</var> specifies the preferred format
of attributes <abbr class="acronym">UID</abbr> and <abbr class="acronym">GID</abbr> (see below)&mdash;the
valid values are <code class="code">'string</code> and <code class="code">'integer</code>.  The latter is
the default, but we plan to change that, so you should specify a
non-<code class="code">nil</code> value for <var class="var">id-format</var> if you use the returned
<abbr class="acronym">UID</abbr> or <abbr class="acronym">GID</abbr>.
</p>
<p>The elements of the list, in order, are:
</p>
<ol class="enumerate" start="0">
<li> <code class="code">t</code> for a directory, a string for a symbolic link (the name
linked to), or <code class="code">nil</code> for a text file.

</li><li> The number of names the file has.  Alternate names, also known as hard
links, can be created by using the <code class="code">add-name-to-file</code> function
(see <a class="pxref" href="Changing-Files.html">Changing File Names and Attributes</a>).

</li><li> The file&rsquo;s <abbr class="acronym">UID</abbr>, normally as a string.  However, if it does
not correspond to a named user, the value is an integer or a floating
point number.

</li><li> The file&rsquo;s <abbr class="acronym">GID</abbr>, likewise.

</li><li> The time of last access, as a list of four integers <code class="code">(<var class="var">sec-high</var>
<var class="var">sec-low</var> <var class="var">microsec</var> <var class="var">picosec</var>)</code>.  (This is similar to the
value of <code class="code">current-time</code>; see <a class="ref" href="Time-of-Day.html">Time of Day</a>.)  Note that on
some FAT-based filesystems, only the date of last access is recorded,
so this time will always hold the midnight of the day of last access.

</li><li> <a class="index-entry-id" id="index-modification-time-of-file"></a>
The time of last modification as a list of four integers (as above).
This is the last time when the file&rsquo;s contents were modified.

</li><li> The time of last status change as a list of four integers (as above).
This is the time of the last change to the file&rsquo;s access mode bits,
its owner and group, and other information recorded in the filesystem
for the file, beyond the file&rsquo;s contents.

</li><li> The size of the file in bytes.  If the size is too large to fit in a
Lisp integer, this is a floating point number.

</li><li> The file&rsquo;s modes, as a string of ten letters or dashes,
as in &lsquo;<samp class="samp">ls -l</samp>&rsquo;.

</li><li> <code class="code">t</code> if the file&rsquo;s <abbr class="acronym">GID</abbr> would change if file were
deleted and recreated; <code class="code">nil</code> otherwise.

</li><li> The file&rsquo;s inode number.  If possible, this is an integer.  If the
inode number is too large to be represented as an integer in Emacs
Lisp but dividing it by <em class="math">2^16</em> yields a representable integer,
then the value has the
form <code class="code">(<var class="var">high</var> . <var class="var">low</var>)</code>, where <var class="var">low</var> holds the low 16
bits.  If the inode number is too wide for even that, the value is of the form
<code class="code">(<var class="var">high</var> <var class="var">middle</var> . <var class="var">low</var>)</code>, where <code class="code">high</code> holds
the high bits, <var class="var">middle</var> the middle 24 bits, and <var class="var">low</var> the low
16 bits.

</li><li> The filesystem number of the device that the file is on.  Depending on
the magnitude of the value, this can be either an integer or a cons
cell, in the same manner as the inode number.  This element and the
file&rsquo;s inode number together give enough information to distinguish
any two files on the system&mdash;no two files can have the same values
for both of these numbers.
</li></ol>

<p>For example, here are the file attributes for <samp class="file">files.texi</samp>:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">(file-attributes &quot;files.texi&quot; 'string)
     &rArr;  (nil 1 &quot;lh&quot; &quot;users&quot;
          (20614 64019 50040 152000)
          (20000 23 0 0)
          (20614 64555 902289 872000)
          122295 &quot;-rw-rw-rw-&quot;
          nil  (5888 2 . 43978)
          (15479 . 46724))
</pre></div></div>

<p>and here is how the result is interpreted:
</p>
<dl class="table">
<dt><code class="code">nil</code></dt>
<dd><p>is neither a directory nor a symbolic link.
</p>
</dd>
<dt><code class="code">1</code></dt>
<dd><p>has only one name (the name <samp class="file">files.texi</samp> in the current default
directory).
</p>
</dd>
<dt><code class="code">&quot;lh&quot;</code></dt>
<dd><p>is owned by the user with name &quot;lh&quot;.
</p>
</dd>
<dt><code class="code">&quot;users&quot;</code></dt>
<dd><p>is in the group with name &quot;users&quot;.
</p>
</dd>
<dt><code class="code">(20614 64019 50040 152000)</code></dt>
<dd><p>was last accessed on October 23, 2012, at 20:12:03.050040152 UTC.
</p>
</dd>
<dt><code class="code">(20000 23 0 0)</code></dt>
<dd><p>was last modified on July 15, 2001, at 08:53:43 UTC.
</p>
</dd>
<dt><code class="code">(20614 64555 902289 872000)</code></dt>
<dd><p>last had its status changed on October 23, 2012, at 20:20:59.902289872 UTC.
</p>
</dd>
<dt><code class="code">122295</code></dt>
<dd><p>is 122295 bytes long.  (It may not contain 122295 characters, though,
if some of the bytes belong to multibyte sequences, and also if the
end-of-line format is CR-LF.)
</p>
</dd>
<dt><code class="code">&quot;-rw-rw-rw-&quot;</code></dt>
<dd><p>has a mode of read and write access for the owner, group, and world.
</p>
</dd>
<dt><code class="code">nil</code></dt>
<dd><p>would retain the same <abbr class="acronym">GID</abbr> if it were recreated.
</p>
</dd>
<dt><code class="code">(5888 2 . 43978)</code></dt>
<dd><p>has an inode number of 6473924464520138.
</p>
</dd>
<dt><code class="code">(15479 . 46724)</code></dt>
<dd><p>is on the file-system device whose number is 1014478468.
</p></dd>
</dl>
</dd></dl>

<a class="index-entry-id" id="index-SELinux-context"></a>
<p>SELinux is a Linux kernel feature which provides more sophisticated
file access controls than ordinary &ldquo;Unix-style&rdquo; file permissions.
If Emacs has been compiled with SELinux support on a system with
SELinux enabled, you can use the function <code class="code">file-selinux-context</code>
to retrieve a file&rsquo;s SELinux security context.  For the function
<code class="code">set-file-selinux-context</code>, see <a class="ref" href="Changing-Files.html">Changing File Names and Attributes</a>.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-file_002dselinux_002dcontext"><span class="category-def">Function: </span><span><strong class="def-name">file-selinux-context</strong> <var class="def-var-arguments">filename</var><a class="copiable-link" href="#index-file_002dselinux_002dcontext"> &para;</a></span></dt>
<dd><p>This function returns the SELinux security context of the file
<var class="var">filename</var>.  This return value is a list of the form
<code class="code">(<var class="var">user</var> <var class="var">role</var> <var class="var">type</var> <var class="var">range</var>)</code>, whose elements
are the context&rsquo;s user, role, type, and range respectively, as Lisp
strings.  See the SELinux documentation for details about what these
actually mean.
</p>
<p>If the file does not exist or is inaccessible, or if the system does
not support SELinux, or if Emacs was not compiled with SELinux
support, then the return value is <code class="code">(nil nil nil nil)</code>.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Locating-Files.html">How to Locate Files in Standard Places</a>, Previous: <a href="Truenames.html">Truenames</a>, Up: <a href="Information-about-Files.html">Information about Files</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
