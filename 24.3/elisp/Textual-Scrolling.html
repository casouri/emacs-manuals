<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.3.

Copyright © 1990-1996, 1998-2013 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Textual Scrolling (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Textual Scrolling (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Textual Scrolling (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Windows.html" rel="up" title="Windows">
<link href="Vertical-Scrolling.html" rel="next" title="Vertical Scrolling">
<link href="Window-Start-and-End.html" rel="prev" title="Window Start and End">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Textual-Scrolling">
<div class="nav-panel">
<p>
Next: <a href="Vertical-Scrolling.html" accesskey="n" rel="next">Vertical Fractional Scrolling</a>, Previous: <a href="Window-Start-and-End.html" accesskey="p" rel="prev">The Window Start and End Positions</a>, Up: <a href="Windows.html" accesskey="u" rel="up">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Textual-Scrolling-1"><span>28.20 Textual Scrolling<a class="copiable-link" href="#Textual-Scrolling-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-textual-scrolling"></a>
<a class="index-entry-id" id="index-scrolling-textually"></a>

<p><em class="dfn">Textual scrolling</em> means moving the text up or down through a
window.  It works by changing the window&rsquo;s display-start location.  It
may also change the value of <code class="code">window-point</code> to keep point on the
screen (see <a class="pxref" href="Window-Point.html">Windows and Point</a>).
</p>
<p>The basic textual scrolling functions are <code class="code">scroll-up</code> (which
scrolls forward) and <code class="code">scroll-down</code> (which scrolls backward).  In
these function names, &ldquo;up&rdquo; and &ldquo;down&rdquo; refer to the direction of
motion of the buffer text relative to the window.  Imagine that the
text is written on a long roll of paper and that the scrolling
commands move the paper up and down.  Thus, if you are looking at the
middle of a buffer and repeatedly call <code class="code">scroll-down</code>, you will
eventually see the beginning of the buffer.
</p>
<p>Unfortunately, this sometimes causes confusion, because some people
tend to think in terms of the opposite convention: they
imagine the window moving over text that remains in place, so that
&ldquo;down&rdquo; commands take you to the end of the buffer.  This convention
is consistent with fact that such a command is bound to a key named
<kbd class="key">PageDown</kbd> on modern keyboards.
</p>
<p>Textual scrolling functions (aside from <code class="code">scroll-other-window</code>)
have unpredictable results if the current buffer is not the one
displayed in the selected window.  See <a class="xref" href="Current-Buffer.html">The Current Buffer</a>.
</p>
<p>If the window contains a row taller than the height of the window
(for example in the presence of a large image), the scroll functions
will adjust the window&rsquo;s vertical scroll position to scroll the
partially visible row.  Lisp callers can disable this feature by
binding the variable <code class="code">auto-window-vscroll</code> to <code class="code">nil</code>
(see <a class="pxref" href="Vertical-Scrolling.html">Vertical Fractional Scrolling</a>).
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-scroll_002dup"><span class="category-def">Command: </span><span><strong class="def-name">scroll-up</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-scroll_002dup"> &para;</a></span></dt>
<dd><p>This function scrolls forward by <var class="var">count</var> lines in the selected
window.
</p>
<p>If <var class="var">count</var> is negative, it scrolls backward instead.  If
<var class="var">count</var> is <code class="code">nil</code> (or omitted), the distance scrolled is
<code class="code">next-screen-context-lines</code> lines less than the height of the
window&rsquo;s text area.
</p>
<p>If the selected window cannot be scrolled any further, this function
signals an error.  Otherwise, it returns <code class="code">nil</code>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-scroll_002ddown"><span class="category-def">Command: </span><span><strong class="def-name">scroll-down</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-scroll_002ddown"> &para;</a></span></dt>
<dd><p>This function scrolls backward by <var class="var">count</var> lines in the selected
window.
</p>
<p>If <var class="var">count</var> is negative, it scrolls forward instead.  In other
respects, it behaves the same way as <code class="code">scroll-up</code> does.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-scroll_002dup_002dcommand"><span class="category-def">Command: </span><span><strong class="def-name">scroll-up-command</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-scroll_002dup_002dcommand"> &para;</a></span></dt>
<dd><p>This behaves like <code class="code">scroll-up</code>, except that if the selected window
cannot be scrolled any further and the value of the variable
<code class="code">scroll-error-top-bottom</code> is <code class="code">t</code>, it tries to move to the
end of the buffer instead.  If point is already there, it signals an
error.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-scroll_002ddown_002dcommand"><span class="category-def">Command: </span><span><strong class="def-name">scroll-down-command</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-scroll_002ddown_002dcommand"> &para;</a></span></dt>
<dd><p>This behaves like <code class="code">scroll-down</code>, except that if the selected
window cannot be scrolled any further and the value of the variable
<code class="code">scroll-error-top-bottom</code> is <code class="code">t</code>, it tries to move to the
beginning of the buffer instead.  If point is already there, it
signals an error.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-scroll_002dother_002dwindow"><span class="category-def">Command: </span><span><strong class="def-name">scroll-other-window</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-scroll_002dother_002dwindow"> &para;</a></span></dt>
<dd><p>This function scrolls the text in another window upward <var class="var">count</var>
lines.  Negative values of <var class="var">count</var>, or <code class="code">nil</code>, are handled
as in <code class="code">scroll-up</code>.
</p>
<p>You can specify which buffer to scroll by setting the variable
<code class="code">other-window-scroll-buffer</code> to a buffer.  If that buffer isn&rsquo;t
already displayed, <code class="code">scroll-other-window</code> displays it in some
window.
</p>
<p>When the selected window is the minibuffer, the next window is normally
the leftmost one immediately above it.  You can specify a different
window to scroll, when the minibuffer is selected, by setting the variable
<code class="code">minibuffer-scroll-window</code>.  This variable has no effect when any
other window is selected.  When it is non-<code class="code">nil</code> and the
minibuffer is selected, it takes precedence over
<code class="code">other-window-scroll-buffer</code>.  See <a class="xref" href="Minibuffer-Misc.html#Definition-of-minibuffer_002dscroll_002dwindow">Definition of minibuffer-scroll-window</a>.
</p>
<p>When the minibuffer is active, it is the next window if the selected
window is the one at the bottom right corner.  In this case,
<code class="code">scroll-other-window</code> attempts to scroll the minibuffer.  If the
minibuffer contains just one line, it has nowhere to scroll to, so the
line reappears after the echo area momentarily displays the message
&lsquo;<samp class="samp">End of buffer</samp>&rsquo;.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-other_002dwindow_002dscroll_002dbuffer"><span class="category-def">Variable: </span><span><strong class="def-name">other-window-scroll-buffer</strong><a class="copiable-link" href="#index-other_002dwindow_002dscroll_002dbuffer"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, it tells <code class="code">scroll-other-window</code>
which buffer&rsquo;s window to scroll.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002dmargin"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-margin</strong><a class="copiable-link" href="#index-scroll_002dmargin"> &para;</a></span></dt>
<dd><p>This option specifies the size of the scroll margin&mdash;a minimum number
of lines between point and the top or bottom of a window.  Whenever
point gets within this many lines of the top or bottom of the window,
redisplay scrolls the text automatically (if possible) to move point
out of the margin, closer to the center of the window.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002dconservatively"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-conservatively</strong><a class="copiable-link" href="#index-scroll_002dconservatively"> &para;</a></span></dt>
<dd><p>This variable controls how scrolling is done automatically when point
moves off the screen (or into the scroll margin).  If the value is a
positive integer <var class="var">n</var>, then redisplay scrolls the text up to
<var class="var">n</var> lines in either direction, if that will bring point back into
proper view.  This behavior is called <em class="dfn">conservative scrolling</em>.
Otherwise, scrolling happens in the usual way, under the control of
other variables such as <code class="code">scroll-up-aggressively</code> and
<code class="code">scroll-down-aggressively</code>.
</p>
<p>The default value is zero, which means that conservative scrolling
never happens.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002ddown_002daggressively"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-down-aggressively</strong><a class="copiable-link" href="#index-scroll_002ddown_002daggressively"> &para;</a></span></dt>
<dd><p>The value of this variable should be either <code class="code">nil</code> or a fraction
<var class="var">f</var> between 0 and 1.  If it is a fraction, that specifies where on
the screen to put point when scrolling down.  More precisely, when a
window scrolls down because point is above the window start, the new
start position is chosen to put point <var class="var">f</var> part of the window
height from the top.  The larger <var class="var">f</var>, the more aggressive the
scrolling.
</p>
<p>A value of <code class="code">nil</code> is equivalent to .5, since its effect is to center
point.  This variable automatically becomes buffer-local when set in any
fashion.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002dup_002daggressively"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-up-aggressively</strong><a class="copiable-link" href="#index-scroll_002dup_002daggressively"> &para;</a></span></dt>
<dd><p>Likewise, for scrolling up.  The value, <var class="var">f</var>, specifies how far
point should be placed from the bottom of the window; thus, as with
<code class="code">scroll-up-aggressively</code>, a larger value scrolls more aggressively.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002dstep"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-step</strong><a class="copiable-link" href="#index-scroll_002dstep"> &para;</a></span></dt>
<dd><p>This variable is an older variant of <code class="code">scroll-conservatively</code>.
The difference is that if its value is <var class="var">n</var>, that permits scrolling
only by precisely <var class="var">n</var> lines, not a smaller number.  This feature
does not work with <code class="code">scroll-margin</code>.  The default value is zero.
</p></dd></dl>

<a class="index-entry-id" id="index-scroll_002dcommand-property"></a>
<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002dpreserve_002dscreen_002dposition"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-preserve-screen-position</strong><a class="copiable-link" href="#index-scroll_002dpreserve_002dscreen_002dposition"> &para;</a></span></dt>
<dd><p>If this option is <code class="code">t</code>, whenever a scrolling command moves point
off-window, Emacs tries to adjust point to keep the cursor at its old
vertical position in the window, rather than the window edge.
</p>
<p>If the value is non-<code class="code">nil</code> and not <code class="code">t</code>, Emacs adjusts point
to keep the cursor at the same vertical position, even if the
scrolling command didn&rsquo;t move point off-window.
</p>
<p>This option affects all scroll commands that have a non-<code class="code">nil</code>
<code class="code">scroll-command</code> symbol property.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-next_002dscreen_002dcontext_002dlines"><span class="category-def">User Option: </span><span><strong class="def-name">next-screen-context-lines</strong><a class="copiable-link" href="#index-next_002dscreen_002dcontext_002dlines"> &para;</a></span></dt>
<dd><p>The value of this variable is the number of lines of continuity to
retain when scrolling by full screens.  For example, <code class="code">scroll-up</code>
with an argument of <code class="code">nil</code> scrolls so that this many lines at the
bottom of the window appear instead at the top.  The default value is
<code class="code">2</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-scroll_002derror_002dtop_002dbottom"><span class="category-def">User Option: </span><span><strong class="def-name">scroll-error-top-bottom</strong><a class="copiable-link" href="#index-scroll_002derror_002dtop_002dbottom"> &para;</a></span></dt>
<dd><p>If this option is <code class="code">nil</code> (the default), <code class="code">scroll-up-command</code>
and <code class="code">scroll-down-command</code> simply signal an error when no more
scrolling is possible.
</p>
<p>If the value is <code class="code">t</code>, these commands instead move point to the
beginning or end of the buffer (depending on scrolling direction);
only if point is already on that position do they signal an error.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-recenter"><span class="category-def">Command: </span><span><strong class="def-name">recenter</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-recenter"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-centering-point"></a>
<p>This function scrolls the text in the selected window so that point is
displayed at a specified vertical position within the window.  It does
not &ldquo;move point&rdquo; with respect to the text.
</p>
<p>If <var class="var">count</var> is a non-negative number, that puts the line containing
point <var class="var">count</var> lines down from the top of the window.  If
<var class="var">count</var> is a negative number, then it counts upward from the
bottom of the window, so that &minus;1 stands for the last usable
line in the window.
</p>
<p>If <var class="var">count</var> is <code class="code">nil</code> (or a non-<code class="code">nil</code> list),
<code class="code">recenter</code> puts the line containing point in the middle of the
window.  If <var class="var">count</var> is <code class="code">nil</code>, this function may redraw the
frame, according to the value of <code class="code">recenter-redisplay</code>.
</p>
<p>When <code class="code">recenter</code> is called interactively, <var class="var">count</var> is the raw
prefix argument.  Thus, typing <kbd class="kbd">C-u</kbd> as the prefix sets the
<var class="var">count</var> to a non-<code class="code">nil</code> list, while typing <kbd class="kbd">C-u 4</kbd> sets
<var class="var">count</var> to 4, which positions the current line four lines from the
top.
</p>
<p>With an argument of zero, <code class="code">recenter</code> positions the current line at
the top of the window.  The command <code class="code">recenter-top-bottom</code> offers
a more convenient way to achieve this.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-recenter_002dredisplay"><span class="category-def">User Option: </span><span><strong class="def-name">recenter-redisplay</strong><a class="copiable-link" href="#index-recenter_002dredisplay"> &para;</a></span></dt>
<dd><p>If this variable is non-<code class="code">nil</code>, calling <code class="code">recenter</code> with a
<code class="code">nil</code> argument redraws the frame.  The default value is
<code class="code">tty</code>, which means only redraw the frame if it is a tty frame.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-recenter_002dtop_002dbottom"><span class="category-def">Command: </span><span><strong class="def-name">recenter-top-bottom</strong> <var class="def-var-arguments">&amp;optional count</var><a class="copiable-link" href="#index-recenter_002dtop_002dbottom"> &para;</a></span></dt>
<dd><p>This command, which is the default binding for <kbd class="kbd">C-l</kbd>, acts like
<code class="code">recenter</code>, except if called with no argument.  In that case,
successive calls place point according to the cycling order defined
by the variable <code class="code">recenter-positions</code>.
</p></dd></dl>

<dl class="first-defvr first-defopt-alias-first-defvr">
<dt class="defvr defopt-alias-defvr" id="index-recenter_002dpositions"><span class="category-def">User Option: </span><span><strong class="def-name">recenter-positions</strong><a class="copiable-link" href="#index-recenter_002dpositions"> &para;</a></span></dt>
<dd><p>This variable controls how <code class="code">recenter-top-bottom</code> behaves when
called with no argument.  The default value is <code class="code">(middle top
bottom)</code>, which means that successive calls of
<code class="code">recenter-top-bottom</code> with no argument cycle between placing
point at the middle, top, and bottom of the window.
</p></dd></dl>


</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Vertical-Scrolling.html">Vertical Fractional Scrolling</a>, Previous: <a href="Window-Start-and-End.html">The Window Start and End Positions</a>, Up: <a href="Windows.html">Windows</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
