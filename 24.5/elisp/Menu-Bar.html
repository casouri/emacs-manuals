<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.5.

Copyright Â© 1990-1996, 1998-2015 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Menu Bar (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Menu Bar (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Menu Bar (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Menu-Keymaps.html" rel="up" title="Menu Keymaps">
<link href="Tool-Bar.html" rel="next" title="Tool Bar">
<link href="Menu-Example.html" rel="prev" title="Menu Example">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Menu-Bar">
<div class="nav-panel">
<p>
Next: <a href="Tool-Bar.html" accesskey="n" rel="next">Tool bars</a>, Previous: <a href="Menu-Example.html" accesskey="p" rel="prev">Menu Example</a>, Up: <a href="Menu-Keymaps.html" accesskey="u" rel="up">Menu Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="The-Menu-Bar"><span>21.17.5 The Menu Bar<a class="copiable-link" href="#The-Menu-Bar"> &para;</a></span></h4>
<a class="index-entry-id" id="index-menu-bar"></a>

<p>Emacs usually shows a <em class="dfn">menu bar</em> at the top of each frame.
See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Menu-Bars.html#Menu-Bars">Menu Bars</a> in <cite class="cite">The GNU Emacs Manual</cite>.  Menu bar items are
subcommands of the fake &ldquo;function key&rdquo; <code class="code">menu-bar</code>, as defined
in the active keymaps.
</p>
<p>To add an item to the menu bar, invent a fake &ldquo;function key&rdquo; of your
own (let&rsquo;s call it <var class="var">key</var>), and make a binding for the key sequence
<code class="code">[menu-bar <var class="var">key</var>]</code>.  Most often, the binding is a menu keymap,
so that pressing a button on the menu bar item leads to another menu.
</p>
<p>When more than one active keymap defines the same &ldquo;function key&rdquo;
for the menu bar, the item appears just once.  If the user clicks on
that menu bar item, it brings up a single, combined menu containing
all the subcommands of that item&mdash;the global subcommands, the local
subcommands, and the minor mode subcommands.
</p>
<p>The variable <code class="code">overriding-local-map</code> is normally ignored when
determining the menu bar contents.  That is, the menu bar is computed
from the keymaps that would be active if <code class="code">overriding-local-map</code>
were <code class="code">nil</code>.  See <a class="xref" href="Active-Keymaps.html">Active Keymaps</a>.
</p>
<p>Here&rsquo;s an example of setting up a menu bar item:
</p>
<div class="example">
<div class="group"><pre class="example-preformatted">;; <span class="r">Make a menu keymap (with a prompt string)</span>
;; <span class="r">and make it the menu bar item&rsquo;s definition.</span>
(define-key global-map [menu-bar words]
  (cons &quot;Words&quot; (make-sparse-keymap &quot;Words&quot;)))
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">;; <span class="r">Define specific subcommands in this menu.</span>
(define-key global-map
  [menu-bar words forward]
  '(&quot;Forward word&quot; . forward-word))
</pre></div><div class="group"><pre class="example-preformatted">(define-key global-map
  [menu-bar words backward]
  '(&quot;Backward word&quot; . backward-word))
</pre></div></div>

<p>A local keymap can cancel a menu bar item made by the global keymap by
rebinding the same fake function key with <code class="code">undefined</code> as the
binding.  For example, this is how Dired suppresses the &lsquo;<samp class="samp">Edit</samp>&rsquo; menu
bar item:
</p>
<div class="example">
<pre class="example-preformatted">(define-key dired-mode-map [menu-bar edit] 'undefined)
</pre></div>

<p>Here, <code class="code">edit</code> is the fake function key used by the global map for
the &lsquo;<samp class="samp">Edit</samp>&rsquo; menu bar item.  The main reason to suppress a global
menu bar item is to regain space for mode-specific items.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-menu_002dbar_002dfinal_002ditems"><span class="category-def">Variable: </span><span><strong class="def-name">menu-bar-final-items</strong><a class="copiable-link" href="#index-menu_002dbar_002dfinal_002ditems"> &para;</a></span></dt>
<dd><p>Normally the menu bar shows global items followed by items defined by the
local maps.
</p>
<p>This variable holds a list of fake function keys for items to display at
the end of the menu bar rather than in normal sequence.  The default
value is <code class="code">(help-menu)</code>; thus, the &lsquo;<samp class="samp">Help</samp>&rsquo; menu item normally appears
at the end of the menu bar, following local menu items.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-menu_002dbar_002dupdate_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">menu-bar-update-hook</strong><a class="copiable-link" href="#index-menu_002dbar_002dupdate_002dhook"> &para;</a></span></dt>
<dd><p>This normal hook is run by redisplay to update the menu bar contents,
before redisplaying the menu bar.  You can use it to update menus
whose contents should vary.  Since this hook is run frequently, we
advise you to ensure that the functions it calls do not take much time
in the usual case.
</p></dd></dl>

<p>Next to every menu bar item, Emacs displays a key binding that runs
the same command (if such a key binding exists).  This serves as a
convenient hint for users who do not know the key binding.  If a
command has multiple bindings, Emacs normally displays the first one
it finds.  You can specify one particular key binding by assigning an
<code class="code">:advertised-binding</code> symbol property to the command.  See <a class="xref" href="Keys-in-Documentation.html">Substituting Key Bindings in Documentation</a>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Tool-Bar.html">Tool bars</a>, Previous: <a href="Menu-Example.html">Menu Example</a>, Up: <a href="Menu-Keymaps.html">Menu Keymaps</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
