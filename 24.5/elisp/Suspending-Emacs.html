<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 24.5.

Copyright Â© 1990-1996, 1998-2015 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Suspending Emacs (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Suspending Emacs (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Suspending Emacs (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Getting-Out.html" rel="up" title="Getting Out">
<link href="Killing-Emacs.html" rel="prev" title="Killing Emacs">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Suspending-Emacs">
<div class="nav-panel">
<p>
Previous: <a href="Killing-Emacs.html" accesskey="p" rel="prev">Killing Emacs</a>, Up: <a href="Getting-Out.html" accesskey="u" rel="up">Getting Out of Emacs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Suspending-Emacs-1"><span>38.2.2 Suspending Emacs<a class="copiable-link" href="#Suspending-Emacs-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-suspending-Emacs"></a>

<p>On text terminals, it is possible to <em class="dfn">suspend Emacs</em>, which
means stopping Emacs temporarily and returning control to its superior
process, which is usually the shell.  This allows you to resume
editing later in the same Emacs process, with the same buffers, the
same kill ring, the same undo history, and so on.  To resume Emacs,
use the appropriate command in the parent shell&mdash;most likely
<code class="code">fg</code>.
</p>
<a class="index-entry-id" id="index-controlling-terminal"></a>
<p>Suspending works only on a terminal device from which the Emacs
session was started.  We call that device the <em class="dfn">controlling
terminal</em> of the session.  Suspending is not allowed if the
controlling terminal is a graphical terminal.  Suspending is usually
not relevant in graphical environments, since you can simply switch to
another application without doing anything special to Emacs.
</p>
<a class="index-entry-id" id="index-SIGTSTP"></a>
<p>Some operating systems (those without <code class="code">SIGTSTP</code>, or MS-DOS) do
not support suspension of jobs; on these systems, &ldquo;suspension&rdquo;
actually creates a new shell temporarily as a subprocess of Emacs.
Then you would exit the shell to return to Emacs.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-suspend_002demacs"><span class="category-def">Command: </span><span><strong class="def-name">suspend-emacs</strong> <var class="def-var-arguments">&amp;optional string</var><a class="copiable-link" href="#index-suspend_002demacs"> &para;</a></span></dt>
<dd><p>This function stops Emacs and returns control to the superior process.
If and when the superior process resumes Emacs, <code class="code">suspend-emacs</code>
returns <code class="code">nil</code> to its caller in Lisp.
</p>
<p>This function works only on the controlling terminal of the Emacs
session; to relinquish control of other tty devices, use
<code class="code">suspend-tty</code> (see below).  If the Emacs session uses more than
one terminal, you must delete the frames on all the other terminals
before suspending Emacs, or this function signals an error.
See <a class="xref" href="Multiple-Terminals.html">Multiple Terminals</a>.
</p>
<p>If <var class="var">string</var> is non-<code class="code">nil</code>, its characters are sent to Emacs&rsquo;s
superior shell, to be read as terminal input.
The characters in <var class="var">string</var> are not echoed by the superior shell;
only the results appear.
</p>
<p>Before suspending, <code class="code">suspend-emacs</code> runs the normal hook
<code class="code">suspend-hook</code>.  After the user resumes Emacs,
<code class="code">suspend-emacs</code> runs the normal hook <code class="code">suspend-resume-hook</code>.
See <a class="xref" href="Hooks.html">Hooks</a>.
</p>
<p>The next redisplay after resumption will redraw the entire screen,
unless the variable <code class="code">no-redraw-on-reenter</code> is non-<code class="code">nil</code>.
See <a class="xref" href="Refresh-Screen.html">Refreshing the Screen</a>.
</p>
<p>Here is an example of how you could use these hooks:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">(add-hook 'suspend-hook
          (lambda () (or (y-or-n-p &quot;Really suspend? &quot;)
                         (error &quot;Suspend canceled&quot;))))
</pre></div><pre class="example-preformatted">(add-hook 'suspend-resume-hook (lambda () (message &quot;Resumed!&quot;)
                                 (sit-for 2)))
</pre></div>

<p>Here is what you would see upon evaluating <code class="code">(suspend-emacs &quot;pwd&quot;)</code>:
</p>
<div class="example smallexample">
<div class="group"><pre class="example-preformatted">---------- Buffer: Minibuffer ----------
Really suspend? <kbd class="kbd">y</kbd>
---------- Buffer: Minibuffer ----------
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">---------- Parent Shell ----------
bash$ /home/username
bash$ fg
</pre></div><pre class="example-preformatted">

</pre><div class="group"><pre class="example-preformatted">---------- Echo Area ----------
Resumed!
</pre></div></div>

<p>Note that &lsquo;<samp class="samp">pwd</samp>&rsquo; is not echoed after Emacs is suspended.  But it
is read and executed by the shell.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-suspend_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">suspend-hook</strong><a class="copiable-link" href="#index-suspend_002dhook"> &para;</a></span></dt>
<dd><p>This variable is a normal hook that Emacs runs before suspending.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-suspend_002dresume_002dhook"><span class="category-def">Variable: </span><span><strong class="def-name">suspend-resume-hook</strong><a class="copiable-link" href="#index-suspend_002dresume_002dhook"> &para;</a></span></dt>
<dd><p>This variable is a normal hook that Emacs runs on resuming
after a suspension.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-suspend_002dtty"><span class="category-def">Function: </span><span><strong class="def-name">suspend-tty</strong> <var class="def-var-arguments">&amp;optional tty</var><a class="copiable-link" href="#index-suspend_002dtty"> &para;</a></span></dt>
<dd><p>If <var class="var">tty</var> specifies a terminal device used by Emacs, this function
relinquishes the device and restores it to its prior state.  Frames
that used the device continue to exist, but are not updated and Emacs
doesn&rsquo;t read input from them.  <var class="var">tty</var> can be a terminal object, a
frame (meaning the terminal for that frame), or <code class="code">nil</code> (meaning
the terminal for the selected frame).  See <a class="xref" href="Multiple-Terminals.html">Multiple Terminals</a>.
</p>
<p>If <var class="var">tty</var> is already suspended, this function does nothing.
</p>
<a class="index-entry-id" id="index-suspend_002dtty_002dfunctions"></a>
<p>This function runs the hook <code class="code">suspend-tty-functions</code>, passing the
terminal object as an argument to each function.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-resume_002dtty"><span class="category-def">Function: </span><span><strong class="def-name">resume-tty</strong> <var class="def-var-arguments">&amp;optional tty</var><a class="copiable-link" href="#index-resume_002dtty"> &para;</a></span></dt>
<dd><p>This function resumes the previously suspended terminal device
<var class="var">tty</var>; where <var class="var">tty</var> has the same possible values as it does
for <code class="code">suspend-tty</code>.
</p>
<a class="index-entry-id" id="index-resume_002dtty_002dfunctions"></a>
<p>This function reopens the terminal device, re-initializes it, and
redraws it with that terminal&rsquo;s selected frame.  It then runs the
hook <code class="code">resume-tty-functions</code>, passing the terminal object as an
argument to each function.
</p>
<p>If the same device is already used by another Emacs terminal, this
function signals an error.  If <var class="var">tty</var> is not suspended, this
function does nothing.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-controlling_002dtty_002dp"><span class="category-def">Function: </span><span><strong class="def-name">controlling-tty-p</strong> <var class="def-var-arguments">&amp;optional tty</var><a class="copiable-link" href="#index-controlling_002dtty_002dp"> &para;</a></span></dt>
<dd><p>This function returns non-<code class="code">nil</code> if <var class="var">tty</var> is the
controlling terminal of the Emacs session; <var class="var">tty</var> can be a
terminal object, a frame (meaning the terminal for that frame), or
<code class="code">nil</code> (meaning the terminal for the selected frame).
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-suspend_002dframe"><span class="category-def">Command: </span><span><strong class="def-name">suspend-frame</strong><a class="copiable-link" href="#index-suspend_002dframe"> &para;</a></span></dt>
<dd><p>This command <em class="dfn">suspends</em> a frame.  For GUI frames, it calls
<code class="code">iconify-frame</code> (see <a class="pxref" href="Visibility-of-Frames.html">Visibility of Frames</a>); for frames on
text terminals, it calls either <code class="code">suspend-emacs</code> or
<code class="code">suspend-tty</code>, depending on whether the frame is displayed on the
controlling terminal device or not.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Killing-Emacs.html">Killing Emacs</a>, Up: <a href="Getting-Out.html">Getting Out of Emacs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
