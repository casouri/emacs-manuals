<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 26.1.

Copyright Â© 1990-1996, 1998-2018 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Disabling Commands (GNU Emacs Lisp Reference Manual)</title>

<meta name="description" content="Disabling Commands (GNU Emacs Lisp Reference Manual)">
<meta name="keywords" content="Disabling Commands (GNU Emacs Lisp Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Index.html" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Command-Loop.html" rel="up" title="Command Loop">
<link href="Command-History.html" rel="next" title="Command History">
<link href="Recursive-Editing.html" rel="prev" title="Recursive Editing">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<div class="section-level-extent" id="Disabling-Commands">
<div class="nav-panel">
<p>
Next: <a href="Command-History.html" accesskey="n" rel="next">Command History</a>, Previous: <a href="Recursive-Editing.html" accesskey="p" rel="prev">Recursive Editing</a>, Up: <a href="Command-Loop.html" accesskey="u" rel="up">Command Loop</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Disabling-Commands-1"><span>21.14 Disabling Commands<a class="copiable-link" href="#Disabling-Commands-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-disabled-command"></a>

<p><em class="dfn">Disabling a command</em> marks the command as requiring user
confirmation before it can be executed.  Disabling is used for commands
which might be confusing to beginning users, to prevent them from using
the commands by accident.
</p>
<a class="index-entry-id" id="index-disabled"></a>
<p>The low-level mechanism for disabling a command is to put a
non-<code class="code">nil</code> <code class="code">disabled</code> property on the Lisp symbol for the
command.  These properties are normally set up by the user&rsquo;s
init file (see <a class="pxref" href="Init-File.html">The Init File</a>) with Lisp expressions such as this:
</p>
<div class="example">
<pre class="example-preformatted">(put 'upcase-region 'disabled t)
</pre></div>

<p>For a few commands, these properties are present by default (you can
remove them in your init file if you wish).
</p>
<p>If the value of the <code class="code">disabled</code> property is a string, the message
saying the command is disabled includes that string.  For example:
</p>
<div class="example">
<pre class="example-preformatted">(put 'delete-region 'disabled
     &quot;Text deleted this way cannot be yanked back!\n&quot;)
</pre></div>

<p>See <a data-manual="emacs" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Disabling.html#Disabling">Disabling</a> in <cite class="cite">The GNU Emacs Manual</cite>, for the details on
what happens when a disabled command is invoked interactively.
Disabling a command has no effect on calling it as a function from Lisp
programs.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-enable_002dcommand"><span class="category-def">Command: </span><span><strong class="def-name">enable-command</strong> <var class="def-var-arguments">command</var><a class="copiable-link" href="#index-enable_002dcommand"> &para;</a></span></dt>
<dd><p>Allow <var class="var">command</var> (a symbol) to be executed without special
confirmation from now on, and alter the user&rsquo;s init file (see <a class="pxref" href="Init-File.html">The Init File</a>) so that this will apply to future sessions.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-disable_002dcommand"><span class="category-def">Command: </span><span><strong class="def-name">disable-command</strong> <var class="def-var-arguments">command</var><a class="copiable-link" href="#index-disable_002dcommand"> &para;</a></span></dt>
<dd><p>Require special confirmation to execute <var class="var">command</var> from now on, and
alter the user&rsquo;s init file so that this will apply to future sessions.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-disabled_002dcommand_002dfunction"><span class="category-def">Variable: </span><span><strong class="def-name">disabled-command-function</strong><a class="copiable-link" href="#index-disabled_002dcommand_002dfunction"> &para;</a></span></dt>
<dd><p>The value of this variable should be a function.  When the user
invokes a disabled command interactively, this function is called
instead of the disabled command.  It can use <code class="code">this-command-keys</code>
to determine what the user typed to run the command, and thus find the
command itself.
</p>
<p>The value may also be <code class="code">nil</code>.  Then all commands work normally,
even disabled ones.
</p>
<p>By default, the value is a function that asks the user whether to
proceed.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Command-History.html">Command History</a>, Previous: <a href="Recursive-Editing.html">Recursive Editing</a>, Up: <a href="Command-Loop.html">Command Loop</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
